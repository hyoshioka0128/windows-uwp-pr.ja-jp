---
author: stevewhims
description: Windows SDK には C++/WinRT が含まれます。 これは Windows ランタイム API の標準的な C++ 言語プロジェクションで、ヘッダー ファイルに単独で実装され、最新の Windows API への最上位アクセス権を提供するように設計されています。 C++/WinRT の場合、標準に準拠した C++ のコンパイラを使用して Windows ランタイム API を作成および使用できます。
title: C++/WinRT
ms.author: stwhi
ms.date: 04/10/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: windows 10、uwp、標準、c++、cpp、winrt、プロジェクション
ms.localizationpriority: medium
ms.openlocfilehash: e364283c998179264fc3aa4cb8581d511608f251
ms.sourcegitcommit: ab92c3e0dd294a36e7f65cf82522ec621699db87
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/03/2018
ms.locfileid: "1831816"
---
# [<a name="cwinrt"></a><span data-ttu-id="79c51-106">C++/WinRT</span><span class="sxs-lookup"><span data-stu-id="79c51-106">C++/WinRT</span></span>](/windows/uwp/cpp-and-winrt-apis/intro-to-using-cpp-with-winrt)
<BR/>
> [!VIDEO https://www.youtube.com/embed/TLSul1XxppA]

<span data-ttu-id="79c51-107">バージョン 10.0.17134.0 (Windows 10、バージョン 1803) に導入されたため、Windows SDK に C++/WinRT が含まれるようになりました。</span><span class="sxs-lookup"><span data-stu-id="79c51-107">Introduced in version 10.0.17134.0 (Windows 10, version 1803), the Windows SDK now includes C++/WinRT.</span></span> <span data-ttu-id="79c51-108">C++/WinRT は Windows ランタイム (WinRT) API の標準的な最新の C++17 言語プロジェクションで、ヘッダー ファイルに単独で実装され、最新の Windows API への最上位アクセス権を提供するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="79c51-108">C++/WinRT is an entirely standard modern C++17 language projection for Windows Runtime (WinRT) APIs, implemented solely in header files, and designed to provide you with first-class access to the modern Windows API.</span></span> <span data-ttu-id="79c51-109">C++/WinRT の場合、標準に準拠した C++17 のコンパイラを使用して Windows ランタイム API を作成および使用できます。</span><span class="sxs-lookup"><span data-stu-id="79c51-109">With C++/WinRT, you can author and consume Windows Runtime APIs using any standards-compliant C++17 compiler.</span></span>

<span data-ttu-id="79c51-110">C++/WinRT は、Windows 用の美しく高速なコードの作成に興味のある開発者向けです。</span><span class="sxs-lookup"><span data-stu-id="79c51-110">C++/WinRT is for any developer interested in writing beautiful and fast code for Windows.</span></span> <span data-ttu-id="79c51-111">次に、その理由を示します。</span><span class="sxs-lookup"><span data-stu-id="79c51-111">Here's why.</span></span>

## <a name="the-case-for-cwinrt"></a><span data-ttu-id="79c51-112">C++/WinRT の場合</span><span class="sxs-lookup"><span data-stu-id="79c51-112">The case for C++/WinRT</span></span>
<span data-ttu-id="79c51-113">C++ プログラミング言語は、企業*と*アプリケーションの独立系ソフトウェア ベンダー (ISV) セグメントの両方で使用されています。これらでは、正確性、品質、パフォーマンスが高く評価されています。</span><span class="sxs-lookup"><span data-stu-id="79c51-113">The C++ programming language is used both in the enterprise *and* independent software vendor (ISV) segments for applications where high levels of correctness, quality, and performance are valued.</span></span> <span data-ttu-id="79c51-114">たとえば、システム プログラミング、リソースが限られた埋め込みシステムやモバイル システム、ゲームやグラフィックス、デバイス ドライバー、工業用、科学技術用、医療用医療アプリケーションなどです。</span><span class="sxs-lookup"><span data-stu-id="79c51-114">For example: systems programming; resource-constrained embedded and mobile systems; games and graphics; device drivers; and industrial, scientific, and medical applications, to name but some.</span></span>

<span data-ttu-id="79c51-115">言語の観点から見ると、C++ では、型が豊富で軽量な抽象化を常に作成および使用します。</span><span class="sxs-lookup"><span data-stu-id="79c51-115">From a language point of view, C++ has always been about authoring and consuming abstractions that are both type-rich and lightweight.</span></span> <span data-ttu-id="79c51-116">ただし、RAW ポインター、RAW ループ、煩雑なメモリ割り当て、C++98 のリリース以降、言語は急激に変化しました。</span><span class="sxs-lookup"><span data-stu-id="79c51-116">But the language has changed radically since the raw pointers, raw loops, and painstaking memory allocation and releasing of C++98.</span></span> <span data-ttu-id="79c51-117">最新の C++ (C++11 以降) は、アイデアの明確な表現、シンプルさ、読みやすさ、バグ発生の大幅な軽減が中心です。</span><span class="sxs-lookup"><span data-stu-id="79c51-117">Modern C++ (from C++11 onward) is about clear expression of ideas, simplicity, readability, and a much lower likelihood of introducing bugs.</span></span>

<span data-ttu-id="79c51-118">C++ を使用して Windows ランタイム API を作成および使用する場合は、C++/WinRT を使用します。</span><span class="sxs-lookup"><span data-stu-id="79c51-118">For authoring and consuming Windows Runtime APIs using C++, there is C++/WinRT.</span></span> <span data-ttu-id="79c51-119">これは、[Windows ランタイム C++ テンプレート ライブラリ (WRL)](/cpp/windows/windows-runtime-cpp-template-library-wrl?branch=live) と [C++/CX](/cpp/cppcx/visual-c-language-reference-c-cx?branch=live) に代わる Microsoft の推奨です。</span><span class="sxs-lookup"><span data-stu-id="79c51-119">This is Microsoft's recommended replacement for the [Windows Runtime C++ Template Library (WRL)](/cpp/windows/windows-runtime-cpp-template-library-wrl?branch=live) and [C++/CX](/cpp/cppcx/visual-c-language-reference-c-cx?branch=live).</span></span>

<span data-ttu-id="79c51-120">C++/WinRT を使用する場合は、標準的な C++ データ型、アルゴリズム、およびキーワードを使用します。</span><span class="sxs-lookup"><span data-stu-id="79c51-120">You use standard C++ data types, algorithms, and keywords when you use C++/WinRT.</span></span> <span data-ttu-id="79c51-121">プロジェクションに独自のカスタム データ型はありませんが、多くの場合、標準型から適切に変換されるため、学習する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="79c51-121">The projection does have its own custom data types, but in most cases you don't need to learn them because they provide appropriate conversions to and from standard types.</span></span> <span data-ttu-id="79c51-122">このため、使い慣れた標準的な C++ 言語機能と使用中のソース コードを使用し続けることができます。</span><span class="sxs-lookup"><span data-stu-id="79c51-122">That way, you can continue to use the standard C++ language features that you're accustomed to using, and the source code that you already have.</span></span> <span data-ttu-id="79c51-123">C++/WinRT では、C++ アプリケーションで Windows ランタイム API を Win32 から UWP に非常に簡単に呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="79c51-123">C++/WinRT makes it extremely easy to call Windows Runtime APIs in any C++ application, from Win32 to UWP.</span></span>

<span data-ttu-id="79c51-124">Windows ランタイムの他の言語オプションに比べて、C++/WinRT はパフォーマンスが向上し、小さなバイナリを生成します。</span><span class="sxs-lookup"><span data-stu-id="79c51-124">C++/WinRT performs better and produces smaller binaries than any other language option for the Windows Runtime.</span></span> <span data-ttu-id="79c51-125">ABI インターフェイスを直接使用した手書きのコードよりも優れています。</span><span class="sxs-lookup"><span data-stu-id="79c51-125">It even outperforms handwritten code using the ABI interfaces directly.</span></span> <span data-ttu-id="79c51-126">このため、抽象化では、Visual C++ コンパイラが最適化するように設計されている最新の C++ イディオムを使用します。</span><span class="sxs-lookup"><span data-stu-id="79c51-126">That's because the abstractions use modern C++ idioms that the Visual C++ compiler is designed to optimize.</span></span> <span data-ttu-id="79c51-127">これには、C++/WinRT のパフォーマンス向上に特化した最新の Visual C++ の多くの新しい最適化機能だけでなく、マジック static、空の基底クラス、**strlen** の省略も含まれます。</span><span class="sxs-lookup"><span data-stu-id="79c51-127">This includes magic statics, empty base classes, **strlen** elision, as well as many newer optimizations in the latest version of Visual C++ targeted specifically at improving the performance of C++/WinRT.</span></span>

| <span data-ttu-id="79c51-128">トピック</span><span class="sxs-lookup"><span data-stu-id="79c51-128">Topic</span></span> | <span data-ttu-id="79c51-129">説明</span><span class="sxs-lookup"><span data-stu-id="79c51-129">Description</span></span> |
| - | - |
| [<span data-ttu-id="79c51-130">C++/WinRT の概要</span><span class="sxs-lookup"><span data-stu-id="79c51-130">Introduction to C++/WinRT</span></span>](intro-to-using-cpp-with-winrt.md) | <span data-ttu-id="79c51-131">C++/WinRT の紹介 &mdash; Windows ランタイム API 用の標準的な C++ 言語プロジェクション。</span><span class="sxs-lookup"><span data-stu-id="79c51-131">An introduction to C++/WinRT&mdash;a standard C++ language projection for Windows Runtime APIs.</span></span> |
| [<span data-ttu-id="79c51-132">よく寄せられる質問</span><span class="sxs-lookup"><span data-stu-id="79c51-132">Frequently-asked questions</span></span>](faq.md) | <span data-ttu-id="79c51-133">C++/WinRT での Windows ランタイム API の作成と使用に関する質問への回答です。</span><span class="sxs-lookup"><span data-stu-id="79c51-133">Answers to questions that you're likely to have about authoring and consuming Windows Runtime APIs with C++/WinRT.</span></span> |
| [<span data-ttu-id="79c51-134">トラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="79c51-134">Troubleshooting</span></span>](troubleshooting.md) | <span data-ttu-id="79c51-135">このトピックにある現象のトラブルシューティングおよび対処法に関する表は、新しいコードを作成しているか既存のアプリを移植しているかにはかかわらず役立つ可能性があります。</span><span class="sxs-lookup"><span data-stu-id="79c51-135">The table of troubleshooting symptoms and remedies in this topic may be helpful to you whether you're cutting new code or porting an existing app.</span></span> |
| [<span data-ttu-id="79c51-136">文字列の処理</span><span class="sxs-lookup"><span data-stu-id="79c51-136">String handling</span></span>](strings.md) | <span data-ttu-id="79c51-137">C++/WinRT では、標準的な C++ ワイド文字列型を使用して Windows ランタイム API を呼び出すか、[**winrt::hstring**](/uwp/cpp-ref-for-winrt/hstring) 型を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="79c51-137">With C++/WinRT, you can call Windows Runtime APIs using standard C++ wide string types, or you can use the [**winrt::hstring**](/uwp/cpp-ref-for-winrt/hstring) type.</span></span> |
| [<span data-ttu-id="79c51-138">標準的な C++ のデータ型と C++/WinRT</span><span class="sxs-lookup"><span data-stu-id="79c51-138">Standard C++ data types and C++/WinRT</span></span>](std-cpp-data-types.md) | <span data-ttu-id="79c51-139">C++/WinRT では、標準的な C++ データ型を使用して Windows ランタイム API を呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="79c51-139">With C++/WinRT, you can call Windows Runtime APIs using Standard C++ data types.</span></span> |
| [<span data-ttu-id="79c51-140">IInspectable へのスカラー値のボックス化とボックス化解除</span><span class="sxs-lookup"><span data-stu-id="79c51-140">Boxing and unboxing scalar values to IInspectable</span></span>](boxing.md) | <span data-ttu-id="79c51-141">スカラー値は、**IInspectable** を想定している関数に渡す前に、参照クラス オブジェクト内にラップする必要があります。</span><span class="sxs-lookup"><span data-stu-id="79c51-141">A scalar value needs to be wrapped inside a reference class object before being passed to a function that expects **IInspectable**.</span></span> <span data-ttu-id="79c51-142">このラッピング プロセスは、値の*ボックス化*と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="79c51-142">That wrapping process is known as *boxing* the value.</span></span> |
| [<span data-ttu-id="79c51-143">C++/WinRT での API の使用</span><span class="sxs-lookup"><span data-stu-id="79c51-143">Consume APIs with C++/WinRT</span></span>](consume-apis.md) | <span data-ttu-id="79c51-144">このトピックでは、C++/WinRT API を実装する Windows、サードパーティ コンポーネント ベンダー、またはユーザー自身に応じた使用方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="79c51-144">This topic shows how to consume C++/WinRT APIs, whether they're implemented by Windows, a third-party component vendor, or by yourself.</span></span> |
| [<span data-ttu-id="79c51-145">C++/WinRT での API の作成</span><span class="sxs-lookup"><span data-stu-id="79c51-145">Author APIs with C++/WinRT</span></span>](author-apis.md) | <span data-ttu-id="79c51-146">このトピックでは、直接的または間接的に **winrt::implements** 基本構造体を使用して、C++/WinRT API を作成する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="79c51-146">This topic shows how to author C++/WinRT APIs by using the **winrt::implements** base struct, either directly or indirectly.</span></span> |
| [<span data-ttu-id="79c51-147">デリゲートを使用したイベントの処理</span><span class="sxs-lookup"><span data-stu-id="79c51-147">Handle events by using delegates</span></span>](handle-events.md) | <span data-ttu-id="79c51-148">このトピックでは、C++/WinRT を使用したイベント処理デリゲートの登録方法と取り消し方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="79c51-148">This topic shows how to register and revoke event-handling delegates using C++/WinRT.</span></span> |
| [<span data-ttu-id="79c51-149">イベントの作成</span><span class="sxs-lookup"><span data-stu-id="79c51-149">Author events</span></span>](author-events.md) | <span data-ttu-id="79c51-150">このトピックでは、イベントを発生させるランタイム クラスを含む、Windows ランタイム コンポーネントを作成する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="79c51-150">This topic demonstrates how to author a Windows Runtime Component containing a runtime class that raises events.</span></span> <span data-ttu-id="79c51-151">コンポーネントを使用してイベントを処理するアプリも示します。</span><span class="sxs-lookup"><span data-stu-id="79c51-151">It also demonstrates an app that consumes the component and handles the events.</span></span> |
| [<span data-ttu-id="79c51-152">同時実行操作と非同期操作</span><span class="sxs-lookup"><span data-stu-id="79c51-152">Concurrency and asynchronous operations</span></span>](concurrency.md) | <span data-ttu-id="79c51-153">このトピックでは、C++/WinRT を使用した Windows ランタイムの非同期オブジェクトの作成方法と利用方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="79c51-153">This topic shows the ways in which you can both create and consume Windows Runtime asynchronous objects with C++/WinRT.</span></span> |
| [<span data-ttu-id="79c51-154">XAML コントロール、C++/WinRT プロパティへのバインド</span><span class="sxs-lookup"><span data-stu-id="79c51-154">XAML controls; bind to a C++/WinRT property</span></span>](binding-property.md) | <span data-ttu-id="79c51-155">XAML コントロールに効果的にバインドできるプロパティは、*監視可能な*プロパティと呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="79c51-155">A property that can be effectively bound to a XAML control is known as an *observable* property.</span></span> <span data-ttu-id="79c51-156">このトピックでは、監視可能なプロパティを実装および使用する方法と、XAML コントロールをバインドする方法を示します。</span><span class="sxs-lookup"><span data-stu-id="79c51-156">This topic shows how to implement and consume an observable property, and how to bind a XAML control to it.</span></span> |
| [<span data-ttu-id="79c51-157">XAML アイテム コントロール: C++/WinRT コレクションへのバインド</span><span class="sxs-lookup"><span data-stu-id="79c51-157">XAML items controls; bind to a C++/WinRT collection</span></span>](binding-collection.md) | <span data-ttu-id="79c51-158">XAML アイテム コントロールに効果的にバインドできるコレクションは、*監視可能な*コレクションと呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="79c51-158">A collection that can be effectively bound to a XAML items control is known as an *observable* collection.</span></span> <span data-ttu-id="79c51-159">このトピックでは、監視可能なコレクションを実装および使用する方法と、それに XAML アイテム コントロールをバインドする方法を示します。</span><span class="sxs-lookup"><span data-stu-id="79c51-159">This topic shows how to implement and consume an observable collection, and how to bind a XAML items control to it.</span></span> |
| [<span data-ttu-id="79c51-160">C++/WinRT と C++/CX 間の相互運用</span><span class="sxs-lookup"><span data-stu-id="79c51-160">Interop between C++/WinRT and C++/CX</span></span>](interop-winrt-cx.md) | <span data-ttu-id="79c51-161">このトピックでは、[C++/CX](/cpp/cppcx/visual-c-language-reference-c-cx?branch=live) と C++/WinRT オブジェクト間の変換に使用できる 2 つのヘルパー関数について説明します。</span><span class="sxs-lookup"><span data-stu-id="79c51-161">This topic shows two helper functions that can be used to convert between [C++/CX](/cpp/cppcx/visual-c-language-reference-c-cx?branch=live) and C++/WinRT objects.</span></span> |
| [<span data-ttu-id="79c51-162">C++/WinRT と ABI 間の相互運用</span><span class="sxs-lookup"><span data-stu-id="79c51-162">Interop between C++/WinRT and the ABI</span></span>](interop-winrt-abi.md) | <span data-ttu-id="79c51-163">このトピックでは、アプリケーション バイナリ インターフェイス (ABI) と C++/WinRT オブジェクト間の変換方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="79c51-163">This topic shows how to convert between application binary interface (ABI) and C++/WinRT objects.</span></span> |
| [<span data-ttu-id="79c51-164">弱参照</span><span class="sxs-lookup"><span data-stu-id="79c51-164">Weak references</span></span>](weak-references.md) | <span data-ttu-id="79c51-165">C++/WinRT の弱参照サポートは利用に応じた料金制度であるため、オブジェクトが [**IWeakReferenceSource**](https://msdn.microsoft.com/library/br224609) で照会されない限り、料金はかかりません。</span><span class="sxs-lookup"><span data-stu-id="79c51-165">C++/WinRT weak reference support is pay-for-play, in that it doesn't cost you anything unless your object is queried for [**IWeakReferenceSource**](https://msdn.microsoft.com/library/br224609).</span></span> |
| [<span data-ttu-id="79c51-166">アジャイル オブジェクト</span><span class="sxs-lookup"><span data-stu-id="79c51-166">Agile objects</span></span>](agile-objects.md) | <span data-ttu-id="79c51-167">アジャイル オブジェクトは、いずれかのスレッドからアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="79c51-167">An agile object is one that can be accessed from any thread.</span></span> <span data-ttu-id="79c51-168">お使いの C++/WinRT 型は既定ではアジャイルですが、オプトアウトできます。</span><span class="sxs-lookup"><span data-stu-id="79c51-168">Your C++/WinRT types are agile by default, but you can opt out.</span></span> |

## <a name="important-apis"></a><span data-ttu-id="79c51-169">重要な API</span><span class="sxs-lookup"><span data-stu-id="79c51-169">Important APIs</span></span>
* [<span data-ttu-id="79c51-170">winrt 名前空間</span><span class="sxs-lookup"><span data-stu-id="79c51-170">winrt namespace</span></span>](/uwp/cpp-ref-for-winrt/winrt)

## <a name="related-topics"></a><span data-ttu-id="79c51-171">関連トピック</span><span class="sxs-lookup"><span data-stu-id="79c51-171">Related topics</span></span>
* [<span data-ttu-id="79c51-172">C++/CX</span><span class="sxs-lookup"><span data-stu-id="79c51-172">C++/CX</span></span>](/cpp/cppcx/visual-c-language-reference-c-cx)
* [<span data-ttu-id="79c51-173">Windows ランタイム C++ テンプレート ライブラリ (WRL)</span><span class="sxs-lookup"><span data-stu-id="79c51-173">Windows Runtime C++ Template Library (WRL)</span></span>](/cpp/windows/windows-runtime-cpp-template-library-wrl)
