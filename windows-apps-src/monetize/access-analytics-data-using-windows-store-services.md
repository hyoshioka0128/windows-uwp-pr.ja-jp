---
author: mcleanbyron
ms.assetid: 4BF9EF21-E9F0-49DB-81E4-062D6E68C8B1
description: Microsoft Store 分析 API を使うと、自分または自分の組織の Windows デベロッパー センター アカウントに登録されているアプリの分析データをプログラムで取得できます。
title: ストア サービスを使った分析データへのアクセス
ms.author: mcleans
ms.date: 03/23/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: Windows 10, UWP, Store サービス, Microsoft Store 分析 API
ms.localizationpriority: medium
ms.openlocfilehash: 0a8523acb06a0bda48f85221f384d8a3d554c7dc
ms.sourcegitcommit: 346b5c9298a6e9e78acf05944bfe13624ea7062e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/05/2018
ms.locfileid: "1707157"
---
# <a name="access-analytics-data-using-store-services"></a><span data-ttu-id="c2ebf-104">ストア サービスを使った分析データへのアクセス</span><span class="sxs-lookup"><span data-stu-id="c2ebf-104">Access analytics data using Store services</span></span>

<span data-ttu-id="c2ebf-105">*Microsoft Store 分析 API* を使うと、自分または自分の組織の Windows デベロッパー センター アカウントに登録されているアプリの分析データをプログラムで取得できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-105">Use the *Microsoft Store analytics API* to programmatically retrieve analytics data for apps that are registered to your or your organization's Windows Dev Center account.</span></span> <span data-ttu-id="c2ebf-106">この API では、アプリおよびアドオン (アプリ内製品または IAP とも呼ばれます) の入手数、エラー、アプリの評価とレビューに関するデータを取得できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-106">This API enables you to retrieve data for app and add-on (also known as in-app product or IAP) acquisitions, errors, app ratings and reviews.</span></span> <span data-ttu-id="c2ebf-107">この API は、Azure Active Directory (Azure AD) を使って、アプリまたはサービスからの呼び出しを認証します。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-107">This API uses Azure Active Directory (Azure AD) to authenticate the calls from your app or service.</span></span>

<span data-ttu-id="c2ebf-108">次の手順で、このプロセスについて詳しく説明しています。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-108">The following steps describe the end-to-end process:</span></span>

1.  <span data-ttu-id="c2ebf-109">すべての[前提条件](#prerequisites)を完了したことを確認します。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-109">Make sure that you have completed all the [prerequisites](#prerequisites).</span></span>
2.  <span data-ttu-id="c2ebf-110">Microsoft Store 分析 API のメソッドを呼び出す前に、[Azure AD アクセス トークンを取得](#obtain-an-azure-ad-access-token)する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-110">Before you call a method in the Microsoft Store analytics API, [obtain an Azure AD access token](#obtain-an-azure-ad-access-token).</span></span> <span data-ttu-id="c2ebf-111">トークンを取得した後、Microsoft Store 分析 API の呼び出しでこのトークンを使用できるのは、その有効期限が切れるまでの 60 分間です。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-111">After you obtain a token, you have 60 minutes to use this token in calls to the Microsoft Store analytics API before the token expires.</span></span> <span data-ttu-id="c2ebf-112">トークンの有効期限が切れた後は、新しいトークンを生成できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-112">After the token expires, you can generate a new token.</span></span>
3.  <span data-ttu-id="c2ebf-113">[Microsoft Store 分析 API を呼び出します](#call-the-windows-store-analytics-api)。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-113">[Call the Microsoft Store analytics API](#call-the-windows-store-analytics-api).</span></span>

<span id="prerequisites" />

## <a name="step-1-complete-prerequisites-for-using-the-microsoft-store-analytics-api"></a><span data-ttu-id="c2ebf-114">手順 1: Microsoft Store 分析 API を使うための前提条件を満たす</span><span class="sxs-lookup"><span data-stu-id="c2ebf-114">Step 1: Complete prerequisites for using the Microsoft Store analytics API</span></span>

<span data-ttu-id="c2ebf-115">Microsoft Store 分析 API を呼び出すコードの作成を開始する前に、次の前提条件が満たされていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-115">Before you start writing code to call the Microsoft Store analytics API, make sure that you have completed the following prerequisites.</span></span>

* <span data-ttu-id="c2ebf-116">ユーザー (またはユーザーの組織) は、Azure AD ディレクトリと、そのディレクトリに対する[全体管理者](http://go.microsoft.com/fwlink/?LinkId=746654)のアクセス許可を持っている必要があります。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-116">You (or your organization) must have an Azure AD directory and you must have [Global administrator](http://go.microsoft.com/fwlink/?LinkId=746654) permission for the directory.</span></span> <span data-ttu-id="c2ebf-117">Office 365 または Microsoft の他のビジネス サービスを既に使っている場合は、既に Azure AD ディレクトリをお持ちです。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-117">If you already use Office 365 or other business services from Microsoft, you already have Azure AD directory.</span></span> <span data-ttu-id="c2ebf-118">それ以外の場合は、追加料金なしで[デベロッパー センター内から新しい Azure AD を作成](../publish/associate-azure-ad-with-dev-center.md#create-a-brand-new-azure-ad-to-associate-with-your-dev-center-account)できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-118">Otherwise, you can [create a new Azure AD in Dev Center](../publish/associate-azure-ad-with-dev-center.md#create-a-brand-new-azure-ad-to-associate-with-your-dev-center-account) for no additional charge.</span></span>

* <span data-ttu-id="c2ebf-119">Azure AD アプリケーションをデベロッパー センター アカウントに関連付け、アプリケーションのテナント ID とクライアント ID を取得してキーを生成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-119">You must associate an Azure AD application with your Dev Center account, retrieve the tenant ID and client ID for the application and generate a key.</span></span> <span data-ttu-id="c2ebf-120">Azure AD アプリケーションは、Microsoft Store 分析 API の呼び出し元のアプリまたはサービスを表します。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-120">The Azure AD application represents the app or service from which you want to call the Microsoft Store analytics API.</span></span> <span data-ttu-id="c2ebf-121">テナント ID、クライアント ID、およびキーは、API に渡す Azure AD アクセス トークンを取得するために必要です。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-121">You need the tenant ID, client ID and key to obtain an Azure AD access token that you pass to the API.</span></span>
    > [!NOTE]
    > <span data-ttu-id="c2ebf-122">この作業を行うのは一度だけです。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-122">You only need to perform this task one time.</span></span> <span data-ttu-id="c2ebf-123">テナント ID、クライアント ID、キーがあれば、新しい Azure AD アクセス トークンの作成が必要になったときに、いつでもそれらを再利用できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-123">After you have the tenant ID, client ID and key, you can reuse them any time you need to create a new Azure AD access token.</span></span>

<span data-ttu-id="c2ebf-124">Azure AD アプリケーションをデベロッパー センター アカウントに関連付け、必要な値を取得するには:</span><span class="sxs-lookup"><span data-stu-id="c2ebf-124">To associate an Azure AD application with your Dev Center account and retrieve the required values:</span></span>

1.  <span data-ttu-id="c2ebf-125">デベロッパー センターで、**[アカウント設定]** に移動して **[ユーザーの管理]** をクリックし、[組織のデベロッパー センター アカウントを組織の Azure AD ディレクトリに関連付けます](../publish/associate-azure-ad-with-dev-center.md)。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-125">In Dev Center, go to your **Account settings**, click **Manage users**, and [associate your organization's Dev Center account with your organization's Azure AD directory](../publish/associate-azure-ad-with-dev-center.md).</span></span>

2.  <span data-ttu-id="c2ebf-126">**[ユーザーの管理]** ページで、**[Azure AD アプリケーションの追加]** をクリックして、デベロッパー センター アカウントの分析データへのアクセスに使うアプリやサービスを表す Azure AD アプリケーションを追加し、**マネージャー** ロールを割り当てます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-126">In the **Manage users** page, click **Add Azure AD applications**, add the Azure AD application that represents the app or service that you will use to access analytics data for your Dev Center account, and assign it the **Manager** role.</span></span> <span data-ttu-id="c2ebf-127">このアプリケーションが既に Azure AD ディレクトリに存在する場合、**[Azure AD アプリケーションの追加]** ページで選んでデベロッパー センター アカウントに追加できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-127">If this application already exists in your Azure AD directory, you can select it on the **Add Azure AD applications** page to add it to your Dev Center account.</span></span> <span data-ttu-id="c2ebf-128">それ以外の場合、**[Azure AD アプリケーションの追加]** ページで新しい Azure AD アプリケーションを作成できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-128">Otherwise, you can create a new Azure AD application on the **Add Azure AD applications** page.</span></span> <span data-ttu-id="c2ebf-129">詳しくは、[Azure AD アプリケーションをデベロッパー センター アカウントに追加する方法](../publish/add-users-groups-and-azure-ad-applications.md#azure-ad-applications)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-129">For more information, see [Add Azure AD applications to your Dev Center account](../publish/add-users-groups-and-azure-ad-applications.md#azure-ad-applications).</span></span>

3.  <span data-ttu-id="c2ebf-130">**[ユーザーの管理]** ページに戻り、Azure AD アプリケーションの名前をクリックしてアプリケーション設定に移動し、**[テナント ID]** と **[クライアント ID]** の値を書き留めます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-130">Return to the **Manage users** page, click the name of your Azure AD application to go to the application settings, and copy down the **Tenant ID** and **Client ID** values.</span></span>

4. <span data-ttu-id="c2ebf-131">**[新しいキーの追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-131">Click **Add new key**.</span></span> <span data-ttu-id="c2ebf-132">次の画面で、**[キー]** の値を書き留めます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-132">On the following screen, copy down the **Key** value.</span></span> <span data-ttu-id="c2ebf-133">このページから離れると、この情報に再度アクセスすることはできません。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-133">You won't be able to access this info again after you leave this page.</span></span> <span data-ttu-id="c2ebf-134">詳しくは、[Azure AD アプリケーションのキーを管理する方法](../publish/add-users-groups-and-azure-ad-applications.md#manage-keys)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-134">For more information, see [Manage keys for an Azure AD application](../publish/add-users-groups-and-azure-ad-applications.md#manage-keys).</span></span>

<span id="obtain-an-azure-ad-access-token" />

## <a name="step-2-obtain-an-azure-ad-access-token"></a><span data-ttu-id="c2ebf-135">手順 2: Azure AD のアクセス トークンを取得する</span><span class="sxs-lookup"><span data-stu-id="c2ebf-135">Step 2: Obtain an Azure AD access token</span></span>

<span data-ttu-id="c2ebf-136">Microsoft Store 分析 API のいずれかのメソッドを呼び出す前に、まず API の各メソッドの **Authorization** ヘッダーに渡す Azure AD アクセス トークンを取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-136">Before you call any of the methods in the Microsoft Store analytics API, you must first obtain an Azure AD access token that you pass to the **Authorization** header of each method in the API.</span></span> <span data-ttu-id="c2ebf-137">アクセス トークンを取得した後、アクセス トークンを使用できるのは、その有効期限が切れるまでの 60 分間です。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-137">After you obtain an access token, you have 60 minutes to use it before it expires.</span></span> <span data-ttu-id="c2ebf-138">トークンの有効期限が切れた後は、トークンを更新してそれ以降の API 呼び出しで引き続き使用できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-138">After the token expires, you can refresh the token so you can continue to use it in further calls to the API.</span></span>

<span data-ttu-id="c2ebf-139">アクセス トークンを取得するには、「[クライアント資格情報を使用したサービス間の呼び出し](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-service-to-service/)」の手順に従って、HTTP POST を ```https://login.microsoftonline.com/<tenant_id>/oauth2/token``` エンドポイントに送信します。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-139">To obtain the access token, follow the instructions in [Service to Service Calls Using Client Credentials](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-service-to-service/) to send an HTTP POST to the ```https://login.microsoftonline.com/<tenant_id>/oauth2/token``` endpoint.</span></span> <span data-ttu-id="c2ebf-140">要求の例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-140">Here is a sample request.</span></span>

```
POST https://login.microsoftonline.com/<tenant_id>/oauth2/token HTTP/1.1
Host: login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded; charset=utf-8

grant_type=client_credentials
&client_id=<your_client_id>
&client_secret=<your_client_secret>
&resource=https://manage.devcenter.microsoft.com
```

<span data-ttu-id="c2ebf-141">POST URI の *tenant\_id* の値と *client \_id* および *client \_secret* のパラメーターには、前のセクションでデベロッパー センターから取得したテナント ID、クライアント ID、キーを指定します。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-141">For the *tenant\_id* value in the POST URI and the *client\_id* and *client\_secret* parameters, specify the tenant ID, client ID and the key for your application that you retrieved from Dev Center in the previous section.</span></span> <span data-ttu-id="c2ebf-142">*resource* パラメーターには、```https://manage.devcenter.microsoft.com``` を指定します。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-142">For the *resource* parameter, you must specify ```https://manage.devcenter.microsoft.com```.</span></span>

<span data-ttu-id="c2ebf-143">アクセス トークンの有効期限が切れた後は、[この](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-code/#refreshing-the-access-tokens)手順に従って更新できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-143">After your access token expires, you can refresh it by following the instructions [here](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-code/#refreshing-the-access-tokens).</span></span>

<span id="call-the-windows-store-analytics-api" />

## <a name="step-3-call-the-microsoft-store-analytics-api"></a><span data-ttu-id="c2ebf-144">手順 3: Microsoft Store 分析 API を呼び出す</span><span class="sxs-lookup"><span data-stu-id="c2ebf-144">Step 3: Call the Microsoft Store analytics API</span></span>

<span data-ttu-id="c2ebf-145">Azure AD アクセス トークンを取得したら、Microsoft Store 分析 API を呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-145">After you have an Azure AD access token, you are ready to call the Microsoft Store analytics API.</span></span> <span data-ttu-id="c2ebf-146">各メソッドの **Authorization** ヘッダーにアクセス トークンを渡す必要があります。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-146">You must pass the access token to the **Authorization** header of each method.</span></span>

### <a name="methods-for-uwp-apps"></a><span data-ttu-id="c2ebf-147">UWP アプリ向けのメソッド</span><span class="sxs-lookup"><span data-stu-id="c2ebf-147">Methods for UWP apps</span></span>

<span data-ttu-id="c2ebf-148">次の分析メソッドは、デベロッパー センターの UWP アプリで利用できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-148">The following analytics methods are available for UWP apps in Dev Center.</span></span>

| <span data-ttu-id="c2ebf-149">シナリオ</span><span class="sxs-lookup"><span data-stu-id="c2ebf-149">Scenario</span></span>       | <span data-ttu-id="c2ebf-150">メソッド</span><span class="sxs-lookup"><span data-stu-id="c2ebf-150">Methods</span></span>      |
|---------------|--------------------|
| <span data-ttu-id="c2ebf-151">入手、コンバージョン、およびインストール</span><span class="sxs-lookup"><span data-stu-id="c2ebf-151">Acquisitions, conversions, and installs</span></span> |  <ul><li>[<span data-ttu-id="c2ebf-152">アプリの入手数の取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-152">Get app acquisitions</span></span>](get-app-acquisitions.md)</li><li>[<span data-ttu-id="c2ebf-153">アプリの入手に関するファネル データの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-153">Get app acquisition funnel data</span></span>](get-acquisition-funnel-data.md)</li><li>[<span data-ttu-id="c2ebf-154">チャネルごとのアプリのコンバージョンの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-154">Get app conversions by channel</span></span>](get-app-conversions-by-channel.md)</li><li>[<span data-ttu-id="c2ebf-155">アドオンの入手数の取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-155">Get add-on acquisitions</span></span>](get-in-app-acquisitions.md)</li><li>[<span data-ttu-id="c2ebf-156">サブスクリプション アドオンの入手数の取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-156">Get subscription add-on acquisitions</span></span>](get-subscription-acquisitions.md)</li><li>[<span data-ttu-id="c2ebf-157">チャネルごとのアドオンのコンバージョンの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-157">Get add-on conversions by channel</span></span>](get-add-on-conversions-by-channel.md)</li><li>[<span data-ttu-id="c2ebf-158">アプリのインストール数の取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-158">Get app installs</span></span>](get-app-installs.md)</li></ul> |
| <span data-ttu-id="c2ebf-159">アプリのエラー</span><span class="sxs-lookup"><span data-stu-id="c2ebf-159">App errors</span></span> | <ul><li>[<span data-ttu-id="c2ebf-160">エラー報告データの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-160">Get error reporting data</span></span>](get-error-reporting-data.md)</li><li>[<span data-ttu-id="c2ebf-161">アプリのエラーに関する詳細情報の取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-161">Get details for an error in your app</span></span>](get-details-for-an-error-in-your-app.md)</li><li>[<span data-ttu-id="c2ebf-162">アプリのエラーに関するスタック トレースの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-162">Get the stack trace for an error in your app</span></span>](get-the-stack-trace-for-an-error-in-your-app.md)</li><li>[<span data-ttu-id="c2ebf-163">アプリのエラーの CAB ファイルをダウンロードする</span><span class="sxs-lookup"><span data-stu-id="c2ebf-163">Download the CAB file for an error in your app</span></span>](download-the-cab-file-for-an-error-in-your-app.md)</li></ul> |
| <span data-ttu-id="c2ebf-164">評価とレビュー</span><span class="sxs-lookup"><span data-stu-id="c2ebf-164">Ratings and reviews</span></span> | <ul><li>[<span data-ttu-id="c2ebf-165">アプリの評価の取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-165">Get app ratings</span></span>](get-app-ratings.md)</li><li>[<span data-ttu-id="c2ebf-166">アプリのレビューの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-166">Get app reviews</span></span>](get-app-reviews.md)</li></ul> |
| <span data-ttu-id="c2ebf-167">アプリ内広告と広告キャンペーン</span><span class="sxs-lookup"><span data-stu-id="c2ebf-167">In-app ads and ad campaigns</span></span> | <ul><li>[<span data-ttu-id="c2ebf-168">広告のパフォーマンス データの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-168">Get ad performance data</span></span>](get-ad-performance-data.md)</li><li>[<span data-ttu-id="c2ebf-169">広告キャンペーンのパフォーマンス データの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-169">Get ad campaign performance data</span></span>](get-ad-campaign-performance-data.md)</li></ul> |

### <a name="methods-for-desktop-applications"></a><span data-ttu-id="c2ebf-170">デスクトップ アプリケーション向けのメソッド</span><span class="sxs-lookup"><span data-stu-id="c2ebf-170">Methods for desktop applications</span></span>

<span data-ttu-id="c2ebf-171">次の分析メソッドは、[Windows デスクトップ アプリケーション プログラム](https://msdn.microsoft.com/library/windows/desktop/mt826504)に参加している開発者アカウントで利用できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-171">The following analytics methods are available for use by developer accounts that belong to the [Windows Desktop Application program](https://msdn.microsoft.com/library/windows/desktop/mt826504).</span></span>

| <span data-ttu-id="c2ebf-172">シナリオ</span><span class="sxs-lookup"><span data-stu-id="c2ebf-172">Scenario</span></span>       | <span data-ttu-id="c2ebf-173">メソッド</span><span class="sxs-lookup"><span data-stu-id="c2ebf-173">Methods</span></span>      |
|---------------|--------------------|
| <span data-ttu-id="c2ebf-174">インストール</span><span class="sxs-lookup"><span data-stu-id="c2ebf-174">Installs</span></span> |  <ul><li>[<span data-ttu-id="c2ebf-175">デスクトップ アプリケーションのインストール数の取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-175">Get desktop application installs</span></span>](get-desktop-app-installs.md)</li></ul> |
| <span data-ttu-id="c2ebf-176">アプリケーション エラー</span><span class="sxs-lookup"><span data-stu-id="c2ebf-176">Application errors</span></span> |  <ul><li>[<span data-ttu-id="c2ebf-177">デスクトップ アプリケーションのエラー報告データの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-177">Get error reporting data for your desktop application</span></span>](get-desktop-application-error-reporting-data.md)</li><li>[<span data-ttu-id="c2ebf-178">デスクトップ アプリケーションのエラーに関する詳細情報の取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-178">Get details for an error in your desktop application</span></span>](get-details-for-an-error-in-your-desktop-application.md)</li><li>[<span data-ttu-id="c2ebf-179">デスクトップ アプリケーションのエラーに関するスタック トレースの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-179">Get the stack trace for an error in your desktop application</span></span>](get-the-stack-trace-for-an-error-in-your-desktop-application.md)</li><li>[<span data-ttu-id="c2ebf-180">デスクトップ アプリケーションのエラーの CAB ファイルをダウンロードする</span><span class="sxs-lookup"><span data-stu-id="c2ebf-180">Download the CAB file for an error in your desktop application</span></span>](download-the-cab-file-for-an-error-in-your-desktop-application.md)</li></ul> |

### <a name="methods-for-hardware-and-drivers"></a><span data-ttu-id="c2ebf-181">ハードウェアとドライバー向けのメソッド</span><span class="sxs-lookup"><span data-stu-id="c2ebf-181">Methods for hardware and drivers</span></span>

<span data-ttu-id="c2ebf-182">次の分析メソッドは、[Windows ハードウェア デベロッパー センター プログラム](https://msdn.microsoft.com/windows/hardware/drivers/dashboard/get-started-with-the-hardware-dashboard)に参加している開発者アカウントで利用できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-182">The following analytics methods are available for use by developer accounts that belong to the [Windows Hardware Dev Center program](https://msdn.microsoft.com/windows/hardware/drivers/dashboard/get-started-with-the-hardware-dashboard).</span></span>

| <span data-ttu-id="c2ebf-183">シナリオ</span><span class="sxs-lookup"><span data-stu-id="c2ebf-183">Scenario</span></span>       | <span data-ttu-id="c2ebf-184">メソッド</span><span class="sxs-lookup"><span data-stu-id="c2ebf-184">Methods</span></span>      |
|---------------|--------------------|
| <span data-ttu-id="c2ebf-185">Windows 10 ドライバーのエラー (IHV 向け)</span><span class="sxs-lookup"><span data-stu-id="c2ebf-185">Errors in Windows 10 drivers (for IHVs)</span></span> |  <ul><li>[<span data-ttu-id="c2ebf-186">Windows 10 のドライバーに関するエラー報告データを取得する</span><span class="sxs-lookup"><span data-stu-id="c2ebf-186">Get error reporting data for Windows 10 drivers</span></span>](get-error-reporting-data-for-windows-10-drivers.md)</li><li>[<span data-ttu-id="c2ebf-187">Windows 10 のドライバー エラーに関する詳細を取得する</span><span class="sxs-lookup"><span data-stu-id="c2ebf-187">Get details for a Windows 10 driver error</span></span>](get-details-for-a-windows-10-driver-error.md)</li><li>[<span data-ttu-id="c2ebf-188">Windows 10 のドライバー エラーに関する CAB ファイルをダウンロードする</span><span class="sxs-lookup"><span data-stu-id="c2ebf-188">Download the CAB file for a Windows 10 driver error</span></span>](download-the-cab-file-for-a-windows-10-driver-error.md)</li></ul> |
| <span data-ttu-id="c2ebf-189">Windows 7/Windows 8.x ドライバーのエラー (IHV 向け)</span><span class="sxs-lookup"><span data-stu-id="c2ebf-189">Errors in Windows 7/Windows 8.x drivers (for IHVs)</span></span> |  <ul><li>[<span data-ttu-id="c2ebf-190">Windows 7 や Windows 8.x のドライバーに関するエラー報告データを取得する</span><span class="sxs-lookup"><span data-stu-id="c2ebf-190">Get error reporting data for Windows 7 and Windows 8.x drivers</span></span>](get-error-reporting-data-for-windows-7-and-windows-8.x-drivers.md)</li><li>[<span data-ttu-id="c2ebf-191">Windows 7 や Windows 8.x のドライバー エラーに関する詳細を取得する</span><span class="sxs-lookup"><span data-stu-id="c2ebf-191">Get details for a Windows 7 or Windows 8.x driver error</span></span>](get-details-for-a-windows-7-or-windows-8.x-driver-error.md)</li><li>[<span data-ttu-id="c2ebf-192">Windows 7 や Windows 8.x のドライバー エラーに関する CAB ファイルをダウンロードする</span><span class="sxs-lookup"><span data-stu-id="c2ebf-192">Download the CAB file for a Windows 7 or Windows 8.x driver error</span></span>](download-the-cab-file-for-a-windows-7-or-windows-8.x-driver-error.md)</li></ul> |
| <span data-ttu-id="c2ebf-193">ハードウェア エラー (OEM 向け)</span><span class="sxs-lookup"><span data-stu-id="c2ebf-193">Hardware errors (for OEMs)</span></span> |  <ul><li>[<span data-ttu-id="c2ebf-194">OEM ハードウェア エラー報告データを取得する</span><span class="sxs-lookup"><span data-stu-id="c2ebf-194">Get OEM hardware error reporting data</span></span>](get-oem-hardware-error-reporting-data.md)</li><li>[<span data-ttu-id="c2ebf-195">OEM ハードウェア エラーの詳細を取得する</span><span class="sxs-lookup"><span data-stu-id="c2ebf-195">Get details for an OEM hardware error</span></span>](get-details-for-an-oem-hardware-error.md)</li><li>[<span data-ttu-id="c2ebf-196">OEM ハードウェア エラーの CAB ファイルをダウンロードする</span><span class="sxs-lookup"><span data-stu-id="c2ebf-196">Download the CAB file for an OEM hardware error</span></span>](download-the-cab-file-for-an-oem-hardware-error.md)</li></ul> |

### <a name="methods-for-xbox-live-services"></a><span data-ttu-id="c2ebf-197">Xbox Live サービス向けのメソッド</span><span class="sxs-lookup"><span data-stu-id="c2ebf-197">Methods for Xbox Live services</span></span>

<span data-ttu-id="c2ebf-198">次の追加のメソッドは、[Xbox Live サービス](../xbox-live/developer-program-overview.md)を使うゲームの開発者アカウントで利用できます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-198">The following additional methods are available for use by developer accounts with games that use [Xbox Live services](../xbox-live/developer-program-overview.md).</span></span>

| <span data-ttu-id="c2ebf-199">シナリオ</span><span class="sxs-lookup"><span data-stu-id="c2ebf-199">Scenario</span></span>       | <span data-ttu-id="c2ebf-200">メソッド</span><span class="sxs-lookup"><span data-stu-id="c2ebf-200">Methods</span></span>      |
|---------------|--------------------|
| <span data-ttu-id="c2ebf-201">一般的な分析</span><span class="sxs-lookup"><span data-stu-id="c2ebf-201">General analytics</span></span> |  <ul><li>[<span data-ttu-id="c2ebf-202">Xbox Live の分析データの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-202">Get Xbox Live analytics data</span></span>](get-xbox-live-analytics.md)</li><li>[<span data-ttu-id="c2ebf-203">Xbox Live の実績データの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-203">Get Xbox Live achievements data</span></span>](get-xbox-live-achievements-data.md)</li><li>[<span data-ttu-id="c2ebf-204">Xbox Live の同時使用状況データの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-204">Get Xbox Live concurrent usage data</span></span>](get-xbox-live-concurrent-usage-data.md)</li></ul> |
| <span data-ttu-id="c2ebf-205">正常性分析</span><span class="sxs-lookup"><span data-stu-id="c2ebf-205">Health analytics</span></span> |  <ul><li>[<span data-ttu-id="c2ebf-206">Xbox Live の正常性データの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-206">Get Xbox Live health data</span></span>](get-xbox-live-health-data.md)</li></ul> |
| <span data-ttu-id="c2ebf-207">コミュニティ分析</span><span class="sxs-lookup"><span data-stu-id="c2ebf-207">Community analytics</span></span> |  <ul><li>[<span data-ttu-id="c2ebf-208">Xbox Live ゲーム ハブのデータの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-208">Get Xbox Live Game Hub data</span></span>](get-xbox-live-game-hub-data.md)</li><li>[<span data-ttu-id="c2ebf-209">Xbox Live クラブのデータの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-209">Get Xbox Live club data</span></span>](get-xbox-live-club-data.md)</li><li>[<span data-ttu-id="c2ebf-210">Xbox Live のマルチプレイヤー データの取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-210">Get Xbox Live multiplayer data</span></span>](get-xbox-live-multiplayer-data.md)</li></ul>  |

### <a name="methods-for-xbox-one-games"></a><span data-ttu-id="c2ebf-211">Xbox One ゲーム向けのメソッド</span><span class="sxs-lookup"><span data-stu-id="c2ebf-211">Methods for Xbox One games</span></span>

<span data-ttu-id="c2ebf-212">次の追加のメソッドは、Xbox デベロッパー ポータル (XDP) を通じて取り込まれ、デベロッパー センター ダッシュボードの [XDP 分析] で利用できる Xbox One ゲームの開発者アカウントで使うことができます。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-212">The following additional methods are available for use by developer accounts with Xbox One games that were ingested through the Xbox Developer Portal (XDP) and available in the XDP Analytics Dev Center dashboard.</span></span>

| <span data-ttu-id="c2ebf-213">シナリオ</span><span class="sxs-lookup"><span data-stu-id="c2ebf-213">Scenario</span></span>       | <span data-ttu-id="c2ebf-214">メソッド</span><span class="sxs-lookup"><span data-stu-id="c2ebf-214">Methods</span></span>      |
|---------------|--------------------|
| <span data-ttu-id="c2ebf-215">入手</span><span class="sxs-lookup"><span data-stu-id="c2ebf-215">Acquisitions</span></span> |  <ul><li>[<span data-ttu-id="c2ebf-216">Xbox One ゲームの入手数の取得</span><span class="sxs-lookup"><span data-stu-id="c2ebf-216">Get Xbox One game acquisitions</span></span>](get-xbox-one-game-acquisitions.md)</li></ul> |

## <a name="code-example"></a><span data-ttu-id="c2ebf-217">コードの例</span><span class="sxs-lookup"><span data-stu-id="c2ebf-217">Code example</span></span>

<span data-ttu-id="c2ebf-218">次のコード例は、Azure AD アクセス トークンを取得し、C# コンソール アプリから Microsoft Store 分析 API を呼び出す方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-218">The following code example demonstrates how to obtain an Azure AD access token and call the Microsoft Store analytics API from a C# console app.</span></span> <span data-ttu-id="c2ebf-219">このコード例を使う場合は、変数 *tenantId*、*clientId*、*clientSecret*、および *appID* を自分のシナリオに合った適切な値に割り当ててください。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-219">To use this code example, assign the *tenantId*, *clientId*, *clientSecret*, and *appID* variables to the appropriate values for your scenario.</span></span> <span data-ttu-id="c2ebf-220">この例では、Microsoft Store 分析 API から返される JSON データを逆シリアル化するときに、Newtonsoft の [Json.NET パッケージ](http://www.newtonsoft.com/json)が必要になります。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-220">This example requires the [Json.NET package](http://www.newtonsoft.com/json) from Newtonsoft to deserialize the JSON data returned by the Microsoft Store analytics API.</span></span>

> [!div class="tabbedCodeSnippets"]
[!code-cs[AnalyticsApi](./code/StoreServicesExamples_Analytics/cs/Program.cs#AnalyticsApiExample)]

## <a name="error-responses"></a><span data-ttu-id="c2ebf-221">エラー応答</span><span class="sxs-lookup"><span data-stu-id="c2ebf-221">Error responses</span></span>

<span data-ttu-id="c2ebf-222">Microsoft Store 分析 API は、エラー コードとメッセージが含まれた JSON オブジェクトにエラー応答を返します。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-222">The Microsoft Store analytics API returns error responses in a JSON object that contains error codes and messages.</span></span> <span data-ttu-id="c2ebf-223">次の例は、無効なパラメーターに対するエラー応答を示しています。</span><span class="sxs-lookup"><span data-stu-id="c2ebf-223">The following example demonstrates an error response caused by an invalid parameter.</span></span>

```json
{
    "code":"BadRequest",
    "data":[],
    "details":[],
    "innererror":{
        "code":"InvalidQueryParameters",
        "data":[
            "top parameter cannot be more than 10000"
        ],
        "details":[],
        "message":"One or More Query Parameters has invalid values.",
        "source":"AnalyticsAPI"
    },
    "message":"The calling client sent a bad request to the service.",
    "source":"AnalyticsAPI"
}
```
