---
ms.assetid: D1F233EC-24B5-4F84-A92F-2030753E608E
description: Azure AD クライアント ID に関連付けられているアプリでユーザーが所有しているすべての製品を取得するには、Microsoft Store コレクション API の以下のメソッドを使います。 スコープを指定して特定の製品を照会することができ、また他のフィルターを使用することもできます。
title: 製品の照会
ms.date: 03/19/2018
ms.topic: article
keywords: Windows 10, UWP, Microsoft Store コレクション API, 製品の表示
ms.localizationpriority: medium
ms.openlocfilehash: 700cb111f74a4534f2f5e1de70eddfb88b456aa7
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2019
ms.locfileid: "57596807"
---
# <a name="query-for-products"></a><span data-ttu-id="003ff-105">製品の照会</span><span class="sxs-lookup"><span data-stu-id="003ff-105">Query for products</span></span>


<span data-ttu-id="003ff-106">Azure AD クライアント ID に関連付けられているアプリでユーザーが所有しているすべての製品を取得するには、Microsoft Store コレクション API の以下のメソッドを使います。</span><span class="sxs-lookup"><span data-stu-id="003ff-106">Use this method in the Microsoft Store collection API to get all the products that a customer owns for apps that are associated with your Azure AD client ID.</span></span> <span data-ttu-id="003ff-107">スコープを指定して特定の製品を照会することができ、また他のフィルターを使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="003ff-107">You can scope your query to a particular product, or use other filters.</span></span>

<span data-ttu-id="003ff-108">このメソッドは、アプリからのメッセージに対する応答としてサービスから呼び出されるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="003ff-108">This method is designed to be called by your service in response to a message from your app.</span></span> <span data-ttu-id="003ff-109">サービスで、スケジュールに従って定期的にすべてのユーザーをポーリングしないでください。</span><span class="sxs-lookup"><span data-stu-id="003ff-109">Your service should not regularly poll for all users on a schedule.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="003ff-110">前提条件</span><span class="sxs-lookup"><span data-stu-id="003ff-110">Prerequisites</span></span>


<span data-ttu-id="003ff-111">このメソッドを使用するための要件:</span><span class="sxs-lookup"><span data-stu-id="003ff-111">To use this method, you will need:</span></span>

* <span data-ttu-id="003ff-112">対象ユーザー URI の値が `https://onestore.microsoft.com` の Azure AD アクセス トークン。</span><span class="sxs-lookup"><span data-stu-id="003ff-112">An Azure AD access token that has the audience URI value `https://onestore.microsoft.com`.</span></span>
* <span data-ttu-id="003ff-113">取得対象の製品を所有するユーザーの ID を表す Microsoft Store ID キー。</span><span class="sxs-lookup"><span data-stu-id="003ff-113">A Microsoft Store ID key that represents the identity of the user whose products you want to get.</span></span>

<span data-ttu-id="003ff-114">詳しくは、「[サービスによる製品の権利の管理](view-and-grant-products-from-a-service.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="003ff-114">For more information, see [Manage product entitlements from a service](view-and-grant-products-from-a-service.md).</span></span>

## <a name="request"></a><span data-ttu-id="003ff-115">要求</span><span class="sxs-lookup"><span data-stu-id="003ff-115">Request</span></span>

### <a name="request-syntax"></a><span data-ttu-id="003ff-116">要求の構文</span><span class="sxs-lookup"><span data-stu-id="003ff-116">Request syntax</span></span>

| <span data-ttu-id="003ff-117">メソッド</span><span class="sxs-lookup"><span data-stu-id="003ff-117">Method</span></span> | <span data-ttu-id="003ff-118">要求 URI</span><span class="sxs-lookup"><span data-stu-id="003ff-118">Request URI</span></span>                                                 |
|--------|-------------------------------------------------------------|
| <span data-ttu-id="003ff-119">POST</span><span class="sxs-lookup"><span data-stu-id="003ff-119">POST</span></span>   | ```https://collections.mp.microsoft.com/v6.0/collections/query``` |


### <a name="request-header"></a><span data-ttu-id="003ff-120">要求ヘッダー</span><span class="sxs-lookup"><span data-stu-id="003ff-120">Request header</span></span>

| <span data-ttu-id="003ff-121">Header</span><span class="sxs-lookup"><span data-stu-id="003ff-121">Header</span></span>         | <span data-ttu-id="003ff-122">種類</span><span class="sxs-lookup"><span data-stu-id="003ff-122">Type</span></span>   | <span data-ttu-id="003ff-123">説明</span><span class="sxs-lookup"><span data-stu-id="003ff-123">Description</span></span>                                                                                           |
|----------------|--------|-------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="003ff-124">Authorization</span><span class="sxs-lookup"><span data-stu-id="003ff-124">Authorization</span></span>  | <span data-ttu-id="003ff-125">string</span><span class="sxs-lookup"><span data-stu-id="003ff-125">string</span></span> | <span data-ttu-id="003ff-126">必須。</span><span class="sxs-lookup"><span data-stu-id="003ff-126">Required.</span></span> <span data-ttu-id="003ff-127">**Bearer** &lt;*トークン*&gt; という形式の Azure AD アクセス トークン。</span><span class="sxs-lookup"><span data-stu-id="003ff-127">The Azure AD access token in the form **Bearer** &lt;*token*&gt;.</span></span>                           |
| <span data-ttu-id="003ff-128">Host</span><span class="sxs-lookup"><span data-stu-id="003ff-128">Host</span></span>           | <span data-ttu-id="003ff-129">string</span><span class="sxs-lookup"><span data-stu-id="003ff-129">string</span></span> | <span data-ttu-id="003ff-130">値 **collections.mp.microsoft.com** に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="003ff-130">Must be set to the value **collections.mp.microsoft.com**.</span></span>                                            |
| <span data-ttu-id="003ff-131">Content-Length</span><span class="sxs-lookup"><span data-stu-id="003ff-131">Content-Length</span></span> | <span data-ttu-id="003ff-132">number</span><span class="sxs-lookup"><span data-stu-id="003ff-132">number</span></span> | <span data-ttu-id="003ff-133">要求の本文の長さ。</span><span class="sxs-lookup"><span data-stu-id="003ff-133">The length of the request body.</span></span>                                                                       |
| <span data-ttu-id="003ff-134">Content-Type</span><span class="sxs-lookup"><span data-stu-id="003ff-134">Content-Type</span></span>   | <span data-ttu-id="003ff-135">string</span><span class="sxs-lookup"><span data-stu-id="003ff-135">string</span></span> | <span data-ttu-id="003ff-136">要求と応答の種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="003ff-136">Specifies the request and response type.</span></span> <span data-ttu-id="003ff-137">現時点では、サポートされている唯一の値は **application/json** です。</span><span class="sxs-lookup"><span data-stu-id="003ff-137">Currently, the only supported value is **application/json**.</span></span> |


### <a name="request-body"></a><span data-ttu-id="003ff-138">要求本文</span><span class="sxs-lookup"><span data-stu-id="003ff-138">Request body</span></span>

| <span data-ttu-id="003ff-139">パラメーター</span><span class="sxs-lookup"><span data-stu-id="003ff-139">Parameter</span></span>         | <span data-ttu-id="003ff-140">種類</span><span class="sxs-lookup"><span data-stu-id="003ff-140">Type</span></span>         | <span data-ttu-id="003ff-141">説明</span><span class="sxs-lookup"><span data-stu-id="003ff-141">Description</span></span>         | <span data-ttu-id="003ff-142">必須</span><span class="sxs-lookup"><span data-stu-id="003ff-142">Required</span></span> |
|-------------------|--------------|---------------------|----------|
| <span data-ttu-id="003ff-143">beneficiaries</span><span class="sxs-lookup"><span data-stu-id="003ff-143">beneficiaries</span></span>     | <span data-ttu-id="003ff-144">UserIdentity</span><span class="sxs-lookup"><span data-stu-id="003ff-144">UserIdentity</span></span> | <span data-ttu-id="003ff-145">製品照会の対象となるユーザーを表す UserIdentity オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="003ff-145">A UserIdentity object that represents the user being queried for products.</span></span> <span data-ttu-id="003ff-146">詳細については、次の表をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="003ff-146">For more information, see the table below.</span></span>    | <span data-ttu-id="003ff-147">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-147">Yes</span></span>      |
| <span data-ttu-id="003ff-148">continuationToken</span><span class="sxs-lookup"><span data-stu-id="003ff-148">continuationToken</span></span> | <span data-ttu-id="003ff-149">string</span><span class="sxs-lookup"><span data-stu-id="003ff-149">string</span></span>       | <span data-ttu-id="003ff-150">製品のセットが複数ある場合、ページ制限に達すると、応答本文で継続トークンが返されます。</span><span class="sxs-lookup"><span data-stu-id="003ff-150">If there are multiple sets of products, the response body returns a continuation token when the page limit is reached.</span></span> <span data-ttu-id="003ff-151">残りの製品を取得する後続の呼び出しで、この継続トークンを指定します。</span><span class="sxs-lookup"><span data-stu-id="003ff-151">Provide that continuation token here in subsequent calls to retrieve remaining products.</span></span>       | <span data-ttu-id="003ff-152">X</span><span class="sxs-lookup"><span data-stu-id="003ff-152">No</span></span>       |
| <span data-ttu-id="003ff-153">maxPageSize</span><span class="sxs-lookup"><span data-stu-id="003ff-153">maxPageSize</span></span>       | <span data-ttu-id="003ff-154">number</span><span class="sxs-lookup"><span data-stu-id="003ff-154">number</span></span>       | <span data-ttu-id="003ff-155">1 つの応答で返す製品の最大数。</span><span class="sxs-lookup"><span data-stu-id="003ff-155">The maximum number of products to return in one response.</span></span> <span data-ttu-id="003ff-156">既定値および最大値は 100 です。</span><span class="sxs-lookup"><span data-stu-id="003ff-156">The default and maximum value is 100.</span></span>                 | <span data-ttu-id="003ff-157">X</span><span class="sxs-lookup"><span data-stu-id="003ff-157">No</span></span>       |
| <span data-ttu-id="003ff-158">modifiedAfter</span><span class="sxs-lookup"><span data-stu-id="003ff-158">modifiedAfter</span></span>     | <span data-ttu-id="003ff-159">datetime</span><span class="sxs-lookup"><span data-stu-id="003ff-159">datetime</span></span>     | <span data-ttu-id="003ff-160">指定した場合、この日付以降に変更された製品だけがサービスから返されます。</span><span class="sxs-lookup"><span data-stu-id="003ff-160">If specified, the service only returns products that have been modified after this date.</span></span>        | <span data-ttu-id="003ff-161">X</span><span class="sxs-lookup"><span data-stu-id="003ff-161">No</span></span>       |
| <span data-ttu-id="003ff-162">parentProductId</span><span class="sxs-lookup"><span data-stu-id="003ff-162">parentProductId</span></span>   | <span data-ttu-id="003ff-163">string</span><span class="sxs-lookup"><span data-stu-id="003ff-163">string</span></span>       | <span data-ttu-id="003ff-164">指定した場合、指定されたアプリに対応するアドオンだけがサービスから返されます。</span><span class="sxs-lookup"><span data-stu-id="003ff-164">If specified, the service only returns add-ons that correspond to the specified app.</span></span>      | <span data-ttu-id="003ff-165">X</span><span class="sxs-lookup"><span data-stu-id="003ff-165">No</span></span>       |
| <span data-ttu-id="003ff-166">productSkuIds</span><span class="sxs-lookup"><span data-stu-id="003ff-166">productSkuIds</span></span>     | <span data-ttu-id="003ff-167">list&lt;ProductSkuId&gt;</span><span class="sxs-lookup"><span data-stu-id="003ff-167">list&lt;ProductSkuId&gt;</span></span> | <span data-ttu-id="003ff-168">指定した場合、指定された製品/SKU のペアに該当する製品だけがサービスから返されます。</span><span class="sxs-lookup"><span data-stu-id="003ff-168">If specified, the service only returns products applicable to the provided product/SKU pairs.</span></span> <span data-ttu-id="003ff-169">詳細については、次の表をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="003ff-169">For more information, see the table below.</span></span>      | <span data-ttu-id="003ff-170">X</span><span class="sxs-lookup"><span data-stu-id="003ff-170">No</span></span>       |
| <span data-ttu-id="003ff-171">productTypes</span><span class="sxs-lookup"><span data-stu-id="003ff-171">productTypes</span></span>      | <span data-ttu-id="003ff-172">list&lt;string&gt;</span><span class="sxs-lookup"><span data-stu-id="003ff-172">list&lt;string&gt;</span></span>       | <span data-ttu-id="003ff-173">クエリ結果に返すどの製品の種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="003ff-173">Specifies which products types to return in the query results.</span></span> <span data-ttu-id="003ff-174">サポートされている製品タイプは **Application**、**Durable**、および **UnmanagedConsumable** です。</span><span class="sxs-lookup"><span data-stu-id="003ff-174">Supported product types are **Application**, **Durable**, and **UnmanagedConsumable**.</span></span>     | <span data-ttu-id="003ff-175">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-175">Yes</span></span>       |
| <span data-ttu-id="003ff-176">validityType</span><span class="sxs-lookup"><span data-stu-id="003ff-176">validityType</span></span>      | <span data-ttu-id="003ff-177">string</span><span class="sxs-lookup"><span data-stu-id="003ff-177">string</span></span>       | <span data-ttu-id="003ff-178">**All** に設定した場合、有効期限が切れた項目を含む、ユーザーのすべての製品が返されます。</span><span class="sxs-lookup"><span data-stu-id="003ff-178">When set to **All**, all products for a user will be returned, including expired items.</span></span> <span data-ttu-id="003ff-179">**Valid** に設定した場合、その時点で有効な製品だけが返されます (つまり、アクティブな状態で、開始日が現在より前、終了日が現在より後である製品)。</span><span class="sxs-lookup"><span data-stu-id="003ff-179">When set to **Valid**, only products that are valid at this point in time are returned (that is, they have an active status, start date &lt; now, and end date is &gt; now).</span></span> | <span data-ttu-id="003ff-180">X</span><span class="sxs-lookup"><span data-stu-id="003ff-180">No</span></span>       |


<span data-ttu-id="003ff-181">UserIdentity オブジェクトには以下のパラメーターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="003ff-181">The UserIdentity object contains the following parameters.</span></span>

| <span data-ttu-id="003ff-182">パラメーター</span><span class="sxs-lookup"><span data-stu-id="003ff-182">Parameter</span></span>            | <span data-ttu-id="003ff-183">種類</span><span class="sxs-lookup"><span data-stu-id="003ff-183">Type</span></span>   |  <span data-ttu-id="003ff-184">説明</span><span class="sxs-lookup"><span data-stu-id="003ff-184">Description</span></span>      | <span data-ttu-id="003ff-185">必須</span><span class="sxs-lookup"><span data-stu-id="003ff-185">Required</span></span> |
|----------------------|--------|----------------|----------|
| <span data-ttu-id="003ff-186">identityType</span><span class="sxs-lookup"><span data-stu-id="003ff-186">identityType</span></span>         | <span data-ttu-id="003ff-187">string</span><span class="sxs-lookup"><span data-stu-id="003ff-187">string</span></span> | <span data-ttu-id="003ff-188">文字列値 **b2b** を指定します。</span><span class="sxs-lookup"><span data-stu-id="003ff-188">Specify the string value **b2b**.</span></span>    | <span data-ttu-id="003ff-189">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-189">Yes</span></span>      |
| <span data-ttu-id="003ff-190">identityValue</span><span class="sxs-lookup"><span data-stu-id="003ff-190">identityValue</span></span>        | <span data-ttu-id="003ff-191">string</span><span class="sxs-lookup"><span data-stu-id="003ff-191">string</span></span> | <span data-ttu-id="003ff-192">照会する製品のユーザーの ID を表す [Microsoft Store ID キー](view-and-grant-products-from-a-service.md#step-4)。</span><span class="sxs-lookup"><span data-stu-id="003ff-192">The [Microsoft Store ID key](view-and-grant-products-from-a-service.md#step-4) that represents the identity of the user for whom you want to query products.</span></span>  | <span data-ttu-id="003ff-193">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-193">Yes</span></span>      |
| <span data-ttu-id="003ff-194">localTicketReference</span><span class="sxs-lookup"><span data-stu-id="003ff-194">localTicketReference</span></span> | <span data-ttu-id="003ff-195">string</span><span class="sxs-lookup"><span data-stu-id="003ff-195">string</span></span> | <span data-ttu-id="003ff-196">返された製品で必要な識別子。</span><span class="sxs-lookup"><span data-stu-id="003ff-196">The requested identifier for the returned products.</span></span> <span data-ttu-id="003ff-197">応答本文で返された項目には、一致する *localTicketReference* があります。</span><span class="sxs-lookup"><span data-stu-id="003ff-197">Returned items in the response body will have a matching *localTicketReference*.</span></span> <span data-ttu-id="003ff-198">Microsoft Store ID キーの *userId* 要求と同じ値を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="003ff-198">We recommend that you use the same value as the *userId* claim in the Microsoft Store ID key.</span></span> | <span data-ttu-id="003ff-199">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-199">Yes</span></span>      |


<span data-ttu-id="003ff-200">ProductSkuId オブジェクトには以下のパラメーターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="003ff-200">The ProductSkuId object contains the following parameters.</span></span>

| <span data-ttu-id="003ff-201">パラメーター</span><span class="sxs-lookup"><span data-stu-id="003ff-201">Parameter</span></span> | <span data-ttu-id="003ff-202">種類</span><span class="sxs-lookup"><span data-stu-id="003ff-202">Type</span></span>   | <span data-ttu-id="003ff-203">説明</span><span class="sxs-lookup"><span data-stu-id="003ff-203">Description</span></span>          | <span data-ttu-id="003ff-204">必須</span><span class="sxs-lookup"><span data-stu-id="003ff-204">Required</span></span> |
|-----------|--------|----------------------|----------|
| <span data-ttu-id="003ff-205">productId</span><span class="sxs-lookup"><span data-stu-id="003ff-205">productId</span></span> | <span data-ttu-id="003ff-206">string</span><span class="sxs-lookup"><span data-stu-id="003ff-206">string</span></span> | <span data-ttu-id="003ff-207">Microsoft Store カタログ内の[製品](in-app-purchases-and-trials.md#products-skus-and-availabilities)の [Store ID](in-app-purchases-and-trials.md#store-ids)。</span><span class="sxs-lookup"><span data-stu-id="003ff-207">The [Store ID](in-app-purchases-and-trials.md#store-ids) for a [product](in-app-purchases-and-trials.md#products-skus-and-availabilities) in the Microsoft Store catalog.</span></span> <span data-ttu-id="003ff-208">製品のストア ID の例は、9NBLGGH42CFD です。</span><span class="sxs-lookup"><span data-stu-id="003ff-208">An example Store ID for a product is 9NBLGGH42CFD.</span></span> | <span data-ttu-id="003ff-209">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-209">Yes</span></span>      |
| <span data-ttu-id="003ff-210">skuID</span><span class="sxs-lookup"><span data-stu-id="003ff-210">skuID</span></span>     | <span data-ttu-id="003ff-211">string</span><span class="sxs-lookup"><span data-stu-id="003ff-211">string</span></span> | <span data-ttu-id="003ff-212">Microsoft Store カタログ内の製品の [SKU](in-app-purchases-and-trials.md#products-skus-and-availabilities) の [Store ID](in-app-purchases-and-trials.md#store-ids)。</span><span class="sxs-lookup"><span data-stu-id="003ff-212">The [Store ID](in-app-purchases-and-trials.md#store-ids) for a product's [SKU](in-app-purchases-and-trials.md#products-skus-and-availabilities) in the Microsoft Store catalog.</span></span> <span data-ttu-id="003ff-213">SKU の Store ID の例は、0010 です。</span><span class="sxs-lookup"><span data-stu-id="003ff-213">An example Store ID for a SKU is 0010.</span></span>       | <span data-ttu-id="003ff-214">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-214">Yes</span></span>      |


### <a name="request-example"></a><span data-ttu-id="003ff-215">要求の例</span><span class="sxs-lookup"><span data-stu-id="003ff-215">Request example</span></span>

```syntax
POST https://collections.mp.microsoft.com/v6.0/collections/query HTTP/1.1
Authorization: Bearer eyJ0eXAiOiJKV1Q…….
Host: collections.mp.microsoft.com
Content-Length: 2531
Content-Type: application/json

{
  "maxPageSize": 100,
  "beneficiaries": [
    {
      "localTicketReference": "1055521810674918",
      "identityValue": "eyJ0eXAiOiJ……",
      "identityType": "b2b"
    }
  ],
  "modifiedAfter": "\/Date(-62135568000000)\/",
  "productSkuIds": [
    {
      "productId": "9NBLGGH5WVP6",
      "skuId": "0010"
    }
  ],
  "productTypes": [
    "UnmanagedConsumable"
  ],
  "validityType": "All"
}
```

## <a name="response"></a><span data-ttu-id="003ff-216">応答</span><span class="sxs-lookup"><span data-stu-id="003ff-216">Response</span></span>


### <a name="response-body"></a><span data-ttu-id="003ff-217">応答本文</span><span class="sxs-lookup"><span data-stu-id="003ff-217">Response body</span></span>

| <span data-ttu-id="003ff-218">パラメーター</span><span class="sxs-lookup"><span data-stu-id="003ff-218">Parameter</span></span>         | <span data-ttu-id="003ff-219">種類</span><span class="sxs-lookup"><span data-stu-id="003ff-219">Type</span></span>                     | <span data-ttu-id="003ff-220">説明</span><span class="sxs-lookup"><span data-stu-id="003ff-220">Description</span></span>          | <span data-ttu-id="003ff-221">必須</span><span class="sxs-lookup"><span data-stu-id="003ff-221">Required</span></span> |
|-------------------|--------------------------|-----------------------|----------|
| <span data-ttu-id="003ff-222">continuationToken</span><span class="sxs-lookup"><span data-stu-id="003ff-222">continuationToken</span></span> | <span data-ttu-id="003ff-223">string</span><span class="sxs-lookup"><span data-stu-id="003ff-223">string</span></span>                   | <span data-ttu-id="003ff-224">製品のセットが複数ある場合、ページ制限に達すると、このトークンが返されます。</span><span class="sxs-lookup"><span data-stu-id="003ff-224">If there are multiple sets of products, this token is returned when the page limit is reached.</span></span> <span data-ttu-id="003ff-225">残りの製品を取得する後続の呼び出しで、この継続トークンを指定できます。</span><span class="sxs-lookup"><span data-stu-id="003ff-225">You can specify this continuation token in subsequent calls to retrieve remaining products.</span></span> | <span data-ttu-id="003ff-226">X</span><span class="sxs-lookup"><span data-stu-id="003ff-226">No</span></span>       |
| <span data-ttu-id="003ff-227">items</span><span class="sxs-lookup"><span data-stu-id="003ff-227">items</span></span>             | <span data-ttu-id="003ff-228">CollectionItemContractV6</span><span class="sxs-lookup"><span data-stu-id="003ff-228">CollectionItemContractV6</span></span> | <span data-ttu-id="003ff-229">指定したユーザーの製品の配列。</span><span class="sxs-lookup"><span data-stu-id="003ff-229">An array of products for the specified user.</span></span> <span data-ttu-id="003ff-230">詳細については、次の表をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="003ff-230">For more information, see the table below.</span></span>        | <span data-ttu-id="003ff-231">X</span><span class="sxs-lookup"><span data-stu-id="003ff-231">No</span></span>       |


<span data-ttu-id="003ff-232">CollectionItemContractV6 オブジェクトには以下のパラメーターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="003ff-232">The CollectionItemContractV6 object contains the following parameters.</span></span>

| <span data-ttu-id="003ff-233">パラメーター</span><span class="sxs-lookup"><span data-stu-id="003ff-233">Parameter</span></span>            | <span data-ttu-id="003ff-234">種類</span><span class="sxs-lookup"><span data-stu-id="003ff-234">Type</span></span>               | <span data-ttu-id="003ff-235">説明</span><span class="sxs-lookup"><span data-stu-id="003ff-235">Description</span></span>            | <span data-ttu-id="003ff-236">必須</span><span class="sxs-lookup"><span data-stu-id="003ff-236">Required</span></span> |
|----------------------|--------------------|-------------------------|----------|
| <span data-ttu-id="003ff-237">acquiredDate</span><span class="sxs-lookup"><span data-stu-id="003ff-237">acquiredDate</span></span>         | <span data-ttu-id="003ff-238">datetime</span><span class="sxs-lookup"><span data-stu-id="003ff-238">datetime</span></span>           | <span data-ttu-id="003ff-239">ユーザーが項目を取得した日付。</span><span class="sxs-lookup"><span data-stu-id="003ff-239">The date on which the user acquired the item.</span></span>                  | <span data-ttu-id="003ff-240">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-240">Yes</span></span>      |
| <span data-ttu-id="003ff-241">campaignId</span><span class="sxs-lookup"><span data-stu-id="003ff-241">campaignId</span></span>           | <span data-ttu-id="003ff-242">string</span><span class="sxs-lookup"><span data-stu-id="003ff-242">string</span></span>             | <span data-ttu-id="003ff-243">この項目の購入時に提供されたキャンペーン ID。</span><span class="sxs-lookup"><span data-stu-id="003ff-243">The campaign ID that was provided at purchase time for this item.</span></span>                  | <span data-ttu-id="003ff-244">X</span><span class="sxs-lookup"><span data-stu-id="003ff-244">No</span></span>       |
| <span data-ttu-id="003ff-245">devOfferId</span><span class="sxs-lookup"><span data-stu-id="003ff-245">devOfferId</span></span>           | <span data-ttu-id="003ff-246">string</span><span class="sxs-lookup"><span data-stu-id="003ff-246">string</span></span>             | <span data-ttu-id="003ff-247">アプリ内購入からのプラン ID。</span><span class="sxs-lookup"><span data-stu-id="003ff-247">The offer ID from an in-app purchase.</span></span>              | <span data-ttu-id="003ff-248">X</span><span class="sxs-lookup"><span data-stu-id="003ff-248">No</span></span>       |
| <span data-ttu-id="003ff-249">endDate</span><span class="sxs-lookup"><span data-stu-id="003ff-249">endDate</span></span>              | <span data-ttu-id="003ff-250">datetime</span><span class="sxs-lookup"><span data-stu-id="003ff-250">datetime</span></span>           | <span data-ttu-id="003ff-251">項目の終了日。</span><span class="sxs-lookup"><span data-stu-id="003ff-251">The end date of the item.</span></span>              | <span data-ttu-id="003ff-252">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-252">Yes</span></span>      |
| <span data-ttu-id="003ff-253">fulfillmentData</span><span class="sxs-lookup"><span data-stu-id="003ff-253">fulfillmentData</span></span>      | <span data-ttu-id="003ff-254">string</span><span class="sxs-lookup"><span data-stu-id="003ff-254">string</span></span>             | <span data-ttu-id="003ff-255">なし</span><span class="sxs-lookup"><span data-stu-id="003ff-255">N/A</span></span>         | <span data-ttu-id="003ff-256">X</span><span class="sxs-lookup"><span data-stu-id="003ff-256">No</span></span>       |
| <span data-ttu-id="003ff-257">inAppOfferToken</span><span class="sxs-lookup"><span data-stu-id="003ff-257">inAppOfferToken</span></span>      | <span data-ttu-id="003ff-258">string</span><span class="sxs-lookup"><span data-stu-id="003ff-258">string</span></span>             | <span data-ttu-id="003ff-259">パートナー センター内の項目に割り当てられている製品の開発者が指定した ID の文字列。</span><span class="sxs-lookup"><span data-stu-id="003ff-259">The developer-specified product ID string that is assigned to the item in Partner Center.</span></span> <span data-ttu-id="003ff-260">ID は、例製品*product123*します。</span><span class="sxs-lookup"><span data-stu-id="003ff-260">A example product ID is *product123*.</span></span> | <span data-ttu-id="003ff-261">X</span><span class="sxs-lookup"><span data-stu-id="003ff-261">No</span></span>       |
| <span data-ttu-id="003ff-262">itemId</span><span class="sxs-lookup"><span data-stu-id="003ff-262">itemId</span></span>               | <span data-ttu-id="003ff-263">string</span><span class="sxs-lookup"><span data-stu-id="003ff-263">string</span></span>             | <span data-ttu-id="003ff-264">ユーザーが所有する他の項目からこのコレクション項目を識別する ID。</span><span class="sxs-lookup"><span data-stu-id="003ff-264">An ID that identifies this collection item from other items the user owns.</span></span> <span data-ttu-id="003ff-265">この ID は製品ごとに一意です。</span><span class="sxs-lookup"><span data-stu-id="003ff-265">This ID is unique per product.</span></span>   | <span data-ttu-id="003ff-266">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-266">Yes</span></span>      |
| <span data-ttu-id="003ff-267">localTicketReference</span><span class="sxs-lookup"><span data-stu-id="003ff-267">localTicketReference</span></span> | <span data-ttu-id="003ff-268">string</span><span class="sxs-lookup"><span data-stu-id="003ff-268">string</span></span>             | <span data-ttu-id="003ff-269">要求本文の *localTicketReference* で指定された ID。</span><span class="sxs-lookup"><span data-stu-id="003ff-269">The ID of the previously supplied *localTicketReference* in the request body.</span></span>                  | <span data-ttu-id="003ff-270">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-270">Yes</span></span>      |
| <span data-ttu-id="003ff-271">modifiedDate</span><span class="sxs-lookup"><span data-stu-id="003ff-271">modifiedDate</span></span>         | <span data-ttu-id="003ff-272">datetime</span><span class="sxs-lookup"><span data-stu-id="003ff-272">datetime</span></span>           | <span data-ttu-id="003ff-273">この項目が最後に更新された日付。</span><span class="sxs-lookup"><span data-stu-id="003ff-273">The date this item was last modified.</span></span>              | <span data-ttu-id="003ff-274">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-274">Yes</span></span>      |
| <span data-ttu-id="003ff-275">orderId</span><span class="sxs-lookup"><span data-stu-id="003ff-275">orderId</span></span>              | <span data-ttu-id="003ff-276">string</span><span class="sxs-lookup"><span data-stu-id="003ff-276">string</span></span>             | <span data-ttu-id="003ff-277">存在する場合、この項目が取得された注文 ID。</span><span class="sxs-lookup"><span data-stu-id="003ff-277">If present, the order ID of which this item was obtained.</span></span>              | <span data-ttu-id="003ff-278">X</span><span class="sxs-lookup"><span data-stu-id="003ff-278">No</span></span>       |
| <span data-ttu-id="003ff-279">orderLineItemId</span><span class="sxs-lookup"><span data-stu-id="003ff-279">orderLineItemId</span></span>      | <span data-ttu-id="003ff-280">string</span><span class="sxs-lookup"><span data-stu-id="003ff-280">string</span></span>             | <span data-ttu-id="003ff-281">存在する場合、この項目が取得された特定の注文の行項目。</span><span class="sxs-lookup"><span data-stu-id="003ff-281">If present, the line item of the particular order for which this item was obtained.</span></span>              | <span data-ttu-id="003ff-282">X</span><span class="sxs-lookup"><span data-stu-id="003ff-282">No</span></span>       |
| <span data-ttu-id="003ff-283">ownershipType</span><span class="sxs-lookup"><span data-stu-id="003ff-283">ownershipType</span></span>        | <span data-ttu-id="003ff-284">string</span><span class="sxs-lookup"><span data-stu-id="003ff-284">string</span></span>             | <span data-ttu-id="003ff-285">文字列 *OwnedByBeneficiary*。</span><span class="sxs-lookup"><span data-stu-id="003ff-285">The string *OwnedByBeneficiary*.</span></span>   | <span data-ttu-id="003ff-286">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-286">Yes</span></span>      |
| <span data-ttu-id="003ff-287">productId</span><span class="sxs-lookup"><span data-stu-id="003ff-287">productId</span></span>            | <span data-ttu-id="003ff-288">string</span><span class="sxs-lookup"><span data-stu-id="003ff-288">string</span></span>             | <span data-ttu-id="003ff-289">Microsoft Store カタログ内の[製品](in-app-purchases-and-trials.md#products-skus-and-availabilities)の [Store ID](in-app-purchases-and-trials.md#store-ids)。</span><span class="sxs-lookup"><span data-stu-id="003ff-289">The [Store ID](in-app-purchases-and-trials.md#store-ids) for the [product](in-app-purchases-and-trials.md#products-skus-and-availabilities) in the Microsoft Store catalog.</span></span> <span data-ttu-id="003ff-290">製品のストア ID の例は、9NBLGGH42CFD です。</span><span class="sxs-lookup"><span data-stu-id="003ff-290">An example Store ID for a product is 9NBLGGH42CFD.</span></span>          | <span data-ttu-id="003ff-291">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-291">Yes</span></span>      |
| <span data-ttu-id="003ff-292">productType</span><span class="sxs-lookup"><span data-stu-id="003ff-292">productType</span></span>          | <span data-ttu-id="003ff-293">string</span><span class="sxs-lookup"><span data-stu-id="003ff-293">string</span></span>             | <span data-ttu-id="003ff-294">次の製品の種類のいずれか:**アプリケーション**、**持続性のある**、および**UnmanagedConsumable**します。</span><span class="sxs-lookup"><span data-stu-id="003ff-294">One of the following product types: **Application**, **Durable**, and **UnmanagedConsumable**.</span></span>        | <span data-ttu-id="003ff-295">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-295">Yes</span></span>      |
| <span data-ttu-id="003ff-296">purchasedCountry</span><span class="sxs-lookup"><span data-stu-id="003ff-296">purchasedCountry</span></span>     | <span data-ttu-id="003ff-297">string</span><span class="sxs-lookup"><span data-stu-id="003ff-297">string</span></span>             | <span data-ttu-id="003ff-298">なし</span><span class="sxs-lookup"><span data-stu-id="003ff-298">N/A</span></span>   | <span data-ttu-id="003ff-299">X</span><span class="sxs-lookup"><span data-stu-id="003ff-299">No</span></span>       |
| <span data-ttu-id="003ff-300">purchaser</span><span class="sxs-lookup"><span data-stu-id="003ff-300">purchaser</span></span>            | <span data-ttu-id="003ff-301">IdentityContractV6</span><span class="sxs-lookup"><span data-stu-id="003ff-301">IdentityContractV6</span></span> | <span data-ttu-id="003ff-302">存在する場合、項目の購入者の ID を表します。</span><span class="sxs-lookup"><span data-stu-id="003ff-302">If present, this represents the identity of the purchaser of the item.</span></span> <span data-ttu-id="003ff-303">下記に示すこのオブジェクトの詳細を参照してください。</span><span class="sxs-lookup"><span data-stu-id="003ff-303">See the details for this object below.</span></span>        | <span data-ttu-id="003ff-304">X</span><span class="sxs-lookup"><span data-stu-id="003ff-304">No</span></span>       |
| <span data-ttu-id="003ff-305">quantity</span><span class="sxs-lookup"><span data-stu-id="003ff-305">quantity</span></span>             | <span data-ttu-id="003ff-306">number</span><span class="sxs-lookup"><span data-stu-id="003ff-306">number</span></span>             | <span data-ttu-id="003ff-307">項目の数量。</span><span class="sxs-lookup"><span data-stu-id="003ff-307">The quantity of the item.</span></span> <span data-ttu-id="003ff-308">現在、これは常に 1 になります。</span><span class="sxs-lookup"><span data-stu-id="003ff-308">Currently, this will always be 1.</span></span>      | <span data-ttu-id="003ff-309">X</span><span class="sxs-lookup"><span data-stu-id="003ff-309">No</span></span>       |
| <span data-ttu-id="003ff-310">skuId</span><span class="sxs-lookup"><span data-stu-id="003ff-310">skuId</span></span>                | <span data-ttu-id="003ff-311">string</span><span class="sxs-lookup"><span data-stu-id="003ff-311">string</span></span>             | <span data-ttu-id="003ff-312">Microsoft Store カタログ内の製品の [SKU](in-app-purchases-and-trials.md#products-skus-and-availabilities) の [Store ID](in-app-purchases-and-trials.md#store-ids)。</span><span class="sxs-lookup"><span data-stu-id="003ff-312">The [Store ID](in-app-purchases-and-trials.md#store-ids) for the product's [SKU](in-app-purchases-and-trials.md#products-skus-and-availabilities) in the Microsoft Store catalog.</span></span> <span data-ttu-id="003ff-313">SKU の Store ID の例は、0010 です。</span><span class="sxs-lookup"><span data-stu-id="003ff-313">An example Store ID for a SKU is 0010.</span></span>     | <span data-ttu-id="003ff-314">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-314">Yes</span></span>      |
| <span data-ttu-id="003ff-315">skuType</span><span class="sxs-lookup"><span data-stu-id="003ff-315">skuType</span></span>              | <span data-ttu-id="003ff-316">string</span><span class="sxs-lookup"><span data-stu-id="003ff-316">string</span></span>             | <span data-ttu-id="003ff-317">SKU のタイプ。</span><span class="sxs-lookup"><span data-stu-id="003ff-317">Type of the SKU.</span></span> <span data-ttu-id="003ff-318">可能な値は **Trial**、**Full**、および **Rental** です。</span><span class="sxs-lookup"><span data-stu-id="003ff-318">Possible values include **Trial**, **Full**, and **Rental**.</span></span>        | <span data-ttu-id="003ff-319">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-319">Yes</span></span>      |
| <span data-ttu-id="003ff-320">startDate</span><span class="sxs-lookup"><span data-stu-id="003ff-320">startDate</span></span>            | <span data-ttu-id="003ff-321">datetime</span><span class="sxs-lookup"><span data-stu-id="003ff-321">datetime</span></span>           | <span data-ttu-id="003ff-322">項目の有効期間の開始日。</span><span class="sxs-lookup"><span data-stu-id="003ff-322">The date that the item starts being valid.</span></span>       | <span data-ttu-id="003ff-323">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-323">Yes</span></span>      |
| <span data-ttu-id="003ff-324">status</span><span class="sxs-lookup"><span data-stu-id="003ff-324">status</span></span>               | <span data-ttu-id="003ff-325">string</span><span class="sxs-lookup"><span data-stu-id="003ff-325">string</span></span>             | <span data-ttu-id="003ff-326">アイテムの状態。</span><span class="sxs-lookup"><span data-stu-id="003ff-326">The status of the item.</span></span> <span data-ttu-id="003ff-327">可能な値は **Active**、**Expired**、**Revoked**、および **Banned** です。</span><span class="sxs-lookup"><span data-stu-id="003ff-327">Possible values include **Active**, **Expired**, **Revoked**, and **Banned**.</span></span>    | <span data-ttu-id="003ff-328">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-328">Yes</span></span>      |
| <span data-ttu-id="003ff-329">tags</span><span class="sxs-lookup"><span data-stu-id="003ff-329">tags</span></span>                 | <span data-ttu-id="003ff-330">string</span><span class="sxs-lookup"><span data-stu-id="003ff-330">string</span></span>             | <span data-ttu-id="003ff-331">なし</span><span class="sxs-lookup"><span data-stu-id="003ff-331">N/A</span></span>    | <span data-ttu-id="003ff-332">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-332">Yes</span></span>      |
| <span data-ttu-id="003ff-333">transactionId</span><span class="sxs-lookup"><span data-stu-id="003ff-333">transactionId</span></span>        | <span data-ttu-id="003ff-334">guid</span><span class="sxs-lookup"><span data-stu-id="003ff-334">guid</span></span>               | <span data-ttu-id="003ff-335">この項目の購入の結果としてのトランザクション ID。</span><span class="sxs-lookup"><span data-stu-id="003ff-335">The transaction ID as a result of the purchase of this item.</span></span> <span data-ttu-id="003ff-336">フルフィルメント完了として項目を報告するのに使用できます。</span><span class="sxs-lookup"><span data-stu-id="003ff-336">Can be used for reporting an item as fulfilled.</span></span>      | <span data-ttu-id="003ff-337">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-337">Yes</span></span>      |


<span data-ttu-id="003ff-338">IdentityContractV6 オブジェクトには以下のパラメーターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="003ff-338">The IdentityContractV6 object contains the following parameters.</span></span>

| <span data-ttu-id="003ff-339">パラメーター</span><span class="sxs-lookup"><span data-stu-id="003ff-339">Parameter</span></span>     | <span data-ttu-id="003ff-340">種類</span><span class="sxs-lookup"><span data-stu-id="003ff-340">Type</span></span>   | <span data-ttu-id="003ff-341">説明</span><span class="sxs-lookup"><span data-stu-id="003ff-341">Description</span></span>                                                                        | <span data-ttu-id="003ff-342">必須</span><span class="sxs-lookup"><span data-stu-id="003ff-342">Required</span></span> |
|---------------|--------|------------------------------------------------------------------------------------|----------|
| <span data-ttu-id="003ff-343">identityType</span><span class="sxs-lookup"><span data-stu-id="003ff-343">identityType</span></span>  | <span data-ttu-id="003ff-344">string</span><span class="sxs-lookup"><span data-stu-id="003ff-344">string</span></span> | <span data-ttu-id="003ff-345">値 *pub* を格納します。</span><span class="sxs-lookup"><span data-stu-id="003ff-345">Contains the value *pub*.</span></span>                                                      | <span data-ttu-id="003ff-346">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-346">Yes</span></span>      |
| <span data-ttu-id="003ff-347">identityValue</span><span class="sxs-lookup"><span data-stu-id="003ff-347">identityValue</span></span> | <span data-ttu-id="003ff-348">string</span><span class="sxs-lookup"><span data-stu-id="003ff-348">string</span></span> | <span data-ttu-id="003ff-349">指定された Microsoft Store ID キーの *publisherUserId* の文字列値。</span><span class="sxs-lookup"><span data-stu-id="003ff-349">The string value of the *publisherUserId* from the specified Microsoft Store ID key.</span></span> | <span data-ttu-id="003ff-350">〇</span><span class="sxs-lookup"><span data-stu-id="003ff-350">Yes</span></span>      |


### <a name="response-example"></a><span data-ttu-id="003ff-351">応答の例</span><span class="sxs-lookup"><span data-stu-id="003ff-351">Response example</span></span>

```syntax
HTTP/1.1 200 OK
Content-Length: 7241
Content-Type: application/json
MS-CorrelationId: 699681ce-662c-4841-920a-f2269b2b4e6c
MS-RequestId: a9988cf9-652b-4791-beba-b0e732121a12
MS-CV: xu2HW6SrSkyfHyFh.0.1
MS-ServerId: 020022359
Date: Tue, 22 Sep 2015 20:28:18 GMT

{
  "items" : [
    {
      "acquiredDate" : "2015-09-22T19:22:51.2068724+00:00",
      "devOfferId" : "f9587c53-540a-498b-a281-8a349491ed47",
      "endDate" : "9999-12-31T23:59:59.9999999+00:00",
      "fulfillmentData" : [],
      "inAppOfferToken" : "consumable2",
      "itemId" : "4b8fbb13127a41f299270ea668681c1d",
      "localTicketReference" : "1055521810674918",
      "modifiedDate" : "2015-09-22T19:22:51.2513155+00:00",
      "orderId" : "4ba5960d-4ec6-4a81-ac20-aafce02ddf31",
      "ownershipType" : "OwnedByBeneficiary",
      "productId" : "9NBLGGH5WVP6",
      "productType" : "UnmanagedConsumable",
      "purchaser" : {
        "identityType" : "pub",
        "identityValue" : "user123"
      },
      "skuId" : "0010",
      "skuType" : "Full",
      "startDate" : "2015-09-22T19:22:51.2068724+00:00",
      "status" : "Active",
      "tags" : [],
      "transactionId" : "4ba5960d-4ec6-4a81-ac20-aafce02ddf31"
    }
  ]
}
```

## <a name="related-topics"></a><span data-ttu-id="003ff-352">関連トピック</span><span class="sxs-lookup"><span data-stu-id="003ff-352">Related topics</span></span>

* [<span data-ttu-id="003ff-353">サービスからの製品の利用資格を管理します。</span><span class="sxs-lookup"><span data-stu-id="003ff-353">Manage product entitlements from a service</span></span>](view-and-grant-products-from-a-service.md)
* [<span data-ttu-id="003ff-354">Fulfilled コンシューマブル製品をレポートします。</span><span class="sxs-lookup"><span data-stu-id="003ff-354">Report consumable products as fulfilled</span></span>](report-consumable-products-as-fulfilled.md)
* [<span data-ttu-id="003ff-355">無料の製品を付与します。</span><span class="sxs-lookup"><span data-stu-id="003ff-355">Grant free products</span></span>](grant-free-products.md)
* [<span data-ttu-id="003ff-356">Microsoft Store の ID キーを更新します。</span><span class="sxs-lookup"><span data-stu-id="003ff-356">Renew a Microsoft Store ID key</span></span>](renew-a-windows-store-id-key.md)
