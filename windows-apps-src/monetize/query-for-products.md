---
author: Xansky
ms.assetid: D1F233EC-24B5-4F84-A92F-2030753E608E
description: Azure AD クライアント ID に関連付けられているアプリでユーザーが所有しているすべての製品を取得するには、Microsoft Store コレクション API の以下のメソッドを使います。 スコープを指定して特定の製品を照会したり、その他のフィルターを使用したりできます。
title: 製品の照会
ms.author: mhopkins
ms.date: 03/16/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: Windows 10, UWP, Microsoft Store コレクション API, 製品の表示
ms.localizationpriority: medium
ms.openlocfilehash: 066660c307be9f3592aa38cb21a6e00cd960aa73
ms.sourcegitcommit: 72835733ec429a5deb6a11da4112336746e5e9cf
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/20/2018
ms.locfileid: "5167076"
---
# <a name="query-for-products"></a><span data-ttu-id="9c728-105">製品の照会</span><span class="sxs-lookup"><span data-stu-id="9c728-105">Query for products</span></span>


<span data-ttu-id="9c728-106">Azure AD クライアント ID に関連付けられているアプリでユーザーが所有しているすべての製品を取得するには、Microsoft Store コレクション API の以下のメソッドを使います。</span><span class="sxs-lookup"><span data-stu-id="9c728-106">Use this method in the Microsoft Store collection API to get all the products that a customer owns for apps that are associated with your Azure AD client ID.</span></span> <span data-ttu-id="9c728-107">スコープを指定して特定の製品を照会したり、その他のフィルターを使用したりできます。</span><span class="sxs-lookup"><span data-stu-id="9c728-107">You can scope your query to a particular product, or use other filters.</span></span>

<span data-ttu-id="9c728-108">このメソッドは、アプリからのメッセージに対する応答としてサービスから呼び出されるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="9c728-108">This method is designed to be called by your service in response to a message from your app.</span></span> <span data-ttu-id="9c728-109">サービスで、スケジュールに従って定期的にすべてのユーザーをポーリングしないでください。</span><span class="sxs-lookup"><span data-stu-id="9c728-109">Your service should not regularly poll for all users on a schedule.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="9c728-110">前提条件</span><span class="sxs-lookup"><span data-stu-id="9c728-110">Prerequisites</span></span>


<span data-ttu-id="9c728-111">このメソッドを使用するための要件:</span><span class="sxs-lookup"><span data-stu-id="9c728-111">To use this method, you will need:</span></span>

* <span data-ttu-id="9c728-112">対象ユーザー URI の値が `https://onestore.microsoft.com` の Azure AD アクセス トークン。</span><span class="sxs-lookup"><span data-stu-id="9c728-112">An Azure AD access token that has the audience URI value `https://onestore.microsoft.com`.</span></span>
* <span data-ttu-id="9c728-113">取得対象の製品を所有するユーザーの ID を表す Microsoft Store ID キー。</span><span class="sxs-lookup"><span data-stu-id="9c728-113">A Microsoft Store ID key that represents the identity of the user whose products you want to get.</span></span>

<span data-ttu-id="9c728-114">詳しくは、「[サービスによる製品の権利の管理](view-and-grant-products-from-a-service.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="9c728-114">For more information, see [Manage product entitlements from a service](view-and-grant-products-from-a-service.md).</span></span>

## <a name="request"></a><span data-ttu-id="9c728-115">要求</span><span class="sxs-lookup"><span data-stu-id="9c728-115">Request</span></span>

### <a name="request-syntax"></a><span data-ttu-id="9c728-116">要求の構文</span><span class="sxs-lookup"><span data-stu-id="9c728-116">Request syntax</span></span>

| <span data-ttu-id="9c728-117">メソッド</span><span class="sxs-lookup"><span data-stu-id="9c728-117">Method</span></span> | <span data-ttu-id="9c728-118">要求 URI</span><span class="sxs-lookup"><span data-stu-id="9c728-118">Request URI</span></span>                                                 |
|--------|-------------------------------------------------------------|
| <span data-ttu-id="9c728-119">POST</span><span class="sxs-lookup"><span data-stu-id="9c728-119">POST</span></span>   | ```https://collections.mp.microsoft.com/v6.0/collections/query``` |


### <a name="request-header"></a><span data-ttu-id="9c728-120">要求ヘッダー</span><span class="sxs-lookup"><span data-stu-id="9c728-120">Request header</span></span>

| <span data-ttu-id="9c728-121">ヘッダー</span><span class="sxs-lookup"><span data-stu-id="9c728-121">Header</span></span>         | <span data-ttu-id="9c728-122">型</span><span class="sxs-lookup"><span data-stu-id="9c728-122">Type</span></span>   | <span data-ttu-id="9c728-123">説明</span><span class="sxs-lookup"><span data-stu-id="9c728-123">Description</span></span>                                                                                           |
|----------------|--------|-------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="9c728-124">Authorization</span><span class="sxs-lookup"><span data-stu-id="9c728-124">Authorization</span></span>  | <span data-ttu-id="9c728-125">string</span><span class="sxs-lookup"><span data-stu-id="9c728-125">string</span></span> | <span data-ttu-id="9c728-126">必須。</span><span class="sxs-lookup"><span data-stu-id="9c728-126">Required.</span></span> <span data-ttu-id="9c728-127">**Bearer** &lt;*トークン*&gt; という形式の Azure AD アクセス トークン。</span><span class="sxs-lookup"><span data-stu-id="9c728-127">The Azure AD access token in the form **Bearer** &lt;*token*&gt;.</span></span>                           |
| <span data-ttu-id="9c728-128">Host</span><span class="sxs-lookup"><span data-stu-id="9c728-128">Host</span></span>           | <span data-ttu-id="9c728-129">string</span><span class="sxs-lookup"><span data-stu-id="9c728-129">string</span></span> | <span data-ttu-id="9c728-130">値 **collections.mp.microsoft.com** に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9c728-130">Must be set to the value **collections.mp.microsoft.com**.</span></span>                                            |
| <span data-ttu-id="9c728-131">Content-Length</span><span class="sxs-lookup"><span data-stu-id="9c728-131">Content-Length</span></span> | <span data-ttu-id="9c728-132">number</span><span class="sxs-lookup"><span data-stu-id="9c728-132">number</span></span> | <span data-ttu-id="9c728-133">要求の本文の長さ。</span><span class="sxs-lookup"><span data-stu-id="9c728-133">The length of the request body.</span></span>                                                                       |
| <span data-ttu-id="9c728-134">Content-Type</span><span class="sxs-lookup"><span data-stu-id="9c728-134">Content-Type</span></span>   | <span data-ttu-id="9c728-135">string</span><span class="sxs-lookup"><span data-stu-id="9c728-135">string</span></span> | <span data-ttu-id="9c728-136">要求と応答の種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="9c728-136">Specifies the request and response type.</span></span> <span data-ttu-id="9c728-137">現時点では、サポートされている唯一の値は **application/json** です。</span><span class="sxs-lookup"><span data-stu-id="9c728-137">Currently, the only supported value is **application/json**.</span></span> |


### <a name="request-body"></a><span data-ttu-id="9c728-138">要求本文</span><span class="sxs-lookup"><span data-stu-id="9c728-138">Request body</span></span>

| <span data-ttu-id="9c728-139">パラメーター</span><span class="sxs-lookup"><span data-stu-id="9c728-139">Parameter</span></span>         | <span data-ttu-id="9c728-140">型</span><span class="sxs-lookup"><span data-stu-id="9c728-140">Type</span></span>         | <span data-ttu-id="9c728-141">説明</span><span class="sxs-lookup"><span data-stu-id="9c728-141">Description</span></span>         | <span data-ttu-id="9c728-142">必須かどうか</span><span class="sxs-lookup"><span data-stu-id="9c728-142">Required</span></span> |
|-------------------|--------------|---------------------|----------|
| <span data-ttu-id="9c728-143">beneficiaries</span><span class="sxs-lookup"><span data-stu-id="9c728-143">beneficiaries</span></span>     | <span data-ttu-id="9c728-144">UserIdentity</span><span class="sxs-lookup"><span data-stu-id="9c728-144">UserIdentity</span></span> | <span data-ttu-id="9c728-145">製品照会の対象となるユーザーを表す UserIdentity オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="9c728-145">A UserIdentity object that represents the user being queried for products.</span></span> <span data-ttu-id="9c728-146">詳細については、次の表をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="9c728-146">For more information, see the table below.</span></span>    | <span data-ttu-id="9c728-147">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-147">Yes</span></span>      |
| <span data-ttu-id="9c728-148">continuationToken</span><span class="sxs-lookup"><span data-stu-id="9c728-148">continuationToken</span></span> | <span data-ttu-id="9c728-149">string</span><span class="sxs-lookup"><span data-stu-id="9c728-149">string</span></span>       | <span data-ttu-id="9c728-150">製品のセットが複数ある場合、ページ制限に達すると、応答本文で継続トークンが返されます。</span><span class="sxs-lookup"><span data-stu-id="9c728-150">If there are multiple sets of products, the response body returns a continuation token when the page limit is reached.</span></span> <span data-ttu-id="9c728-151">残りの製品を取得する後続の呼び出しで、この継続トークンを指定します。</span><span class="sxs-lookup"><span data-stu-id="9c728-151">Provide that continuation token here in subsequent calls to retrieve remaining products.</span></span>       | <span data-ttu-id="9c728-152">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-152">No</span></span>       |
| <span data-ttu-id="9c728-153">maxPageSize</span><span class="sxs-lookup"><span data-stu-id="9c728-153">maxPageSize</span></span>       | <span data-ttu-id="9c728-154">number</span><span class="sxs-lookup"><span data-stu-id="9c728-154">number</span></span>       | <span data-ttu-id="9c728-155">1 つの応答で返す製品の最大数。</span><span class="sxs-lookup"><span data-stu-id="9c728-155">The maximum number of products to return in one response.</span></span> <span data-ttu-id="9c728-156">既定値および最大値は 100 です。</span><span class="sxs-lookup"><span data-stu-id="9c728-156">The default and maximum value is 100.</span></span>                 | <span data-ttu-id="9c728-157">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-157">No</span></span>       |
| <span data-ttu-id="9c728-158">modifiedAfter</span><span class="sxs-lookup"><span data-stu-id="9c728-158">modifiedAfter</span></span>     | <span data-ttu-id="9c728-159">datetime</span><span class="sxs-lookup"><span data-stu-id="9c728-159">datetime</span></span>     | <span data-ttu-id="9c728-160">指定した場合、この日付以降に変更された製品だけがサービスから返されます。</span><span class="sxs-lookup"><span data-stu-id="9c728-160">If specified, the service only returns products that have been modified after this date.</span></span>        | <span data-ttu-id="9c728-161">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-161">No</span></span>       |
| <span data-ttu-id="9c728-162">parentProductId</span><span class="sxs-lookup"><span data-stu-id="9c728-162">parentProductId</span></span>   | <span data-ttu-id="9c728-163">string</span><span class="sxs-lookup"><span data-stu-id="9c728-163">string</span></span>       | <span data-ttu-id="9c728-164">指定した場合、指定されたアプリに対応するアドオンだけがサービスから返されます。</span><span class="sxs-lookup"><span data-stu-id="9c728-164">If specified, the service only returns add-ons that correspond to the specified app.</span></span>      | <span data-ttu-id="9c728-165">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-165">No</span></span>       |
| <span data-ttu-id="9c728-166">productSkuIds</span><span class="sxs-lookup"><span data-stu-id="9c728-166">productSkuIds</span></span>     | <span data-ttu-id="9c728-167">list&lt;ProductSkuId&gt;</span><span class="sxs-lookup"><span data-stu-id="9c728-167">list&lt;ProductSkuId&gt;</span></span> | <span data-ttu-id="9c728-168">指定した場合、指定された製品/SKU のペアに該当する製品だけがサービスから返されます。</span><span class="sxs-lookup"><span data-stu-id="9c728-168">If specified, the service only returns products applicable to the provided product/SKU pairs.</span></span> <span data-ttu-id="9c728-169">詳細については、次の表をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="9c728-169">For more information, see the table below.</span></span>      | <span data-ttu-id="9c728-170">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-170">No</span></span>       |
| <span data-ttu-id="9c728-171">productTypes</span><span class="sxs-lookup"><span data-stu-id="9c728-171">productTypes</span></span>      | <span data-ttu-id="9c728-172">string</span><span class="sxs-lookup"><span data-stu-id="9c728-172">string</span></span>       | <span data-ttu-id="9c728-173">指定した場合、指定された製品タイプに一致する製品だけがサービスから返されます。</span><span class="sxs-lookup"><span data-stu-id="9c728-173">If specified, the service only returns products that match the specified product types.</span></span> <span data-ttu-id="9c728-174">サポートされている製品タイプは **Application**、**Durable**、および **UnmanagedConsumable** です。</span><span class="sxs-lookup"><span data-stu-id="9c728-174">Supported product types are **Application**, **Durable**, and **UnmanagedConsumable**.</span></span>     | <span data-ttu-id="9c728-175">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-175">No</span></span>       |
| <span data-ttu-id="9c728-176">validityType</span><span class="sxs-lookup"><span data-stu-id="9c728-176">validityType</span></span>      | <span data-ttu-id="9c728-177">string</span><span class="sxs-lookup"><span data-stu-id="9c728-177">string</span></span>       | <span data-ttu-id="9c728-178">**All** に設定した場合、有効期限が切れた項目を含む、ユーザーのすべての製品が返されます。</span><span class="sxs-lookup"><span data-stu-id="9c728-178">When set to **All**, all products for a user will be returned, including expired items.</span></span> <span data-ttu-id="9c728-179">**Valid** に設定した場合、その時点で有効な製品だけが返されます (つまり、アクティブな状態で、開始日が現在より前、終了日が現在より後である製品)。</span><span class="sxs-lookup"><span data-stu-id="9c728-179">When set to **Valid**, only products that are valid at this point in time are returned (that is, they have an active status, start date &lt; now, and end date is &gt; now).</span></span> | <span data-ttu-id="9c728-180">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-180">No</span></span>       |


<span data-ttu-id="9c728-181">UserIdentity オブジェクトには以下のパラメーターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="9c728-181">The UserIdentity object contains the following parameters.</span></span>

| <span data-ttu-id="9c728-182">パラメーター</span><span class="sxs-lookup"><span data-stu-id="9c728-182">Parameter</span></span>            | <span data-ttu-id="9c728-183">型</span><span class="sxs-lookup"><span data-stu-id="9c728-183">Type</span></span>   |  <span data-ttu-id="9c728-184">説明</span><span class="sxs-lookup"><span data-stu-id="9c728-184">Description</span></span>      | <span data-ttu-id="9c728-185">必須かどうか</span><span class="sxs-lookup"><span data-stu-id="9c728-185">Required</span></span> |
|----------------------|--------|----------------|----------|
| <span data-ttu-id="9c728-186">identityType</span><span class="sxs-lookup"><span data-stu-id="9c728-186">identityType</span></span>         | <span data-ttu-id="9c728-187">string</span><span class="sxs-lookup"><span data-stu-id="9c728-187">string</span></span> | <span data-ttu-id="9c728-188">文字列値 **b2b** を指定します。</span><span class="sxs-lookup"><span data-stu-id="9c728-188">Specify the string value **b2b**.</span></span>    | <span data-ttu-id="9c728-189">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-189">Yes</span></span>      |
| <span data-ttu-id="9c728-190">identityValue</span><span class="sxs-lookup"><span data-stu-id="9c728-190">identityValue</span></span>        | <span data-ttu-id="9c728-191">string</span><span class="sxs-lookup"><span data-stu-id="9c728-191">string</span></span> | <span data-ttu-id="9c728-192">照会する製品のユーザーの ID を表す [Microsoft Store ID キー](view-and-grant-products-from-a-service.md#step-4)。</span><span class="sxs-lookup"><span data-stu-id="9c728-192">The [Microsoft Store ID key](view-and-grant-products-from-a-service.md#step-4) that represents the identity of the user for whom you want to query products.</span></span>  | <span data-ttu-id="9c728-193">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-193">Yes</span></span>      |
| <span data-ttu-id="9c728-194">localTicketReference</span><span class="sxs-lookup"><span data-stu-id="9c728-194">localTicketReference</span></span> | <span data-ttu-id="9c728-195">string</span><span class="sxs-lookup"><span data-stu-id="9c728-195">string</span></span> | <span data-ttu-id="9c728-196">返された製品で必要な識別子。</span><span class="sxs-lookup"><span data-stu-id="9c728-196">The requested identifier for the returned products.</span></span> <span data-ttu-id="9c728-197">応答本文で返された項目には、一致する *localTicketReference* があります。</span><span class="sxs-lookup"><span data-stu-id="9c728-197">Returned items in the response body will have a matching *localTicketReference*.</span></span> <span data-ttu-id="9c728-198">Microsoft Store ID キーの *userId* 要求と同じ値を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="9c728-198">We recommend that you use the same value as the *userId* claim in the Microsoft Store ID key.</span></span> | <span data-ttu-id="9c728-199">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-199">Yes</span></span>      |


<span data-ttu-id="9c728-200">ProductSkuId オブジェクトには以下のパラメーターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="9c728-200">The ProductSkuId object contains the following parameters.</span></span>

| <span data-ttu-id="9c728-201">パラメーター</span><span class="sxs-lookup"><span data-stu-id="9c728-201">Parameter</span></span> | <span data-ttu-id="9c728-202">型</span><span class="sxs-lookup"><span data-stu-id="9c728-202">Type</span></span>   | <span data-ttu-id="9c728-203">説明</span><span class="sxs-lookup"><span data-stu-id="9c728-203">Description</span></span>          | <span data-ttu-id="9c728-204">必須かどうか</span><span class="sxs-lookup"><span data-stu-id="9c728-204">Required</span></span> |
|-----------|--------|----------------------|----------|
| <span data-ttu-id="9c728-205">productId</span><span class="sxs-lookup"><span data-stu-id="9c728-205">productId</span></span> | <span data-ttu-id="9c728-206">string</span><span class="sxs-lookup"><span data-stu-id="9c728-206">string</span></span> | <span data-ttu-id="9c728-207">Microsoft Store カタログ内の[製品](in-app-purchases-and-trials.md#products-skus-and-availabilities)の [Store ID](in-app-purchases-and-trials.md#store-ids)。</span><span class="sxs-lookup"><span data-stu-id="9c728-207">The [Store ID](in-app-purchases-and-trials.md#store-ids) for a [product](in-app-purchases-and-trials.md#products-skus-and-availabilities) in the Microsoft Store catalog.</span></span> <span data-ttu-id="9c728-208">製品の Store ID の例は、9NBLGGH42CFD です。</span><span class="sxs-lookup"><span data-stu-id="9c728-208">An example Store ID for a product is 9NBLGGH42CFD.</span></span> | <span data-ttu-id="9c728-209">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-209">Yes</span></span>      |
| <span data-ttu-id="9c728-210">skuID</span><span class="sxs-lookup"><span data-stu-id="9c728-210">skuID</span></span>     | <span data-ttu-id="9c728-211">string</span><span class="sxs-lookup"><span data-stu-id="9c728-211">string</span></span> | <span data-ttu-id="9c728-212">Microsoft Store カタログ内の製品の [SKU](in-app-purchases-and-trials.md#products-skus-and-availabilities) の [Store ID](in-app-purchases-and-trials.md#store-ids)。</span><span class="sxs-lookup"><span data-stu-id="9c728-212">The [Store ID](in-app-purchases-and-trials.md#store-ids) for a product's [SKU](in-app-purchases-and-trials.md#products-skus-and-availabilities) in the Microsoft Store catalog.</span></span> <span data-ttu-id="9c728-213">SKU の Store ID の例は、0010 です。</span><span class="sxs-lookup"><span data-stu-id="9c728-213">An example Store ID for a SKU is 0010.</span></span>       | <span data-ttu-id="9c728-214">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-214">Yes</span></span>      |


### <a name="request-example"></a><span data-ttu-id="9c728-215">要求の例</span><span class="sxs-lookup"><span data-stu-id="9c728-215">Request example</span></span>

```syntax
POST https://collections.mp.microsoft.com/v6.0/collections/query HTTP/1.1
Authorization: Bearer eyJ0eXAiOiJKV1Q…….
Host: collections.mp.microsoft.com
Content-Length: 2531
Content-Type: application/json

{
  "maxPageSize": 100,
  "beneficiaries": [
    {
      "localTicketReference": "1055521810674918",
      "identityValue": "eyJ0eXAiOiJ……",
      "identityType": "b2b"
    }
  ],
  "modifiedAfter": "\/Date(-62135568000000)\/",
  "productSkuIds": [
    {
      "productId": "9NBLGGH5WVP6",
      "skuId": "0010"
    }
  ],
  "productTypes": [
    "UnmanagedConsumable"
  ],
  "validityType": "All"
}
```

## <a name="response"></a><span data-ttu-id="9c728-216">応答</span><span class="sxs-lookup"><span data-stu-id="9c728-216">Response</span></span>


### <a name="response-body"></a><span data-ttu-id="9c728-217">応答本文</span><span class="sxs-lookup"><span data-stu-id="9c728-217">Response body</span></span>

| <span data-ttu-id="9c728-218">パラメーター</span><span class="sxs-lookup"><span data-stu-id="9c728-218">Parameter</span></span>         | <span data-ttu-id="9c728-219">型</span><span class="sxs-lookup"><span data-stu-id="9c728-219">Type</span></span>                     | <span data-ttu-id="9c728-220">説明</span><span class="sxs-lookup"><span data-stu-id="9c728-220">Description</span></span>          | <span data-ttu-id="9c728-221">必須かどうか</span><span class="sxs-lookup"><span data-stu-id="9c728-221">Required</span></span> |
|-------------------|--------------------------|-----------------------|----------|
| <span data-ttu-id="9c728-222">continuationToken</span><span class="sxs-lookup"><span data-stu-id="9c728-222">continuationToken</span></span> | <span data-ttu-id="9c728-223">string</span><span class="sxs-lookup"><span data-stu-id="9c728-223">string</span></span>                   | <span data-ttu-id="9c728-224">製品のセットが複数ある場合、ページ制限に達すると、このトークンが返されます。</span><span class="sxs-lookup"><span data-stu-id="9c728-224">If there are multiple sets of products, this token is returned when the page limit is reached.</span></span> <span data-ttu-id="9c728-225">残りの製品を取得する後続の呼び出しで、この継続トークンを指定できます。</span><span class="sxs-lookup"><span data-stu-id="9c728-225">You can specify this continuation token in subsequent calls to retrieve remaining products.</span></span> | <span data-ttu-id="9c728-226">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-226">No</span></span>       |
| <span data-ttu-id="9c728-227">items</span><span class="sxs-lookup"><span data-stu-id="9c728-227">items</span></span>             | <span data-ttu-id="9c728-228">CollectionItemContractV6</span><span class="sxs-lookup"><span data-stu-id="9c728-228">CollectionItemContractV6</span></span> | <span data-ttu-id="9c728-229">指定したユーザーの製品の配列。</span><span class="sxs-lookup"><span data-stu-id="9c728-229">An array of products for the specified user.</span></span> <span data-ttu-id="9c728-230">詳細については、次の表をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="9c728-230">For more information, see the table below.</span></span>        | <span data-ttu-id="9c728-231">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-231">No</span></span>       |


<span data-ttu-id="9c728-232">CollectionItemContractV6 オブジェクトには以下のパラメーターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="9c728-232">The CollectionItemContractV6 object contains the following parameters.</span></span>

| <span data-ttu-id="9c728-233">パラメーター</span><span class="sxs-lookup"><span data-stu-id="9c728-233">Parameter</span></span>            | <span data-ttu-id="9c728-234">型</span><span class="sxs-lookup"><span data-stu-id="9c728-234">Type</span></span>               | <span data-ttu-id="9c728-235">説明</span><span class="sxs-lookup"><span data-stu-id="9c728-235">Description</span></span>            | <span data-ttu-id="9c728-236">必須かどうか</span><span class="sxs-lookup"><span data-stu-id="9c728-236">Required</span></span> |
|----------------------|--------------------|-------------------------|----------|
| <span data-ttu-id="9c728-237">acquiredDate</span><span class="sxs-lookup"><span data-stu-id="9c728-237">acquiredDate</span></span>         | <span data-ttu-id="9c728-238">datetime</span><span class="sxs-lookup"><span data-stu-id="9c728-238">datetime</span></span>           | <span data-ttu-id="9c728-239">ユーザーが項目を取得した日付。</span><span class="sxs-lookup"><span data-stu-id="9c728-239">The date on which the user acquired the item.</span></span>                  | <span data-ttu-id="9c728-240">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-240">Yes</span></span>      |
| <span data-ttu-id="9c728-241">campaignId</span><span class="sxs-lookup"><span data-stu-id="9c728-241">campaignId</span></span>           | <span data-ttu-id="9c728-242">string</span><span class="sxs-lookup"><span data-stu-id="9c728-242">string</span></span>             | <span data-ttu-id="9c728-243">この項目の購入時に提供されたキャンペーン ID。</span><span class="sxs-lookup"><span data-stu-id="9c728-243">The campaign ID that was provided at purchase time for this item.</span></span>                  | <span data-ttu-id="9c728-244">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-244">No</span></span>       |
| <span data-ttu-id="9c728-245">devOfferId</span><span class="sxs-lookup"><span data-stu-id="9c728-245">devOfferId</span></span>           | <span data-ttu-id="9c728-246">string</span><span class="sxs-lookup"><span data-stu-id="9c728-246">string</span></span>             | <span data-ttu-id="9c728-247">アプリ内購入からのプラン ID。</span><span class="sxs-lookup"><span data-stu-id="9c728-247">The offer ID from an in-app purchase.</span></span>              | <span data-ttu-id="9c728-248">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-248">No</span></span>       |
| <span data-ttu-id="9c728-249">endDate</span><span class="sxs-lookup"><span data-stu-id="9c728-249">endDate</span></span>              | <span data-ttu-id="9c728-250">datetime</span><span class="sxs-lookup"><span data-stu-id="9c728-250">datetime</span></span>           | <span data-ttu-id="9c728-251">項目の終了日。</span><span class="sxs-lookup"><span data-stu-id="9c728-251">The end date of the item.</span></span>              | <span data-ttu-id="9c728-252">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-252">Yes</span></span>      |
| <span data-ttu-id="9c728-253">fulfillmentData</span><span class="sxs-lookup"><span data-stu-id="9c728-253">fulfillmentData</span></span>      | <span data-ttu-id="9c728-254">string</span><span class="sxs-lookup"><span data-stu-id="9c728-254">string</span></span>             | <span data-ttu-id="9c728-255">該当なし</span><span class="sxs-lookup"><span data-stu-id="9c728-255">N/A</span></span>         | <span data-ttu-id="9c728-256">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-256">No</span></span>       |
| <span data-ttu-id="9c728-257">inAppOfferToken</span><span class="sxs-lookup"><span data-stu-id="9c728-257">inAppOfferToken</span></span>      | <span data-ttu-id="9c728-258">string</span><span class="sxs-lookup"><span data-stu-id="9c728-258">string</span></span>             | <span data-ttu-id="9c728-259">Windows デベロッパー センター ダッシュボードで項目に割り当てられている、開発者が指定した製品 ID 文字列。</span><span class="sxs-lookup"><span data-stu-id="9c728-259">The developer-specified product ID string that is assigned to the item in the Windows Dev Center dashboard.</span></span> <span data-ttu-id="9c728-260">製品 ID の例は *product123* です。</span><span class="sxs-lookup"><span data-stu-id="9c728-260">An example product ID is *product123*.</span></span> | <span data-ttu-id="9c728-261">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-261">No</span></span>       |
| <span data-ttu-id="9c728-262">itemId</span><span class="sxs-lookup"><span data-stu-id="9c728-262">itemId</span></span>               | <span data-ttu-id="9c728-263">string</span><span class="sxs-lookup"><span data-stu-id="9c728-263">string</span></span>             | <span data-ttu-id="9c728-264">ユーザーが所有する他の項目からこのコレクション項目を識別する ID。</span><span class="sxs-lookup"><span data-stu-id="9c728-264">An ID that identifies this collection item from other items the user owns.</span></span> <span data-ttu-id="9c728-265">この ID は製品ごとに一意です。</span><span class="sxs-lookup"><span data-stu-id="9c728-265">This ID is unique per product.</span></span>   | <span data-ttu-id="9c728-266">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-266">Yes</span></span>      |
| <span data-ttu-id="9c728-267">localTicketReference</span><span class="sxs-lookup"><span data-stu-id="9c728-267">localTicketReference</span></span> | <span data-ttu-id="9c728-268">string</span><span class="sxs-lookup"><span data-stu-id="9c728-268">string</span></span>             | <span data-ttu-id="9c728-269">要求本文の *localTicketReference* で指定された ID。</span><span class="sxs-lookup"><span data-stu-id="9c728-269">The ID of the previously supplied *localTicketReference* in the request body.</span></span>                  | <span data-ttu-id="9c728-270">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-270">Yes</span></span>      |
| <span data-ttu-id="9c728-271">modifiedDate</span><span class="sxs-lookup"><span data-stu-id="9c728-271">modifiedDate</span></span>         | <span data-ttu-id="9c728-272">datetime</span><span class="sxs-lookup"><span data-stu-id="9c728-272">datetime</span></span>           | <span data-ttu-id="9c728-273">この項目が最後に更新された日付。</span><span class="sxs-lookup"><span data-stu-id="9c728-273">The date this item was last modified.</span></span>              | <span data-ttu-id="9c728-274">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-274">Yes</span></span>      |
| <span data-ttu-id="9c728-275">orderId</span><span class="sxs-lookup"><span data-stu-id="9c728-275">orderId</span></span>              | <span data-ttu-id="9c728-276">string</span><span class="sxs-lookup"><span data-stu-id="9c728-276">string</span></span>             | <span data-ttu-id="9c728-277">存在する場合、この項目が取得された注文 ID。</span><span class="sxs-lookup"><span data-stu-id="9c728-277">If present, the order ID of which this item was obtained.</span></span>              | <span data-ttu-id="9c728-278">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-278">No</span></span>       |
| <span data-ttu-id="9c728-279">orderLineItemId</span><span class="sxs-lookup"><span data-stu-id="9c728-279">orderLineItemId</span></span>      | <span data-ttu-id="9c728-280">string</span><span class="sxs-lookup"><span data-stu-id="9c728-280">string</span></span>             | <span data-ttu-id="9c728-281">存在する場合、この項目が取得された特定の注文の行項目。</span><span class="sxs-lookup"><span data-stu-id="9c728-281">If present, the line item of the particular order for which this item was obtained.</span></span>              | <span data-ttu-id="9c728-282">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-282">No</span></span>       |
| <span data-ttu-id="9c728-283">ownershipType</span><span class="sxs-lookup"><span data-stu-id="9c728-283">ownershipType</span></span>        | <span data-ttu-id="9c728-284">string</span><span class="sxs-lookup"><span data-stu-id="9c728-284">string</span></span>             | <span data-ttu-id="9c728-285">文字列 *OwnedByBeneficiary*。</span><span class="sxs-lookup"><span data-stu-id="9c728-285">The string *OwnedByBeneficiary*.</span></span>   | <span data-ttu-id="9c728-286">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-286">Yes</span></span>      |
| <span data-ttu-id="9c728-287">productId</span><span class="sxs-lookup"><span data-stu-id="9c728-287">productId</span></span>            | <span data-ttu-id="9c728-288">string</span><span class="sxs-lookup"><span data-stu-id="9c728-288">string</span></span>             | <span data-ttu-id="9c728-289">Microsoft Store カタログ内の[製品](in-app-purchases-and-trials.md#products-skus-and-availabilities)の [Store ID](in-app-purchases-and-trials.md#store-ids)。</span><span class="sxs-lookup"><span data-stu-id="9c728-289">The [Store ID](in-app-purchases-and-trials.md#store-ids) for the [product](in-app-purchases-and-trials.md#products-skus-and-availabilities) in the Microsoft Store catalog.</span></span> <span data-ttu-id="9c728-290">製品の Store ID の例は、9NBLGGH42CFD です。</span><span class="sxs-lookup"><span data-stu-id="9c728-290">An example Store ID for a product is 9NBLGGH42CFD.</span></span>          | <span data-ttu-id="9c728-291">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-291">Yes</span></span>      |
| <span data-ttu-id="9c728-292">productType</span><span class="sxs-lookup"><span data-stu-id="9c728-292">productType</span></span>          | <span data-ttu-id="9c728-293">string</span><span class="sxs-lookup"><span data-stu-id="9c728-293">string</span></span>             | <span data-ttu-id="9c728-294">**Application**、**Durable**、および **UnmanagedConsumable** の製品タイプのいずれか。</span><span class="sxs-lookup"><span data-stu-id="9c728-294">One of the following product types: **Application**, **Durable**, and **UnmanagedConsumable**.</span></span>        | <span data-ttu-id="9c728-295">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-295">Yes</span></span>      |
| <span data-ttu-id="9c728-296">purchasedCountry</span><span class="sxs-lookup"><span data-stu-id="9c728-296">purchasedCountry</span></span>     | <span data-ttu-id="9c728-297">string</span><span class="sxs-lookup"><span data-stu-id="9c728-297">string</span></span>             | <span data-ttu-id="9c728-298">該当なし</span><span class="sxs-lookup"><span data-stu-id="9c728-298">N/A</span></span>   | <span data-ttu-id="9c728-299">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-299">No</span></span>       |
| <span data-ttu-id="9c728-300">purchaser</span><span class="sxs-lookup"><span data-stu-id="9c728-300">purchaser</span></span>            | <span data-ttu-id="9c728-301">IdentityContractV6</span><span class="sxs-lookup"><span data-stu-id="9c728-301">IdentityContractV6</span></span> | <span data-ttu-id="9c728-302">存在する場合、項目の購入者の ID を表します。</span><span class="sxs-lookup"><span data-stu-id="9c728-302">If present, this represents the identity of the purchaser of the item.</span></span> <span data-ttu-id="9c728-303">下記に示すこのオブジェクトの詳細を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c728-303">See the details for this object below.</span></span>        | <span data-ttu-id="9c728-304">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-304">No</span></span>       |
| <span data-ttu-id="9c728-305">quantity</span><span class="sxs-lookup"><span data-stu-id="9c728-305">quantity</span></span>             | <span data-ttu-id="9c728-306">number</span><span class="sxs-lookup"><span data-stu-id="9c728-306">number</span></span>             | <span data-ttu-id="9c728-307">項目の数量。</span><span class="sxs-lookup"><span data-stu-id="9c728-307">The quantity of the item.</span></span> <span data-ttu-id="9c728-308">現在、これは常に 1 になります。</span><span class="sxs-lookup"><span data-stu-id="9c728-308">Currently, this will always be 1.</span></span>      | <span data-ttu-id="9c728-309">省略可能</span><span class="sxs-lookup"><span data-stu-id="9c728-309">No</span></span>       |
| <span data-ttu-id="9c728-310">skuId</span><span class="sxs-lookup"><span data-stu-id="9c728-310">skuId</span></span>                | <span data-ttu-id="9c728-311">string</span><span class="sxs-lookup"><span data-stu-id="9c728-311">string</span></span>             | <span data-ttu-id="9c728-312">Microsoft Store カタログ内の製品の [SKU](in-app-purchases-and-trials.md#products-skus-and-availabilities) の [Store ID](in-app-purchases-and-trials.md#store-ids)。</span><span class="sxs-lookup"><span data-stu-id="9c728-312">The [Store ID](in-app-purchases-and-trials.md#store-ids) for the product's [SKU](in-app-purchases-and-trials.md#products-skus-and-availabilities) in the Microsoft Store catalog.</span></span> <span data-ttu-id="9c728-313">SKU の Store ID の例は、0010 です。</span><span class="sxs-lookup"><span data-stu-id="9c728-313">An example Store ID for a SKU is 0010.</span></span>     | <span data-ttu-id="9c728-314">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-314">Yes</span></span>      |
| <span data-ttu-id="9c728-315">skuType</span><span class="sxs-lookup"><span data-stu-id="9c728-315">skuType</span></span>              | <span data-ttu-id="9c728-316">string</span><span class="sxs-lookup"><span data-stu-id="9c728-316">string</span></span>             | <span data-ttu-id="9c728-317">SKU のタイプ。</span><span class="sxs-lookup"><span data-stu-id="9c728-317">Type of the SKU.</span></span> <span data-ttu-id="9c728-318">可能な値は **Trial**、**Full**、および **Rental** です。</span><span class="sxs-lookup"><span data-stu-id="9c728-318">Possible values include **Trial**, **Full**, and **Rental**.</span></span>        | <span data-ttu-id="9c728-319">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-319">Yes</span></span>      |
| <span data-ttu-id="9c728-320">startDate</span><span class="sxs-lookup"><span data-stu-id="9c728-320">startDate</span></span>            | <span data-ttu-id="9c728-321">datetime</span><span class="sxs-lookup"><span data-stu-id="9c728-321">datetime</span></span>           | <span data-ttu-id="9c728-322">項目の有効期間の開始日。</span><span class="sxs-lookup"><span data-stu-id="9c728-322">The date that the item starts being valid.</span></span>       | <span data-ttu-id="9c728-323">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-323">Yes</span></span>      |
| <span data-ttu-id="9c728-324">status</span><span class="sxs-lookup"><span data-stu-id="9c728-324">status</span></span>               | <span data-ttu-id="9c728-325">string</span><span class="sxs-lookup"><span data-stu-id="9c728-325">string</span></span>             | <span data-ttu-id="9c728-326">アイテムの状態。</span><span class="sxs-lookup"><span data-stu-id="9c728-326">The status of the item.</span></span> <span data-ttu-id="9c728-327">可能な値は **Active**、**Expired**、**Revoked**、および **Banned** です。</span><span class="sxs-lookup"><span data-stu-id="9c728-327">Possible values include **Active**, **Expired**, **Revoked**, and **Banned**.</span></span>    | <span data-ttu-id="9c728-328">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-328">Yes</span></span>      |
| <span data-ttu-id="9c728-329">tags</span><span class="sxs-lookup"><span data-stu-id="9c728-329">tags</span></span>                 | <span data-ttu-id="9c728-330">string</span><span class="sxs-lookup"><span data-stu-id="9c728-330">string</span></span>             | <span data-ttu-id="9c728-331">該当なし。</span><span class="sxs-lookup"><span data-stu-id="9c728-331">N/A</span></span>    | <span data-ttu-id="9c728-332">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-332">Yes</span></span>      |
| <span data-ttu-id="9c728-333">transactionId</span><span class="sxs-lookup"><span data-stu-id="9c728-333">transactionId</span></span>        | <span data-ttu-id="9c728-334">guid</span><span class="sxs-lookup"><span data-stu-id="9c728-334">guid</span></span>               | <span data-ttu-id="9c728-335">この項目の購入の結果としてのトランザクション ID。</span><span class="sxs-lookup"><span data-stu-id="9c728-335">The transaction ID as a result of the purchase of this item.</span></span> <span data-ttu-id="9c728-336">フルフィルメント完了として項目を報告するのに使用できます。</span><span class="sxs-lookup"><span data-stu-id="9c728-336">Can be used for reporting an item as fulfilled.</span></span>      | <span data-ttu-id="9c728-337">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-337">Yes</span></span>      |


<span data-ttu-id="9c728-338">IdentityContractV6 オブジェクトには以下のパラメーターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="9c728-338">The IdentityContractV6 object contains the following parameters.</span></span>

| <span data-ttu-id="9c728-339">パラメーター</span><span class="sxs-lookup"><span data-stu-id="9c728-339">Parameter</span></span>     | <span data-ttu-id="9c728-340">型</span><span class="sxs-lookup"><span data-stu-id="9c728-340">Type</span></span>   | <span data-ttu-id="9c728-341">説明</span><span class="sxs-lookup"><span data-stu-id="9c728-341">Description</span></span>                                                                        | <span data-ttu-id="9c728-342">必須かどうか</span><span class="sxs-lookup"><span data-stu-id="9c728-342">Required</span></span> |
|---------------|--------|------------------------------------------------------------------------------------|----------|
| <span data-ttu-id="9c728-343">identityType</span><span class="sxs-lookup"><span data-stu-id="9c728-343">identityType</span></span>  | <span data-ttu-id="9c728-344">string</span><span class="sxs-lookup"><span data-stu-id="9c728-344">string</span></span> | <span data-ttu-id="9c728-345">値 *pub* を格納します。</span><span class="sxs-lookup"><span data-stu-id="9c728-345">Contains the value *pub*.</span></span>                                                      | <span data-ttu-id="9c728-346">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-346">Yes</span></span>      |
| <span data-ttu-id="9c728-347">identityValue</span><span class="sxs-lookup"><span data-stu-id="9c728-347">identityValue</span></span> | <span data-ttu-id="9c728-348">string</span><span class="sxs-lookup"><span data-stu-id="9c728-348">string</span></span> | <span data-ttu-id="9c728-349">指定された Microsoft Store ID キーの *publisherUserId* の文字列値。</span><span class="sxs-lookup"><span data-stu-id="9c728-349">The string value of the *publisherUserId* from the specified Microsoft Store ID key.</span></span> | <span data-ttu-id="9c728-350">必須</span><span class="sxs-lookup"><span data-stu-id="9c728-350">Yes</span></span>      |


### <a name="response-example"></a><span data-ttu-id="9c728-351">応答の例</span><span class="sxs-lookup"><span data-stu-id="9c728-351">Response example</span></span>

```syntax
HTTP/1.1 200 OK
Content-Length: 7241
Content-Type: application/json
MS-CorrelationId: 699681ce-662c-4841-920a-f2269b2b4e6c
MS-RequestId: a9988cf9-652b-4791-beba-b0e732121a12
MS-CV: xu2HW6SrSkyfHyFh.0.1
MS-ServerId: 020022359
Date: Tue, 22 Sep 2015 20:28:18 GMT

{
  "items" : [
    {
      "acquiredDate" : "2015-09-22T19:22:51.2068724+00:00",
      "devOfferId" : "f9587c53-540a-498b-a281-8a349491ed47",
      "endDate" : "9999-12-31T23:59:59.9999999+00:00",
      "fulfillmentData" : [],
      "inAppOfferToken" : "consumable2",
      "itemId" : "4b8fbb13127a41f299270ea668681c1d",
      "localTicketReference" : "1055521810674918",
      "modifiedDate" : "2015-09-22T19:22:51.2513155+00:00",
      "orderId" : "4ba5960d-4ec6-4a81-ac20-aafce02ddf31",
      "ownershipType" : "OwnedByBeneficiary",
      "productId" : "9NBLGGH5WVP6",
      "productType" : "UnmanagedConsumable",
      "purchaser" : {
        "identityType" : "pub",
        "identityValue" : "user123"
      },
      "skuId" : "0010",
      "skuType" : "Full",
      "startDate" : "2015-09-22T19:22:51.2068724+00:00",
      "status" : "Active",
      "tags" : [],
      "transactionId" : "4ba5960d-4ec6-4a81-ac20-aafce02ddf31"
    }
  ]
}
```

## <a name="related-topics"></a><span data-ttu-id="9c728-352">関連トピック</span><span class="sxs-lookup"><span data-stu-id="9c728-352">Related topics</span></span>

* [<span data-ttu-id="9c728-353">サービスから製品の権利を管理する</span><span class="sxs-lookup"><span data-stu-id="9c728-353">Manage product entitlements from a service</span></span>](view-and-grant-products-from-a-service.md)
* [<span data-ttu-id="9c728-354">コンシューマブルな製品をフルフィルメント完了として報告する</span><span class="sxs-lookup"><span data-stu-id="9c728-354">Report consumable products as fulfilled</span></span>](report-consumable-products-as-fulfilled.md)
* [<span data-ttu-id="9c728-355">無料の製品の付与</span><span class="sxs-lookup"><span data-stu-id="9c728-355">Grant free products</span></span>](grant-free-products.md)
* [<span data-ttu-id="9c728-356">Microsoft Store ID キーの更新</span><span class="sxs-lookup"><span data-stu-id="9c728-356">Renew a Microsoft Store ID key</span></span>](renew-a-windows-store-id-key.md)
