---
author: mcleanbyron
ms.assetid: 7CC11888-8DC6-4FEE-ACED-9FA476B2125E
description: Windows デベロッパー センター アカウントに登録されているアプリの申請をプログラムで作成および管理するには、Microsoft Store 申請 API を使います。
title: 申請の作成と管理
ms.author: mcleans
ms.date: 06/04/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: Windows 10, UWP, Microsoft Store 申請 API
ms.localizationpriority: medium
ms.openlocfilehash: 9bd8d2f800969102d6957cafa92e04f482323611
ms.sourcegitcommit: 633dd07c3a9a4d1c2421b43c612774c760b4ee58
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/05/2018
ms.locfileid: "1976467"
---
# <a name="create-and-manage-submissions"></a><span data-ttu-id="a1ada-104">申請の作成と管理</span><span class="sxs-lookup"><span data-stu-id="a1ada-104">Create and manage submissions</span></span>


<span data-ttu-id="a1ada-105">*Microsoft Store 申請 API* を使うと、自分または自分の組織の Windows デベロッパー センター アカウントに対して、アプリ、アドオン、パッケージ フライトの申請をプログラムで照会したり作成したりできます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-105">Use the *Microsoft Store submission API* to programmatically query and create submissions for apps, add-ons and package flights for your or your organization's Windows Dev Center account.</span></span> <span data-ttu-id="a1ada-106">この API は、アカウントで多数のアプリやアドオンを管理しており、こうしたアセットの申請プロセスを自動化および最適化する場合に便利です。</span><span class="sxs-lookup"><span data-stu-id="a1ada-106">This API is useful if your account manages many apps or add-ons, and you want to automate and optimize the submission process for these assets.</span></span> <span data-ttu-id="a1ada-107">この API は、Azure Active Directory (Azure AD) を使って、アプリまたはサービスからの呼び出しを認証します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-107">This API uses Azure Active Directory (Azure AD) to authenticate the calls from your app or service.</span></span>

<span data-ttu-id="a1ada-108">この手順では、Microsoft Store 申請 API を使う場合のプロセスについて詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-108">The following steps describe the end-to-end process of using the Microsoft Store submission API:</span></span>

1.  <span data-ttu-id="a1ada-109">すべての[前提条件](#prerequisites)を完了したことを確認します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-109">Make sure that you have completed all the [prerequisites](#prerequisites).</span></span>
3.  <span data-ttu-id="a1ada-110">Microsoft Store 申請 API のメソッドを呼び出す前に、[Azure AD アクセス トークンを取得](#obtain-an-azure-ad-access-token)する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-110">Before you call a method in the Microsoft Store submission API, [obtain an Azure AD access token](#obtain-an-azure-ad-access-token).</span></span> <span data-ttu-id="a1ada-111">トークンを取得した後、Microsoft Store 申請 API の呼び出しでこのトークンを使用できるのは、その有効期限が切れるまでの 60 分間です。</span><span class="sxs-lookup"><span data-stu-id="a1ada-111">After you obtain a token, you have 60 minutes to use this token in calls to the Microsoft Store submission API before the token expires.</span></span> <span data-ttu-id="a1ada-112">トークンの有効期限が切れた後は、新しいトークンを生成できます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-112">After the token expires, you can generate a new token.</span></span>
4.  <span data-ttu-id="a1ada-113">[Microsoft Store 申請 API を呼び出します](#call-the-windows-store-submission-api)。</span><span class="sxs-lookup"><span data-stu-id="a1ada-113">[Call the Microsoft Store submission API](#call-the-windows-store-submission-api).</span></span>

<span id="not_supported" />

> [!IMPORTANT]
> <span data-ttu-id="a1ada-114">この API を使用してアプリ、パッケージ フライト、アドオンの申請を作成する場合は、申請をさらに変更するには、デベロッパー センターのダッシュボードではなく、API のみを使用して行ってください。</span><span class="sxs-lookup"><span data-stu-id="a1ada-114">If you use this API to create a submission for an app, package flight, or add-on, be sure to make further changes to the submission only by using the API, rather than the Dev Center dashboard.</span></span> <span data-ttu-id="a1ada-115">最初に API を使って作成した申請を、ダッシュボードを使って変更した場合、API を使ってその申請を変更またはコミットすることができなくなります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-115">If you use the dashboard to change a submission that you originally created by using the API, you will no longer be able to change or commit that submission by using the API.</span></span> <span data-ttu-id="a1ada-116">場合によっては、申請がエラー状態のままになり、申請プロセスを進めることができなくなります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-116">In some cases, the submission could be left in an error state where it cannot proceed in the submission process.</span></span> <span data-ttu-id="a1ada-117">この問題が発生した場合は、申請を削除して、新しい申請を作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-117">If this occurs, you must delete the submission and create a new submission.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a1ada-118">この API を使って、[ビジネス向け Microsoft Store や教育機関向け Microsoft Store でのボリューム購入](../publish/organizational-licensing.md)の申請を公開したり、[LOB アプリ](../publish/distribute-lob-apps-to-enterprises.md)の申請を直接企業に発行したりすることはできません。</span><span class="sxs-lookup"><span data-stu-id="a1ada-118">You cannot use this API to publish submissions for [volume purchases through the Microsoft Store for Business and Microsoft Store for Education](../publish/organizational-licensing.md) or to publish submissions for [LOB apps](../publish/distribute-lob-apps-to-enterprises.md) directly to enterprises.</span></span> <span data-ttu-id="a1ada-119">このようなシナリオでは、どちらの場合も Windows デベロッパー センター ダッシュボードを使って申請を公開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-119">For both of these scenarios, you must use the Windows Dev Center dashboard publish the submission.</span></span>

> [!NOTE]
> <span data-ttu-id="a1ada-120">この API は、アプリの必須更新プログラムや Store で管理されるコンシューマブルなアドオンを使うアプリまたはアドオンでは使用できません。</span><span class="sxs-lookup"><span data-stu-id="a1ada-120">This API cannot be used with apps or add-ons that use mandatory app updates and Store-managed consumable add-ons.</span></span> <span data-ttu-id="a1ada-121">このような機能のいずれかを使用するアプリまたはアドオンで Microsoft Store 申請 API を使うと、API から 409 エラー コードが返されます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-121">If you use the Microsoft Store submission API with an app or add-on that uses one of these features, the API will return a 409 error code.</span></span> <span data-ttu-id="a1ada-122">この場合は、ダッシュボードを使ってアドオンまたはアプリの申請を管理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-122">In this case, you must use the dashboard to manage the submissions for the app or add-on.</span></span>

<span id="prerequisites" />

## <a name="step-1-complete-prerequisites-for-using-the-microsoft-store-submission-api"></a><span data-ttu-id="a1ada-123">手順 1. Microsoft Store 申請 API を使うための前提条件を満たす</span><span class="sxs-lookup"><span data-stu-id="a1ada-123">Step 1: Complete prerequisites for using the Microsoft Store submission API</span></span>

<span data-ttu-id="a1ada-124">Microsoft Store 申請 API を呼び出すコードの作成を開始する前に、次の前提条件が満たされていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-124">Before you start writing code to call the Microsoft Store submission API, make sure that you have completed the following prerequisites.</span></span>

* <span data-ttu-id="a1ada-125">ユーザー (またはユーザーの組織) は、Azure AD ディレクトリと、そのディレクトリに対する[全体管理者](http://go.microsoft.com/fwlink/?LinkId=746654)のアクセス許可を持っている必要があります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-125">You (or your organization) must have an Azure AD directory and you must have [Global administrator](http://go.microsoft.com/fwlink/?LinkId=746654) permission for the directory.</span></span> <span data-ttu-id="a1ada-126">Office 365 または Microsoft の他のビジネス サービスを既に使っている場合は、既に Azure AD ディレクトリをお持ちです。</span><span class="sxs-lookup"><span data-stu-id="a1ada-126">If you already use Office 365 or other business services from Microsoft, you already have Azure AD directory.</span></span> <span data-ttu-id="a1ada-127">それ以外の場合は、追加料金なしで[デベロッパー センター内から新しい Azure AD を作成](../publish/associate-azure-ad-with-dev-center.md#create-a-brand-new-azure-ad-to-associate-with-your-dev-center-account)できます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-127">Otherwise, you can [create a new Azure AD in Dev Center](../publish/associate-azure-ad-with-dev-center.md#create-a-brand-new-azure-ad-to-associate-with-your-dev-center-account) for no additional charge.</span></span>

* <span data-ttu-id="a1ada-128">[Azure AD アプリケーションを Windows デベロッパー センター アカウントに関連付け](#associate-an-azure-ad-application-with-your-windows-dev-center-account)、テナント ID、クライアント ID、キーを取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-128">You must [associate an Azure AD application with your Windows Dev Center account](#associate-an-azure-ad-application-with-your-windows-dev-center-account) and obtain your tenant ID, client ID and key.</span></span> <span data-ttu-id="a1ada-129">これらの値は、Microsoft Store 申請 API の呼び出しで使用する Azure AD アクセス トークンを取得するために必要です。</span><span class="sxs-lookup"><span data-stu-id="a1ada-129">You need these values to obtain an Azure AD access token, which you will use in calls to the Microsoft Store submission API.</span></span>

* <span data-ttu-id="a1ada-130">Microsoft Store 申請 API で使うアプリを準備します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-130">Prepare your app for use with the Microsoft Store submission API:</span></span>

  * <span data-ttu-id="a1ada-131">アプリがデベロッパー センターにまだ存在しない場合は、[デベロッパー センター ダッシュボードでアプリを作成](https://msdn.microsoft.com/windows/uwp/publish/create-your-app-by-reserving-a-name)します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-131">If you your app does not yet exist in Dev Center, [create your app in the Dev Center dashboard](https://msdn.microsoft.com/windows/uwp/publish/create-your-app-by-reserving-a-name).</span></span> <span data-ttu-id="a1ada-132">Microsoft Store 申請 API を使ってデベロッパー センターにアプリを作成することはできません。つまり、ダッシュボードを使ってアプリを作成する必要があります。その後、API を使ってアプリにアクセスし、プログラムでアプリの申請を作成できます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-132">You cannot use the Microsoft Store submission API to create an app in Dev Center; you must create your app using the dashboard, and then you can use the API to access the app and programmatically create submissions for it.</span></span> <span data-ttu-id="a1ada-133">ただし、API を使うと、アプリの申請を作成する前に、アドオンとパッケージ フライトをプログラムで作成できます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-133">However, you can use the API to programmatically create add-ons and package flights before you create submissions for them.</span></span>

  * <span data-ttu-id="a1ada-134">この API を使って特定のアプリの申請を作成する前に、[年齢区分](https://msdn.microsoft.com/windows/uwp/publish/age-ratings)に関する質問への回答など、最初に[デベロッパー センター ダッシュボードでアプリの申請を 1 つ作成する](https://msdn.microsoft.com/windows/uwp/publish/app-submissions)必要があります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-134">Before you can create a submission for a given app using this API, you must first [create one submission for the app in the Dev Center dashboard](https://msdn.microsoft.com/windows/uwp/publish/app-submissions), including answering the [age ratings](https://msdn.microsoft.com/windows/uwp/publish/age-ratings) questions.</span></span> <span data-ttu-id="a1ada-135">この操作の実行後、API を使ってこのアプリの新しい申請をプログラムで作成できるようになります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-135">After you do this, you will be able to programmatically create new submissions for this app using the API.</span></span> <span data-ttu-id="a1ada-136">アドオンの申請またはパッケージ フライトの申請を作成しなくても、このような申請に API を使うことができます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-136">You do not need to create an add-on submission or package flight submission before using the API for those types of submissions.</span></span>

  * <span data-ttu-id="a1ada-137">アプリの申請を作成または更新するときにアプリ パッケージを追加する必要がある場合は、[アプリ パッケージを準備](https://msdn.microsoft.com/windows/uwp/publish/app-package-requirements)します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-137">If you are creating or updating an app submission and you need to include an app package, [prepare the app package](https://msdn.microsoft.com/windows/uwp/publish/app-package-requirements).</span></span>

  * <span data-ttu-id="a1ada-138">アプリの申請を作成または更新するときにストア登録情報用のスクリーンショットまたは画像を含める必要がある場合は、[アプリのスクリーンショットと画像を準備](https://msdn.microsoft.com/windows/uwp/publish/app-screenshots-and-images)します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-138">If you are creating or updating an app submission and you need to include screenshots or images for the Store listing, [prepare the app screenshots and images](https://msdn.microsoft.com/windows/uwp/publish/app-screenshots-and-images).</span></span>

  * <span data-ttu-id="a1ada-139">アドオンの申請を作成または更新するときにアイコンを含める必要がある場合は、[アイコンを準備](https://msdn.microsoft.com/windows/uwp/publish/create-iap-descriptions#icon)します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-139">If you are creating or updating an add-on submission and you need to include an icon, [prepare the icon](https://msdn.microsoft.com/windows/uwp/publish/create-iap-descriptions#icon).</span></span>

<span id="associate-an-azure-ad-application-with-your-windows-dev-center-account" />

### <a name="how-to-associate-an-azure-ad-application-with-your-windows-dev-center-account"></a><span data-ttu-id="a1ada-140">Azure AD アプリケーションを Windows デベロッパー センター アカウントに関連付ける方法</span><span class="sxs-lookup"><span data-stu-id="a1ada-140">How to associate an Azure AD application with your Windows Dev Center account</span></span>

<span data-ttu-id="a1ada-141">Microsoft Store 申請 API を使うには、事前に Azure AD アプリケーションをデベロッパー センター アカウントに関連付け、アプリケーションのテナント ID とクライアント ID を取得して、キーを生成しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-141">Before you can use the Microsoft Store submission API, you must associate an Azure AD application with your Dev Center account, retrieve the tenant ID and client ID for the application and generate a key.</span></span> <span data-ttu-id="a1ada-142">Azure AD アプリケーションは、Microsoft Store 申請 API の呼び出し元のアプリまたはサービスを表します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-142">The Azure AD application represents the app or service from which you want to call the Microsoft Store submission API.</span></span> <span data-ttu-id="a1ada-143">テナント ID、クライアント ID、およびキーは、API に渡す Azure AD アクセス トークンを取得するために必要です。</span><span class="sxs-lookup"><span data-stu-id="a1ada-143">You need the tenant ID, client ID and key to obtain an Azure AD access token that you pass to the API.</span></span>

> [!NOTE]
> <span data-ttu-id="a1ada-144">この作業を行うのは一度だけです。</span><span class="sxs-lookup"><span data-stu-id="a1ada-144">You only need to perform this task one time.</span></span> <span data-ttu-id="a1ada-145">テナント ID、クライアント ID、キーがあれば、新しい Azure AD アクセス トークンの作成が必要になったときに、いつでもそれらを再利用できます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-145">After you have the tenant ID, client ID and key, you can reuse them any time you need to create a new Azure AD access token.</span></span>

1.  <span data-ttu-id="a1ada-146">デベロッパー センターで、[組織のデベロッパー センター アカウントと組織の Azure AD ディレクトリを関連付けます](../publish/associate-azure-ad-with-dev-center.md)。</span><span class="sxs-lookup"><span data-stu-id="a1ada-146">In Dev Center, [associate your organization's Dev Center account with your organization's Azure AD directory](../publish/associate-azure-ad-with-dev-center.md).</span></span>

2.  <span data-ttu-id="a1ada-147">次に、デベロッパー センターの **[アカウント設定]** セクションの **[ユーザー]** ページから、デベロッパー センター アカウントの申請へのアクセスに使うアプリやサービスを表す [Azure AD アプリケーションを追加](../publish/add-users-groups-and-azure-ad-applications.md#add-azure-ad-applications-to-your-dev-center-account)します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-147">Next, from the **Users** page in the **Account settings** section of Dev Center, [add the Azure AD application](../publish/add-users-groups-and-azure-ad-applications.md#add-azure-ad-applications-to-your-dev-center-account) that represents the app or service that you will use to access submissions for your Dev Center account.</span></span> <span data-ttu-id="a1ada-148">このアプリケーションに必ず**マネージャー** ロールを割り当てます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-148">Make sure you assign this application the **Manager** role.</span></span> <span data-ttu-id="a1ada-149">アプリケーションが Azure AD ディレクトリにまだ存在しない場合は、[デベロッパー センターで新しい Azure AD アプリケーションを作成](../publish/add-users-groups-and-azure-ad-applications.md#create-a-new-azure-ad-application-account-in-your-organizations-directory-and-add-it-to-your-dev-center-account)することができます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-149">If the application doesn't exist yet in your Azure AD directory, you can [create a new Azure AD application in Dev Center](../publish/add-users-groups-and-azure-ad-applications.md#create-a-new-azure-ad-application-account-in-your-organizations-directory-and-add-it-to-your-dev-center-account).</span></span>  

3.  <span data-ttu-id="a1ada-150">**[ユーザー]** ページに戻り、Azure AD アプリケーションの名前をクリックしてアプリケーション設定に移動し、**[テナント ID]** と **[クライアント ID]** の値を書き留めます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-150">Return to the **Users** page, click the name of your Azure AD application to go to the application settings, and copy down the **Tenant ID** and **Client ID** values.</span></span>

4. <span data-ttu-id="a1ada-151">**[新しいキーの追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a1ada-151">Click **Add new key**.</span></span> <span data-ttu-id="a1ada-152">次の画面で、**[キー]** の値を書き留めます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-152">On the following screen, copy down the **Key** value.</span></span> <span data-ttu-id="a1ada-153">このページから離れると、この情報に再度アクセスすることはできません。</span><span class="sxs-lookup"><span data-stu-id="a1ada-153">You won't be able to access this info again after you leave this page.</span></span> <span data-ttu-id="a1ada-154">詳しくは、「[Azure AD アプリケーションのキーを管理する方法](../publish/add-users-groups-and-azure-ad-applications.md#manage-keys)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a1ada-154">For more information, see [Manage keys for an Azure AD application](../publish/add-users-groups-and-azure-ad-applications.md#manage-keys).</span></span>

<span id="obtain-an-azure-ad-access-token" />

## <a name="step-2-obtain-an-azure-ad-access-token"></a><span data-ttu-id="a1ada-155">手順 2: Azure AD のアクセス トークンを取得する</span><span class="sxs-lookup"><span data-stu-id="a1ada-155">Step 2: Obtain an Azure AD access token</span></span>

<span data-ttu-id="a1ada-156">Microsoft Store 申請 API のいずれかのメソッドを呼び出す前に、まず API の各メソッドの **Authorization** ヘッダーに渡す Azure AD アクセス トークンを取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a1ada-156">Before you call any of the methods in the Microsoft Store submission API, you must first obtain an Azure AD access token that you pass to the **Authorization** header of each method in the API.</span></span> <span data-ttu-id="a1ada-157">アクセス トークンを取得した後、アクセス トークンを使用できるのは、その有効期限が切れるまでの 60 分間です。</span><span class="sxs-lookup"><span data-stu-id="a1ada-157">After you obtain an access token, you have 60 minutes to use it before it expires.</span></span> <span data-ttu-id="a1ada-158">トークンの有効期限が切れた後は、トークンを更新してそれ以降の API 呼び出しで引き続き使用できます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-158">After the token expires, you can refresh the token so you can continue to use it in further calls to the API.</span></span>

<span data-ttu-id="a1ada-159">アクセス トークンを取得するには、「[クライアント資格情報を使用したサービス間の呼び出し](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-service-to-service/)」の手順に従って、HTTP POST を ```https://login.microsoftonline.com/<tenant_id>/oauth2/token``` エンドポイントに送信します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-159">To obtain the access token, follow the instructions in [Service to Service Calls Using Client Credentials](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-service-to-service/) to send an HTTP POST to the ```https://login.microsoftonline.com/<tenant_id>/oauth2/token``` endpoint.</span></span> <span data-ttu-id="a1ada-160">要求の例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-160">Here is a sample request.</span></span>

```
POST https://login.microsoftonline.com/<tenant_id>/oauth2/token HTTP/1.1
Host: login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded; charset=utf-8

grant_type=client_credentials
&client_id=<your_client_id>
&client_secret=<your_client_secret>
&resource=https://manage.devcenter.microsoft.com
```

<span data-ttu-id="a1ada-161">POST URI の *tenant\_id* の値と *client \_id* および *client \_secret* のパラメーターには、前のセクションでデベロッパー センターから取得したテナント ID、クライアント ID、キーを指定します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-161">For the *tenant\_id* value in the POST URI and the *client\_id* and *client\_secret* parameters, specify the tenant ID, client ID and the key for your application that you retrieved from Dev Center in the previous section.</span></span> <span data-ttu-id="a1ada-162">*resource* パラメーターには、```https://manage.devcenter.microsoft.com``` を指定します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-162">For the *resource* parameter, you must specify ```https://manage.devcenter.microsoft.com```.</span></span>

<span data-ttu-id="a1ada-163">アクセス トークンの有効期限が切れた後は、[この](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-code/#refreshing-the-access-tokens)手順に従って更新できます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-163">After your access token expires, you can refresh it by following the instructions [here](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-code/#refreshing-the-access-tokens).</span></span>

<span data-ttu-id="a1ada-164">C#、Java、または Python コードを使ってアクセス トークンを取得する方法を示す例については、Microsoft Store 申請 API の[コード例](#code-examples)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a1ada-164">For examples that demonstrate how to obtain an access token by using C#, Java, or Python code, see the Microsoft Store submission API [code examples](#code-examples).</span></span>

<span id="call-the-windows-store-submission-api">

## <a name="step-3-use-the-microsoft-store-submission-api"></a><span data-ttu-id="a1ada-165">手順 3. Microsoft Store 申請 API を使用する</span><span class="sxs-lookup"><span data-stu-id="a1ada-165">Step 3: Use the Microsoft Store submission API</span></span>

<span data-ttu-id="a1ada-166">Azure AD アクセス トークンを取得したら、Microsoft Store 申請 API のメソッドを呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-166">After you have an Azure AD access token, you can call methods in the Microsoft Store submission API.</span></span> <span data-ttu-id="a1ada-167">この API には、アプリ、アドオン、パッケージ フライトのシナリオにグループ化される多くのメソッドが含まれています。</span><span class="sxs-lookup"><span data-stu-id="a1ada-167">The API includes many methods that are grouped into scenarios for apps, add-ons, and package flights.</span></span> <span data-ttu-id="a1ada-168">申請を作成または更新するには、通常、Microsoft Store 申請 API の複数のメソッドを特定の順序で呼び出します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-168">To create or update submissions, you typically call multiple methods in the Microsoft Store submission API in a specific order.</span></span> <span data-ttu-id="a1ada-169">各シナリオと各メソッドの構文について詳しくは、次の表の記事をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a1ada-169">For information about each scenario and the syntax of each method, see the articles in the following table.</span></span>

> [!NOTE]
> <span data-ttu-id="a1ada-170">アクセス トークンを取得した後、Microsoft Store 申請 API のメソッドを呼び出すことができるのは、その有効期限が切れるまでの 60 分間です。</span><span class="sxs-lookup"><span data-stu-id="a1ada-170">After you obtain an access token, you have 60 minutes to call methods in the Microsoft Store submission API before the token expires.</span></span>

| <span data-ttu-id="a1ada-171">シナリオ</span><span class="sxs-lookup"><span data-stu-id="a1ada-171">Scenario</span></span>       | <span data-ttu-id="a1ada-172">説明</span><span class="sxs-lookup"><span data-stu-id="a1ada-172">Description</span></span>                                                                 |
|---------------|----------------------------------------------------------------------|
| <span data-ttu-id="a1ada-173">アプリ</span><span class="sxs-lookup"><span data-stu-id="a1ada-173">Apps</span></span> |  <span data-ttu-id="a1ada-174">Windows デベロッパー センター アカウントに登録されているすべてのアプリのデータを取得し、アプリの申請を作成します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-174">Retrieve data for all the apps that are registered to your Windows Dev Center account and create submissions for apps.</span></span> <span data-ttu-id="a1ada-175">これらのメソッドについて詳しくは、次の記事をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a1ada-175">For more information about these methods, see the following articles:</span></span> <ul><li>[<span data-ttu-id="a1ada-176">アプリ データの取得</span><span class="sxs-lookup"><span data-stu-id="a1ada-176">Get app data</span></span>](get-app-data.md)</li><li>[<span data-ttu-id="a1ada-177">アプリの申請の管理</span><span class="sxs-lookup"><span data-stu-id="a1ada-177">Manage app submissions</span></span>](manage-app-submissions.md)</li></ul> |
| <span data-ttu-id="a1ada-178">アドオン</span><span class="sxs-lookup"><span data-stu-id="a1ada-178">Add-ons</span></span> | <span data-ttu-id="a1ada-179">アプリのアドオンを取得、作成、または削除した後、そのアドオンの申請を取得、作成、または削除します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-179">Get, create, or delete add-ons for your apps, and then get, create, or delete submissions for the add-ons.</span></span> <span data-ttu-id="a1ada-180">これらのメソッドについて詳しくは、次の記事をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a1ada-180">For more information about these methods, see the following articles:</span></span> <ul><li>[<span data-ttu-id="a1ada-181">アドオンの管理</span><span class="sxs-lookup"><span data-stu-id="a1ada-181">Manage add-ons</span></span>](manage-add-ons.md)</li><li>[<span data-ttu-id="a1ada-182">アドオンの申請の管理</span><span class="sxs-lookup"><span data-stu-id="a1ada-182">Manage add-on submissions</span></span>](manage-add-on-submissions.md)</li></ul> |
| <span data-ttu-id="a1ada-183">パッケージ フライト</span><span class="sxs-lookup"><span data-stu-id="a1ada-183">Package flights</span></span> | <span data-ttu-id="a1ada-184">アプリのパッケージ フライトを取得、作成、または削除した後、パッケージ フライトの申請を取得、作成、または削除します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-184">Get, create, or delete package flights for your apps, and then get, create, or delete submissions for the package flights.</span></span> <span data-ttu-id="a1ada-185">これらのメソッドについて詳しくは、次の記事をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a1ada-185">For more information about these methods, see the following articles:</span></span> <ul><li>[<span data-ttu-id="a1ada-186">パッケージ フライトの管理</span><span class="sxs-lookup"><span data-stu-id="a1ada-186">Manage package flights</span></span>](manage-flights.md)</li><li>[<span data-ttu-id="a1ada-187">パッケージ フライトの申請の管理</span><span class="sxs-lookup"><span data-stu-id="a1ada-187">Manage package flight submissions</span></span>](manage-flight-submissions.md)</li></ul> |

<span id="code-samples"/>

## <a name="code-examples"></a><span data-ttu-id="a1ada-188">コード例</span><span class="sxs-lookup"><span data-stu-id="a1ada-188">Code examples</span></span>

<span data-ttu-id="a1ada-189">次の記事では、さまざまなプログラミング言語で Microsoft Store 申請 API を使用する方法を示す詳しいコード例を紹介します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-189">The following articles provide detailed code examples that demonstrate how to use the Microsoft Store submission API in several different programming languages:</span></span>

* [<span data-ttu-id="a1ada-190">C# のコード例: アプリ、アドオン、およびフライトの申請</span><span class="sxs-lookup"><span data-stu-id="a1ada-190">C# sample: submissions for apps, add-ons, and flights</span></span>](csharp-code-examples-for-the-windows-store-submission-api.md)
* [<span data-ttu-id="a1ada-191">C# のコード例: ゲーム オプションおよびトレーラーを含むアプリの申請</span><span class="sxs-lookup"><span data-stu-id="a1ada-191">C# sample: app submission with game options and trailers</span></span>](csharp-code-examples-for-submissions-game-options-and-trailers.md)
* [<span data-ttu-id="a1ada-192">Java のコード例: アプリ、アドオン、およびフライトの申請</span><span class="sxs-lookup"><span data-stu-id="a1ada-192">Java sample: submissions for apps, add-ons, and flights</span></span>](java-code-examples-for-the-windows-store-submission-api.md)
* [<span data-ttu-id="a1ada-193">Java のコード例: ゲーム オプションおよびトレーラーを含むアプリの申請</span><span class="sxs-lookup"><span data-stu-id="a1ada-193">Java sample: app submission with game options and trailers</span></span>](java-code-examples-for-submissions-game-options-and-trailers.md)
* [<span data-ttu-id="a1ada-194">Python のコード例: アプリ、アドオン、およびフライトの申請</span><span class="sxs-lookup"><span data-stu-id="a1ada-194">Python sample: submissions for apps, add-ons, and flights</span></span>](python-code-examples-for-the-windows-store-submission-api.md)
* [<span data-ttu-id="a1ada-195">Python のコード例: ゲーム オプションおよびトレーラーを含むアプリの申請</span><span class="sxs-lookup"><span data-stu-id="a1ada-195">Python sample: app submission with game options and trailers</span></span>](python-code-examples-for-submissions-game-options-and-trailers.md)

## <a name="storebroker-powershell-module"></a><span data-ttu-id="a1ada-196">StoreBroker PowerShell モジュール</span><span class="sxs-lookup"><span data-stu-id="a1ada-196">StoreBroker PowerShell module</span></span>

<span data-ttu-id="a1ada-197">Microsoft Store 申請 API を直接呼び出す代わりに、API の上にコマンド ライン インターフェイスを実装するオープンソースの PowerShell モジュールも用意されています。</span><span class="sxs-lookup"><span data-stu-id="a1ada-197">As an alternative to calling the Microsoft Store submission API directly, we also provide an open-source PowerShell module which implements a command-line interface on top of the API.</span></span> <span data-ttu-id="a1ada-198">このモジュールは、[StoreBroker](https://aka.ms/storebroker) と呼ばれています。</span><span class="sxs-lookup"><span data-stu-id="a1ada-198">This module is called [StoreBroker](https://aka.ms/storebroker).</span></span> <span data-ttu-id="a1ada-199">このモジュールを使うと、Microsoft Store 申請 API を直接呼び出さずに、コマンド ラインからアプリ、フライト、アドオンの申請を管理できます。また、ソースを参照して、この API を呼び出す方法の例を確認することもできます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-199">You can use this module to manage your app, flight, and add-on submissions from the command line instead of calling the Microsoft Store submission API directly, or you can simply browse the source to see more examples for how to call this API.</span></span> <span data-ttu-id="a1ada-200">StoreBroker モジュールは、多くのファースト パーティ アプリケーションをストアに申請する主要な方法として Microsoft 内で積極的に使っています。</span><span class="sxs-lookup"><span data-stu-id="a1ada-200">The StoreBroker module is actively used within Microsoft as the primary way that many first-party applications are submitted to the Store.</span></span>

<span data-ttu-id="a1ada-201">詳しくは、[GitHub の StoreBroker のページ](https://aka.ms/storebroker)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a1ada-201">For more information, see our [StoreBroker page on GitHub](https://aka.ms/storebroker).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="a1ada-202">トラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="a1ada-202">Troubleshooting</span></span>

| <span data-ttu-id="a1ada-203">問題</span><span class="sxs-lookup"><span data-stu-id="a1ada-203">Issue</span></span>      | <span data-ttu-id="a1ada-204">解決方法</span><span class="sxs-lookup"><span data-stu-id="a1ada-204">Resolution</span></span>                                          |
|---------------|---------------------------------------------|
| <span data-ttu-id="a1ada-205">PowerShell から Microsoft Store 申請 API を呼び出した後、[ConvertFrom-Json](https://technet.microsoft.com/library/hh849898.aspx) コマンドレットを使って API の応答データを JSON 形式から PowerShell オブジェクトに変換し、[ConvertTo-Json](https://technet.microsoft.com/library/hh849922.aspx) コマンドレットを使ってもう一度 JSON 形式に変換すると、応答データが破損します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-205">After calling the Microsoft Store submission API from PowerShell, the response data for the API is corrupted if you convert it from JSON format to a PowerShell object using the [ConvertFrom-Json](https://technet.microsoft.com/library/hh849898.aspx) cmdlet and then back to JSON format using the [ConvertTo-Json](https://technet.microsoft.com/library/hh849922.aspx) cmdlet.</span></span> |  <span data-ttu-id="a1ada-206">既定では、[ConvertTo-Json](https://technet.microsoft.com/library/hh849922.aspx) コマンドレットの *-Depth* パラメーターは、2 レベルのオブジェクトに設定されます。これは、Microsoft Store 申請 API から返される JSON オブジェクトの大半にとって浅すぎます。</span><span class="sxs-lookup"><span data-stu-id="a1ada-206">By default, the *-Depth* parameter for the [ConvertTo-Json](https://technet.microsoft.com/library/hh849922.aspx) cmdlet is set to 2 levels of objects, which is too shallow for most of the JSON objects that are returned by the Microsoft Store submission API.</span></span> <span data-ttu-id="a1ada-207">[ConvertTo-Json](https://technet.microsoft.com/library/hh849922.aspx) コマンドレットを呼び出すときは、*-Depth* パラメーターを大きい値 (たとえば 20) に設定します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-207">When you call the [ConvertTo-Json](https://technet.microsoft.com/library/hh849922.aspx) cmdlet, set the *-Depth* parameter to a larger number, such as 20.</span></span> |

## <a name="additional-help"></a><span data-ttu-id="a1ada-208">追加のヘルプ</span><span class="sxs-lookup"><span data-stu-id="a1ada-208">Additional help</span></span>

<span data-ttu-id="a1ada-209">Microsoft Store 申請 API について質問がある場合や、この API を使った申請の管理に関してサポートが必要な場合は、次のリソースを使ってください。</span><span class="sxs-lookup"><span data-stu-id="a1ada-209">If you have questions about the Microsoft Store submission API or need assistance managing your submissions with this API, use the following resources:</span></span>

* <span data-ttu-id="a1ada-210">Microsoft の[フォーラム](https://social.msdn.microsoft.com/Forums/windowsapps/home?forum=wpsubmit)で質問します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-210">Ask your questions on our [forums](https://social.msdn.microsoft.com/Forums/windowsapps/home?forum=wpsubmit).</span></span>
* <span data-ttu-id="a1ada-211">Microsoft の[サポート ページ](https://developer.microsoft.com/windows/support)にアクセスし、デベロッパー センター ダッシュボードのサポート オプションのいずれかを要求します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-211">Visit our [support page](https://developer.microsoft.com/windows/support) and request one of the assisted support options for Dev Center dashboard.</span></span> <span data-ttu-id="a1ada-212">問題の種類とカテゴリを選択するよう求められた場合は、**[App submission and certification]** (アプリの申請と認定) と **[Submitting an app]** (アプリの申請) をそれぞれ選択します。</span><span class="sxs-lookup"><span data-stu-id="a1ada-212">If you are prompted to choose a problem type and category, choose **App submission and certification** and **Submitting an app**, respectively.</span></span>  

## <a name="related-topics"></a><span data-ttu-id="a1ada-213">関連トピック</span><span class="sxs-lookup"><span data-stu-id="a1ada-213">Related topics</span></span>

* [<span data-ttu-id="a1ada-214">アプリ データの取得</span><span class="sxs-lookup"><span data-stu-id="a1ada-214">Get app data</span></span>](get-app-data.md)
* [<span data-ttu-id="a1ada-215">アプリの申請の管理</span><span class="sxs-lookup"><span data-stu-id="a1ada-215">Manage app submissions</span></span>](manage-app-submissions.md)
* [<span data-ttu-id="a1ada-216">アドオンの管理</span><span class="sxs-lookup"><span data-stu-id="a1ada-216">Manage add-ons</span></span>](manage-add-ons.md)
* [<span data-ttu-id="a1ada-217">アドオンの申請の管理</span><span class="sxs-lookup"><span data-stu-id="a1ada-217">Manage add-on submissions</span></span>](manage-add-on-submissions.md)
* [<span data-ttu-id="a1ada-218">パッケージ フライトの管理</span><span class="sxs-lookup"><span data-stu-id="a1ada-218">Manage package flights</span></span>](manage-flights.md)
* [<span data-ttu-id="a1ada-219">パッケージ フライトの申請の管理</span><span class="sxs-lookup"><span data-stu-id="a1ada-219">Manage package flight submissions</span></span>](manage-flight-submissions.md)
