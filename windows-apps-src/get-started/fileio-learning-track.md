---
author: TylerMSFT
title: ファイルの操作
description: ユニバーサル Windows プラットフォームでファイルを操作する方法について説明します。
ms.author: twhitney
ms.date: 05/01/2018
ms.topic: article
keywords: 概要, uwp, windows 10, 学習トラック, ファイル, ファイル io, ファイルの読み取り, ファイルの書き込み, ファイルの作成, テキストの書き込み, テキストの読み取り
ms.localizationpriority: medium
ms.openlocfilehash: 02ac4d3f157343182097e67dc8825dde940302c3
ms.sourcegitcommit: 70ab58b88d248de2332096b20dbd6a4643d137a4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/01/2018
ms.locfileid: "5928817"
---
# <a name="work-with-files"></a><span data-ttu-id="0f40e-104">ファイルの操作</span><span class="sxs-lookup"><span data-stu-id="0f40e-104">Work with files</span></span>

<span data-ttu-id="0f40e-105">このトピックでは、ユニバーサル Windows プラットフォーム (UWP) アプリでファイルに対する読み取りと書き込みを始めるために知っておく必要があることについて説明します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-105">This topic covers what you need to know to get started reading from, and writing to, files in a Universal Windows Platform (UWP) app.</span></span> <span data-ttu-id="0f40e-106">主な API と型を紹介し、詳細情報を確認できるリンクを提供します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-106">The main APIs and types are introduced, and links are provided to help you learn more.</span></span>

<span data-ttu-id="0f40e-107">これはチュートリアルではありません。</span><span class="sxs-lookup"><span data-stu-id="0f40e-107">This is not a tutorial.</span></span> <span data-ttu-id="0f40e-108">チュートリアルが必要な場合は、「[ファイルの作成、書き込み、および読み取り](https://docs.microsoft.com/windows/uwp/files/quickstart-reading-and-writing-files)」を参照してください。このチュートリアルでは、ファイルの作成、書き込み、および読み取り方法だけでなく、バッファーとストリームの使用方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="0f40e-108">If you want a tutorial, see [Create, write, and read a file](https://docs.microsoft.com/windows/uwp/files/quickstart-reading-and-writing-files) which, in addition to demonstrating how to create, read, and write a file, shows how to use buffers and streams.</span></span> <span data-ttu-id="0f40e-109">また、「[ファイル アクセスのサンプル](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/FileAccess)」を参照することもできます。このドキュメントでは、ファイルの作成、読み取り、書き込み、コピー、削除方法に加え、ファイル プロパティを取得し、ファイルやフォルダーを記憶して、アプリが再び簡単にアクセスできるようにする方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="0f40e-109">You may also be interested in the [File access sample](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/FileAccess) which shows how to create, read, write, copy and delete a file, as well as how to retrieve file properties and remember a file or folder so that your app can easily access it again.</span></span>

<span data-ttu-id="0f40e-110">ファイルからのテキストの書き込みと読み取りを行うためのコード、およびアプリのローカル フォルダー、移動フォルダー、一時フォルダーにアクセスする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-110">We’ll look at code to write and read text from a file and how to access the app's local, roaming, and temporary folders.</span></span>

## <a name="what-do-you-need-to-know"></a><span data-ttu-id="0f40e-111">理解しておく必要があること</span><span class="sxs-lookup"><span data-stu-id="0f40e-111">What do you need to know</span></span>

<span data-ttu-id="0f40e-112">ファイルに対してテキストの読み取りや書き込みを行うために知っておく必要がある主な型を次に示します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-112">Here are the main types you need to know about to read or write text from/to a file:</span></span>

- <span data-ttu-id="0f40e-113">[Windows.Storage.StorageFile](https://docs.microsoft.com/uwp/api/windows.storage.storagefile) はファイルを表します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-113">[Windows.Storage.StorageFile](https://docs.microsoft.com/uwp/api/windows.storage.storagefile) represents a file.</span></span> <span data-ttu-id="0f40e-114">このクラスには、ファイルに関する情報を提供するプロパティ、およびファイルを作成、開く、コピー、削除、名前変更するためのメソッドがあります。</span><span class="sxs-lookup"><span data-stu-id="0f40e-114">This class has properties that provide information about the file, and methods for creating, opening, copying, deleting, and renaming files.</span></span>
<span data-ttu-id="0f40e-115">文字列パスの処理には慣れているかもしれません。</span><span class="sxs-lookup"><span data-stu-id="0f40e-115">You may be used to dealing with string paths.</span></span> <span data-ttu-id="0f40e-116">文字列パスを指定するいくつかの UWP API がありますが、より多くの場合に、**StorageFile** を使用してファイルを表します。これは、UWP で操作する一部のファイルにパスがないか、または扱うのが難しいパスがあるためです。</span><span class="sxs-lookup"><span data-stu-id="0f40e-116">There are some UWP APIs that take a string path, but more often you will use a  **StorageFile** to represent a file because some files you work with in UWP may not have a path, or may have an unwieldy path.</span></span> <span data-ttu-id="0f40e-117">[StorageFile.GetFileFromPathAsync()](https://docs.microsoft.com/uwp/api/windows.storage.storagefile.getfilefrompathasync) を使用して文字列パスを **StorageFile** に変換します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-117">Use [StorageFile.GetFileFromPathAsync()](https://docs.microsoft.com/uwp/api/windows.storage.storagefile.getfilefrompathasync) to convert a string path to a **StorageFile**.</span></span> 

- <span data-ttu-id="0f40e-118">[FileIO](https://docs.microsoft.com/uwp/api/windows.storage.fileio) クラスを使用すると、テキストの読み取りと書き込みを簡単に行うことができます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-118">The [FileIO](https://docs.microsoft.com/uwp/api/windows.storage.fileio) class provides an easy way to read and write text.</span></span> <span data-ttu-id="0f40e-119">また、このクラスは、バイトの配列またはバッファーの内容の読み取り/書き込みを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-119">This class can also read/write an array of bytes, or the contents of a buffer.</span></span> <span data-ttu-id="0f40e-120">このクラスは [PathIO](https://docs.microsoft.com/uwp/api/windows.storage.pathio) クラスとよく似ています。</span><span class="sxs-lookup"><span data-stu-id="0f40e-120">This class is very similar to the [PathIO](https://docs.microsoft.com/uwp/api/windows.storage.pathio) class.</span></span> <span data-ttu-id="0f40e-121">主な違いは、**PathIO** が行うように文字列パスを指定する代わりに、**StorageFile** を指定する点です。</span><span class="sxs-lookup"><span data-stu-id="0f40e-121">The main difference is that instead of taking a string path, as **PathIO** does, it takes a **StorageFile**.</span></span>
- <span data-ttu-id="0f40e-122">[Windows.Storage.StorageFolder](https://docs.microsoft.com/uwp/api/windows.storage.storagefolder) はフォルダー (ディレクトリ) を表します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-122">[Windows.Storage.StorageFolder](https://docs.microsoft.com/uwp/api/windows.storage.storagefolder) represents a folder (directory).</span></span> <span data-ttu-id="0f40e-123">このクラスには、ファイルの作成、フォルダーの内容の照会、フォルダーの作成、名前変更、削除を行うためのメソッド、およびフォルダーに関する情報を提供するプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="0f40e-123">This class has methods for creating files, querying the contents of a folder, creating, renaming, and deleting folders, and properties that provide information about a folder.</span></span> 

<span data-ttu-id="0f40e-124">**StorageFolder** を取得する一般的な方法には次のものがあります。</span><span class="sxs-lookup"><span data-stu-id="0f40e-124">Common ways to get a **StorageFolder** include:</span></span>

- <span data-ttu-id="0f40e-125">ユーザーが使用するフォルダーに移動できるようにする [Windows.Storage.Pickers.FolderPicker](https://docs.microsoft.com/uwp/api/windows.storage.pickers.folderpicker)。</span><span class="sxs-lookup"><span data-stu-id="0f40e-125">[Windows.Storage.Pickers.FolderPicker](https://docs.microsoft.com/uwp/api/windows.storage.pickers.folderpicker) which allows the user to navigate to the folder they want to use.</span></span>
- <span data-ttu-id="0f40e-126">ローカル フォルダー、移動フォルダー、一時フォルダーのようなアプリに対してローカルであるいずれかのフォルダーに固有の **StorageFolder** を提供する [Windows.Storage.ApplicationData.Current](https://docs.microsoft.com/uwp/api/windows.storage.applicationdata.current)。</span><span class="sxs-lookup"><span data-stu-id="0f40e-126">[Windows.Storage.ApplicationData.Current](https://docs.microsoft.com/uwp/api/windows.storage.applicationdata.current) which provides the **StorageFolder** specific to one of folders local to the app like the local, roaming, and temporary folder.</span></span>
- <span data-ttu-id="0f40e-127">ミュージック ライブラリまたは画像ライブラリのような既知のライブラリに **StorageFolder** を提供する [Windows.Storage.KnownFolders](https://docs.microsoft.com/uwp/api/windows.storage.knownfolders)。</span><span class="sxs-lookup"><span data-stu-id="0f40e-127">[Windows.Storage.KnownFolders](https://docs.microsoft.com/uwp/api/windows.storage.knownfolders) which provides the **StorageFolder** for known libraries such as the Music or Picture libraries.</span></span>

## <a name="write-text-to-a-file"></a><span data-ttu-id="0f40e-128">ファイルへのテキストの書き込み</span><span class="sxs-lookup"><span data-stu-id="0f40e-128">Write text to a file</span></span>

 <span data-ttu-id="0f40e-129">この概要では、テキストの読み取りと書き込みという単純なシナリオを中心に説明します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-129">For this introduction, we will focus on a simple scenario: reading and writing text.</span></span> <span data-ttu-id="0f40e-130">まず、**FileIO** クラスを使用してファイルにテキストを書き込む一部のコードを見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="0f40e-130">Let's start by looking at some code that uses the **FileIO** class to write text to a file.</span></span>

```csharp
Windows.Storage.StorageFolder storageFolder = Windows.Storage.ApplicationData.Current.LocalFolder;
Windows.Storage.StorageFile file = await storageFolder.CreateFileAsync("test.txt",
        Windows.Storage.CreationCollisionOption.OpenIfExists);

await Windows.Storage.FileIO.WriteTextAsync(file, "Example of writing a string\r\n");

// Append a list of strings, one per line, to the file
var listOfStrings = new List<string> { "line1", "line2", "line3" };
await Windows.Storage.FileIO.AppendLinesAsync(file, listOfStrings); // each entry in the list is written to the file on its own line.
```

<span data-ttu-id="0f40e-131">まず、ファイルがある場所を特定します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-131">We first identify where the file should be located.</span></span> `Windows.Storage.ApplicationData.Current.LocalFolder` <span data-ttu-id="0f40e-132"> は、アプリのインストール時にアプリ用に作成されるローカル データ フォルダーへのアクセスを提供します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-132">provides access to the local data folder, which is created for your app when it is installed.</span></span> <span data-ttu-id="0f40e-133">アプリでアクセスできるフォルダーの詳細については、「[ファイル システムへのアクセス](#access-the-file-system)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0f40e-133">See [Access the file system](#access-the-file-system) for details about the folders your app can access.</span></span>

<span data-ttu-id="0f40e-134">次に、**StorageFolder** を使用してファイルを作成します (またはファイルが既に存在する場合は開きます)。</span><span class="sxs-lookup"><span data-stu-id="0f40e-134">Then, we use **StorageFolder** to create the file (or open it if it already exists).</span></span>

<span data-ttu-id="0f40e-135">**FileIO** クラスは、ファイルにテキストを書き込むための便利な方法です。</span><span class="sxs-lookup"><span data-stu-id="0f40e-135">The **FileIO** class provides a convenient way to write text to the file.</span></span> `FileIO.WriteTextAsync()` <span data-ttu-id="0f40e-136"> は、ファイルのすべての内容を指定されたテキストで置き換えます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-136">replaces the entire contents of the file with the provided text.</span></span> `FileIO.AppendLinesAsync()` <span data-ttu-id="0f40e-137"> は、文字列のコレクションをファイルに追加します。1 つの文字列が 1 行に書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-137">appends a collection of strings to the file--writing one string per line.</span></span>

## <a name="read-text-from-a-file"></a><span data-ttu-id="0f40e-138">ファイルからのテキストの読み取り</span><span class="sxs-lookup"><span data-stu-id="0f40e-138">Read text from a file</span></span>

<span data-ttu-id="0f40e-139">ファイルの書き込みと同様に、ファイルの読み取りは、ファイルの場所を指定することから始めます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-139">As with writing a file, reading a file starts with specifying where the file is located.</span></span> <span data-ttu-id="0f40e-140">上の例と同じ場所を使用します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-140">We'll use the same location as in the example above.</span></span> <span data-ttu-id="0f40e-141">その内容を読み取る**FileIO**クラスを使用します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-141">Then we'll use the **FileIO** class to read its contents.</span></span>

```csharp
Windows.Storage.StorageFolder storageFolder = Windows.Storage.ApplicationData.Current.LocalFolder;
Windows.Storage.StorageFile file = await storageFolder.GetFileAsync("test.txt");

string text = await Windows.Storage.FileIO.ReadTextAsync(file);
```

<span data-ttu-id="0f40e-142">ファイルの各行を以下を含むコレクション内の個々の文字列に読み取ることもできます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-142">You can also read each line of the file into individual strings in a collection with</span></span> `IList<string> contents = await Windows.Storage.FileIO.ReadLinesAsync(sampleFile);`

## <a name="access-the-file-system"></a><span data-ttu-id="0f40e-143">ファイル システムへのアクセス</span><span class="sxs-lookup"><span data-stu-id="0f40e-143">Access the file system</span></span>

<span data-ttu-id="0f40e-144">UWP プラットフォームでは、フォルダー アクセスは、ユーザーのデータの整合性とプライバシーを確保するために制限されます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-144">In the UWP platform, folder access is restricted to ensure the integrity and privacy of the user's data.</span></span> 

### <a name="app-folders"></a><span data-ttu-id="0f40e-145">アプリのフォルダー</span><span class="sxs-lookup"><span data-stu-id="0f40e-145">App folders</span></span>

<span data-ttu-id="0f40e-146">UWP アプリがインストールされると、特にアプリのローカル ファイル、移動ファイル、一時ファイルを格納するための複数のフォルダーが c:\users\<user name>\AppData\Local\Packages\<app package identifier>\ に作成されます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-146">When a UWP app is installed, several folders are created under c:\users\<user name>\AppData\Local\Packages\<app package identifier>\ to store, among other things, the app's local, roaming, and temporary files.</span></span> <span data-ttu-id="0f40e-147">アプリは、これらのフォルダーにアクセスするためにすべての機能を宣言する必要はありません。また、これらのフォルダーは他のアプリがアクセスすることはできません。</span><span class="sxs-lookup"><span data-stu-id="0f40e-147">The app doesn't need to declare any capabilities to access these folders, and these folders are not accessible by other apps.</span></span> <span data-ttu-id="0f40e-148">アプリがアンインストールされると、これらのフォルダーも削除されます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-148">These folders are also removed when the app is uninstalled.</span></span>

<span data-ttu-id="0f40e-149">よく使用されるアプリ フォルダーをいくつか次に示します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-149">These are some of the app folders you will commonly use:</span></span>

- <span data-ttu-id="0f40e-150">**LocalState**: 現在のデバイスに対してローカルなデータ用です。</span><span class="sxs-lookup"><span data-stu-id="0f40e-150">**LocalState**: For data local to the current device.</span></span> <span data-ttu-id="0f40e-151">デバイスがバックアップされると、このディレクトリ内のデータは OneDrive のバックアップ イメージに保存されます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-151">When the device is backed up, data in this directory is saved in a backup image in OneDrive.</span></span> <span data-ttu-id="0f40e-152">ユーザーがデバイスをリセットするか、置き換えると、データは復元されます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-152">If the user resets or replaces the device, the data will be restored.</span></span> <span data-ttu-id="0f40e-153">`Windows.Storage.ApplicationData.Current.LocalFolder.` でこのフォルダーにアクセスします。OneDrive にバックアップしないローカル データを **LocalCacheFolder** に保存します。このフォルダーには `Windows.Storage.ApplicationData.Current.LocalCacheFolder` でアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-153">Access this folder with `Windows.Storage.ApplicationData.Current.LocalFolder.` Save local data that you don't want backed up to OneDrive in the **LocalCacheFolder**, which you can access with `Windows.Storage.ApplicationData.Current.LocalCacheFolder`.</span></span>

- <span data-ttu-id="0f40e-154">**RoamingState**: アプリがインストールされているすべてのデバイスでレプリケートされる必要があるデータ用です。</span><span class="sxs-lookup"><span data-stu-id="0f40e-154">**RoamingState**: For data that should be replicated on all devices where the app is installed.</span></span> <span data-ttu-id="0f40e-155">Windows では、ローミングされるデータの量を制限しているため、ここにはユーザー設定と小さなファイルのみ保存します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-155">Windows limits the amount of data that will roam, so only save user settings and small files here.</span></span> <span data-ttu-id="0f40e-156">`Windows.Storage.ApplicationData.Current.RoamingFolder` で移動フォルダーにアクセスします。</span><span class="sxs-lookup"><span data-stu-id="0f40e-156">Access the roaming folder with `Windows.Storage.ApplicationData.Current.RoamingFolder`.</span></span>

- <span data-ttu-id="0f40e-157">**TempState**: アプリが実行されていないときに削除される可能性があるデータ用です。</span><span class="sxs-lookup"><span data-stu-id="0f40e-157">**TempState**: For data that may be deleted when the app isn't running.</span></span> <span data-ttu-id="0f40e-158">`Windows.Storage.ApplicationData.Current.TemporaryFolder` でこのフォルダーにアクセスします。</span><span class="sxs-lookup"><span data-stu-id="0f40e-158">Access this folder with `Windows.Storage.ApplicationData.Current.TemporaryFolder`.</span></span>

### <a name="access-the-rest-of-the-file-system"></a><span data-ttu-id="0f40e-159">残りのファイル システムへのアクセス</span><span class="sxs-lookup"><span data-stu-id="0f40e-159">Access the rest of the file system</span></span>

<span data-ttu-id="0f40e-160">UWP アプリはそのインテントを宣言し、そのマニフェストに対応する機能を追加することで特定のユーザー ライブラリにアクセスする必要があります。</span><span class="sxs-lookup"><span data-stu-id="0f40e-160">A UWP app must declare its intent to access a specific user library by adding the corresponding capability to its manifest.</span></span> <span data-ttu-id="0f40e-161">アプリがインストールされると、ユーザーに確認メッセージが表示され、指定されたライブラリへのアクセスの承認が確認されます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-161">The user is then prompted when the app is installed to verify that they authorize accessing the specified library.</span></span> <span data-ttu-id="0f40e-162">確認メッセージが表示されない場合は、アプリはインストールされていません。</span><span class="sxs-lookup"><span data-stu-id="0f40e-162">If not, the app is not installed.</span></span> <span data-ttu-id="0f40e-163">画像、ビデオ、ミュージック ライブラリにアクセスするための機能があります。</span><span class="sxs-lookup"><span data-stu-id="0f40e-163">There are capabilities to access the pictures, videos, and music libraries.</span></span> <span data-ttu-id="0f40e-164">詳しい一覧については、「[アプリ機能の宣言](https://docs.microsoft.com/windows/uwp/packaging/app-capability-declarations)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0f40e-164">See  [App capability declaration](https://docs.microsoft.com/windows/uwp/packaging/app-capability-declarations) for a full list.</span></span> <span data-ttu-id="0f40e-165">これらのライブラリの **StorageFolder** を取得するには、[Windows.Storage.KnownFolders](https://docs.microsoft.com/uwp/api/windows.storage.knownfolders) クラスを使用します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-165">To get a **StorageFolder** for these libraries, use the [Windows.Storage.KnownFolders](https://docs.microsoft.com/uwp/api/windows.storage.knownfolders) class.</span></span>

#### <a name="documents-library"></a><span data-ttu-id="0f40e-166">ドキュメント ライブラリ</span><span class="sxs-lookup"><span data-stu-id="0f40e-166">Documents library</span></span>

<span data-ttu-id="0f40e-167">ユーザーのドキュメント ライブラリにアクセスするための機能がありますが、その機能は制限されています。つまり、特別な承認を受けるためのプロセスに従わない限り、それを宣言しているアプリは、Microsoft Store によって拒否されます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-167">Although there is a capability to access the user's documents library, that capability is restricted which means that an app declaring it will be rejected by the Microsoft Store unless you follow a process to get special approval.</span></span> <span data-ttu-id="0f40e-168">通常の使用を意図したものではありません。</span><span class="sxs-lookup"><span data-stu-id="0f40e-168">It is not intended for general use.</span></span> <span data-ttu-id="0f40e-169">代わりに、ファイルまたはフォルダー ピッカーを使用します (「[ピッカーでファイルやフォルダーを開く](https://docs.microsoft.com/windows/uwp/files/quickstart-using-file-and-folder-pickers)」および「[ピッカーによるファイルの保存](https://docs.microsoft.com/windows/uwp/files/quickstart-save-a-file-with-a-picker)」を参照)。これによりユーザーはフォルダーまたはファイルに移動できるようになります。</span><span class="sxs-lookup"><span data-stu-id="0f40e-169">Instead, use the file or folder pickers (see [Open files and folders with a picker](https://docs.microsoft.com/windows/uwp/files/quickstart-using-file-and-folder-pickers) and [Save a file with a picker](https://docs.microsoft.com/windows/uwp/files/quickstart-save-a-file-with-a-picker)) which allow the user to navigate to the folder or file.</span></span> <span data-ttu-id="0f40e-170">ユーザーがフォルダーまたはファイルに移動すると、フォルダーやファイルへのアクセス許可が暗黙的にアプリに与えられ、システムでアクセスが許可されます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-170">When the user navigates to a folder or file, they have implicitly given permission for the app to access it and the system allows access.</span></span>

#### <a name="general-access"></a><span data-ttu-id="0f40e-171">一般的なアクセス</span><span class="sxs-lookup"><span data-stu-id="0f40e-171">General access</span></span>

<span data-ttu-id="0f40e-172">または、アプリは制限された [broadFileSystem](https://docs.microsoft.com/windows/uwp/packaging/app-capability-declarations) 機能をマニフェストで宣言することができます。これにも Microsoft Store の承認が必要になります。</span><span class="sxs-lookup"><span data-stu-id="0f40e-172">Alternatively, your app can declare the restricted [broadFileSystem](https://docs.microsoft.com/windows/uwp/packaging/app-capability-declarations) capability in its manifest, which also requires Microsoft Store approval.</span></span> <span data-ttu-id="0f40e-173">その後、ファイル ピッカーまたはフォルダー ピッカーを操作する必要なく、ユーザーがアクセス権を持つすべてのファイルにアプリがアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-173">Then the app can access any file that the user has access to without requiring the intervention of a file or folder picker.</span></span>

<span data-ttu-id="0f40e-174">アプリがアクセスできる場所の包括的な一覧については、「[ファイル アクセス許可](https://docs.microsoft.com/windows/uwp/files/file-access-permissions)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0f40e-174">For a comprehensive list of the locations that apps can access, see [File access permissions](https://docs.microsoft.com/windows/uwp/files/file-access-permissions).</span></span>

## <a name="useful-apis-and-docs"></a><span data-ttu-id="0f40e-175">便利な API とドキュメント</span><span class="sxs-lookup"><span data-stu-id="0f40e-175">Useful APIs and docs</span></span>

<span data-ttu-id="0f40e-176">API の簡単な概要と、ファイルやフォルダーの使用を開始するために役立つその他の便利なドキュメントを次に示します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-176">Here is a quick summary of APIs, and other useful documentation, to help get you started with files and folders.</span></span>

### <a name="useful-apis"></a><span data-ttu-id="0f40e-177">便利な API</span><span class="sxs-lookup"><span data-stu-id="0f40e-177">Useful APIs</span></span>

| <span data-ttu-id="0f40e-178">API</span><span class="sxs-lookup"><span data-stu-id="0f40e-178">API</span></span> | <span data-ttu-id="0f40e-179">説明</span><span class="sxs-lookup"><span data-stu-id="0f40e-179">Description</span></span> |
|------|---------------|
|  [<span data-ttu-id="0f40e-180">Windows.Storage.StorageFile</span><span class="sxs-lookup"><span data-stu-id="0f40e-180">Windows.Storage.StorageFile</span></span>](https://docs.microsoft.com/uwp/api/windows.storage.storagefile) | <span data-ttu-id="0f40e-181">ファイルを作成、開く、コピー、削除、および名前変更する方法に関する情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-181">Provides information about the file, and methods for creating, opening, copying, deleting, and renaming files.</span></span> |
| [<span data-ttu-id="0f40e-182">Windows.Storage.StorageFolder</span><span class="sxs-lookup"><span data-stu-id="0f40e-182">Windows.Storage.StorageFolder</span></span>](https://docs.microsoft.com/uwp/api/windows.storage.storagefolder) | <span data-ttu-id="0f40e-183">フォルダー、ファイルを作成するためのメソッド、およびフォルダーを作成、名前変更、削除するためのメソッドに関する情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-183">Provides information about the folder, methods for creating files, and methods for creating, renaming, and deleting folders.</span></span> |
| [<span data-ttu-id="0f40e-184">FileIO</span><span class="sxs-lookup"><span data-stu-id="0f40e-184">FileIO</span></span>](https://docs.microsoft.com/uwp/api/windows.storage.fileio) |  <span data-ttu-id="0f40e-185">テキストの読み取りと書き込みを行う簡単な方法です。</span><span class="sxs-lookup"><span data-stu-id="0f40e-185">Provides an easy way to read and write text.</span></span> <span data-ttu-id="0f40e-186">また、このクラスはバイトの配列またはバッファーの内容の読み取り/書き込みを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-186">This class can also read/write an array of bytes or the contents of a buffer.</span></span> |
| [<span data-ttu-id="0f40e-187">PathIO</span><span class="sxs-lookup"><span data-stu-id="0f40e-187">PathIO</span></span>](https://docs.microsoft.com/uwp/api/windows.storage.pathio) | <span data-ttu-id="0f40e-188">ファイルの文字列パスを指定されたファイルに対するテキストの読み取り/書き込みを行う簡単な方法です。</span><span class="sxs-lookup"><span data-stu-id="0f40e-188">Provides an easy way to read/write text from/to a file given a string path for the file.</span></span> <span data-ttu-id="0f40e-189">また、このクラスはバイトの配列またはバッファーの内容の読み取り/書き込みを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="0f40e-189">This class can also read/write an array of bytes or the contents of a buffer.</span></span> |
| <span data-ttu-id="0f40e-190">[DataReader](https://docs.microsoft.com/uwp/api/windows.storage.streams.datareader) & [DataWriter](https://docs.microsoft.com/uwp/api/windows.storage.streams.datawriter)</span><span class="sxs-lookup"><span data-stu-id="0f40e-190">[DataReader](https://docs.microsoft.com/uwp/api/windows.storage.streams.datareader) & [DataWriter](https://docs.microsoft.com/uwp/api/windows.storage.streams.datawriter)</span></span> |  <span data-ttu-id="0f40e-191">ストリームに対してバッファー、バイト、整数、GUID、TimeSpans などの読み取りと書き込みを行います。</span><span class="sxs-lookup"><span data-stu-id="0f40e-191">Read and write buffers, bytes, integers, GUIDs, TimeSpans, and more, from/to a stream.</span></span> |
| [<span data-ttu-id="0f40e-192">Windows.Storage.ApplicationData.Current</span><span class="sxs-lookup"><span data-stu-id="0f40e-192">Windows.Storage.ApplicationData.Current</span></span>](https://docs.microsoft.com/uwp/api/windows.storage.applicationdata.current) | <span data-ttu-id="0f40e-193">ローカル フォルダー、移動フォルダー、一時ファイル フォルダーなど、アプリ用に作成されたフォルダーへのアクセスを提供します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-193">Provides access to the folders created for the app such as the local folder, roaming folder, and temporary files folder.</span></span> |
| [<span data-ttu-id="0f40e-194">Windows.Storage.Pickers.FolderPicker</span><span class="sxs-lookup"><span data-stu-id="0f40e-194">Windows.Storage.Pickers.FolderPicker</span></span>](https://docs.microsoft.com/uwp/api/windows.storage.pickers.folderpicker) |  <span data-ttu-id="0f40e-195">ユーザーがフォルダーを選択できるようにし、そのフォルダーの **StorageFolder** を返します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-195">Lets the user choose a folder and returns a **StorageFolder** for it.</span></span> <span data-ttu-id="0f40e-196">このようにして、既定ではアプリがアクセスできない場所にアクセスします。</span><span class="sxs-lookup"><span data-stu-id="0f40e-196">This is how you get access to locations that the app can't access by default.</span></span> |
| [<span data-ttu-id="0f40e-197">Windows.Storage.Pickers.FileOpenPicker</span><span class="sxs-lookup"><span data-stu-id="0f40e-197">Windows.Storage.Pickers.FileOpenPicker</span></span>](https://docs.microsoft.com/uwp/api/windows.storage.pickers.fileopenpicker) | <span data-ttu-id="0f40e-198">ユーザーが開くファイルを選択できるようにし、そのファイルの **StorageFile** を返します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-198">Lets the user choose a file to open and returns a **StorageFile** for it.</span></span> <span data-ttu-id="0f40e-199">このようにして、既定ではアプリがアクセスできないファイルにアクセスします。</span><span class="sxs-lookup"><span data-stu-id="0f40e-199">This is how you get access to a file that the app can't access by default.</span></span> |
| [<span data-ttu-id="0f40e-200">Windows.Storage.Pickers.FileSavePicker</span><span class="sxs-lookup"><span data-stu-id="0f40e-200">Windows.Storage.Pickers.FileSavePicker</span></span>](https://docs.microsoft.com/uwp/api/windows.storage.pickers.filesavepicker) | <span data-ttu-id="0f40e-201">ユーザーがファイルのファイル名、拡張子、および記憶域の場所を選択できるようにします。</span><span class="sxs-lookup"><span data-stu-id="0f40e-201">Lets the user choose the file name, extension, and storage location for a file.</span></span> <span data-ttu-id="0f40e-202">**StorageFile** を返します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-202">Returns a **StorageFile**.</span></span> <span data-ttu-id="0f40e-203">このようにして、既定ではアプリがアクセスできない場所にファイルを保存します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-203">This is how you save a file to a location that the app can't access by default.</span></span> |
|  [<span data-ttu-id="0f40e-204">Windows.Storage.Streams namespace</span><span class="sxs-lookup"><span data-stu-id="0f40e-204">Windows.Storage.Streams namespace</span></span>](https://docs.microsoft.com/uwp/api/windows.storage.streams) | <span data-ttu-id="0f40e-205">ストリームの読み取りと書き込みについて説明します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-205">Covers reading and writing streams.</span></span> <span data-ttu-id="0f40e-206">特に、[DataReader](https://docs.microsoft.com/uwp/api/windows.storage.streams.datareader) クラスと [DataWriter](https://docs.microsoft.com/uwp/api/windows.storage.streams.datawriter) クラスに注目します。これらのクラスはバッファー、バイト、整数、GUID、TimeSpans などの読み取りと書き込みを行います。</span><span class="sxs-lookup"><span data-stu-id="0f40e-206">In particular, look at the [DataReader](https://docs.microsoft.com/uwp/api/windows.storage.streams.datareader) and [DataWriter](https://docs.microsoft.com/uwp/api/windows.storage.streams.datawriter) classes which read and write buffers, bytes, integers, GUIDs, TimeSpans, and more.</span></span> |

### <a name="useful-docs"></a><span data-ttu-id="0f40e-207">役立つドキュメント</span><span class="sxs-lookup"><span data-stu-id="0f40e-207">Useful docs</span></span>

| <span data-ttu-id="0f40e-208">トピック</span><span class="sxs-lookup"><span data-stu-id="0f40e-208">Topic</span></span> | <span data-ttu-id="0f40e-209">説明</span><span class="sxs-lookup"><span data-stu-id="0f40e-209">Description</span></span> |
|-------|----------------|
| [<span data-ttu-id="0f40e-210">Windows.Storage Namespace</span><span class="sxs-lookup"><span data-stu-id="0f40e-210">Windows.Storage Namespace</span></span>](https://docs.microsoft.com/uwp/api/windows.storage) | <span data-ttu-id="0f40e-211">API リファレンス ドキュメントです。</span><span class="sxs-lookup"><span data-stu-id="0f40e-211">API reference docs.</span></span> |
| [<span data-ttu-id="0f40e-212">ファイル、フォルダー、およびライブラリ</span><span class="sxs-lookup"><span data-stu-id="0f40e-212">Files, folders, and libraries</span></span>](https://docs.microsoft.com/windows/uwp/files/) | <span data-ttu-id="0f40e-213">概念に関するドキュメントです。</span><span class="sxs-lookup"><span data-stu-id="0f40e-213">Conceptual docs.</span></span> |
| [<span data-ttu-id="0f40e-214">ファイルの作成、書き込み、および読み取り</span><span class="sxs-lookup"><span data-stu-id="0f40e-214">Create, write, and read a file</span></span>](https://docs.microsoft.com/windows/uwp/files/quickstart-reading-and-writing-files) | <span data-ttu-id="0f40e-215">テキスト、バイナリ データ、およびストリームの作成、読み取り、書き込みについて説明します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-215">Covers creating, reading, and writing text, binary data, and streams.</span></span> |
| [<span data-ttu-id="0f40e-216">アプリ データのローカルへの保存に関する概要</span><span class="sxs-lookup"><span data-stu-id="0f40e-216">Getting started storing app data locally</span></span>](https://blogs.windows.com/buildingapps/2016/05/10/getting-started-storing-app-data-locally/#pCbJKGjcShh5DTV5.97) | <span data-ttu-id="0f40e-217">ローカル データを保存するためのベスト プラクティスだけでなく、LocalSettings および LocalCache フォルダーの目的について説明します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-217">In addition to covering best practices for saving local data, covers  the purpose of the LocalSettings and LocalCache folder.</span></span> |
| [<span data-ttu-id="0f40e-218">アプリのデータのローミングの概要</span><span class="sxs-lookup"><span data-stu-id="0f40e-218">Getting Started with Roaming App Data</span></span>](https://blogs.windows.com/buildingapps/2016/05/03/getting-started-with-roaming-app-data/#RgjgLt5OkU9DbVV8.97) | <span data-ttu-id="0f40e-219">アプリのデータのローミングを使用する方法に関する 2 部で構成される資料です。</span><span class="sxs-lookup"><span data-stu-id="0f40e-219">A two-part series about how to use roaming app data.</span></span> |
| [<span data-ttu-id="0f40e-220">アプリケーション データのローミングのガイドライン</span><span class="sxs-lookup"><span data-stu-id="0f40e-220">Guidelines for roaming application data</span></span>](http://msdn.microsoft.com/library/windows/apps/hh465094) | <span data-ttu-id="0f40e-221">アプリの設計時にはデータ ローミングのガイドラインに従ってください。</span><span class="sxs-lookup"><span data-stu-id="0f40e-221">Follow these data roaming guidelines when you design your app.</span></span> |
| [<span data-ttu-id="0f40e-222">設定と他のアプリ データを保存して取得する</span><span class="sxs-lookup"><span data-stu-id="0f40e-222">Store and retrieve settings and other app data</span></span>](https://docs.microsoft.com/windows/uwp/design/app-settings/store-and-retrieve-app-data) | <span data-ttu-id="0f40e-223">ローカル フォルダー、移動フォルダー、および一時フォルダーなど、さまざまなアプリのデータ ストアの概要を示します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-223">Provides an overview of the various app data stores such as the local, roaming, and temporary folders.</span></span> <span data-ttu-id="0f40e-224">「[ローミング データ](https://docs.microsoft.com/windows/uwp/design/app-settings/store-and-retrieve-app-data#roaming-data)」セクションで、デバイス間でローミングされるデータの書き込みに関する追加の情報とガイドラインを参照してください。</span><span class="sxs-lookup"><span data-stu-id="0f40e-224">See the [Roaming data](https://docs.microsoft.com/windows/uwp/design/app-settings/store-and-retrieve-app-data#roaming-data) section for guidelines and additional information about writing data that roams between devices.</span></span> |
| [<span data-ttu-id="0f40e-225">ファイル アクセス許可</span><span class="sxs-lookup"><span data-stu-id="0f40e-225">File access permissions</span></span>](https://docs.microsoft.com/windows/uwp/files/file-access-permissions) | <span data-ttu-id="0f40e-226">アプリでアクセスできるファイル システムの場所に関する情報です。</span><span class="sxs-lookup"><span data-stu-id="0f40e-226">Information about which file system locations your app can access.</span></span> |
| [<span data-ttu-id="0f40e-227">ピッカーでファイルやフォルダーを開く</span><span class="sxs-lookup"><span data-stu-id="0f40e-227">Open files and folders with a picker</span></span>](https://docs.microsoft.com/windows/uwp/files/quickstart-using-file-and-folder-pickers) | <span data-ttu-id="0f40e-228">ピッカーの UI を介してユーザーが決定できるようにすることでファイルやフォルダーにアクセスする方法を示します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-228">Shows how to access files and folders by letting the user decide via a picker UI.</span></span> |
| [<span data-ttu-id="0f40e-229">Windows.Storage.Streams</span><span class="sxs-lookup"><span data-stu-id="0f40e-229">Windows.Storage.Streams</span></span>](https://docs.microsoft.com/uwp/api/windows.storage.streams) | <span data-ttu-id="0f40e-230">ストリームの読み取りと書き込みに使用される型です。</span><span class="sxs-lookup"><span data-stu-id="0f40e-230">Types used to read and write streams.</span></span> |
| [<span data-ttu-id="0f40e-231">ミュージック、画像、およびビデオ ライブラリのファイルとフォルダー</span><span class="sxs-lookup"><span data-stu-id="0f40e-231">Files and folders in the Music, Pictures, and Videos libraries</span></span>](https://docs.microsoft.com/windows/uwp/files/quickstart-managing-folders-in-the-music-pictures-and-videos-libraries) | <span data-ttu-id="0f40e-232">ライブラリからフォルダーを削除したり、ライブラリ内のフォルダーの一覧を取得したり、保存した写真、音楽、ビデオを検索したりする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-232">Covers how to remove folders from libraries, get the list of folders in a library, and discover stored photos, music, and videos.</span></span> |

## <a name="useful-code-samples"></a><span data-ttu-id="0f40e-233">役立つコード サンプル</span><span class="sxs-lookup"><span data-stu-id="0f40e-233">Useful code samples</span></span>

| <span data-ttu-id="0f40e-234">コード サンプル</span><span class="sxs-lookup"><span data-stu-id="0f40e-234">Code sample</span></span> | <span data-ttu-id="0f40e-235">説明</span><span class="sxs-lookup"><span data-stu-id="0f40e-235">Description</span></span> |
|-----------------|---------------|
| [<span data-ttu-id="0f40e-236">アプリケーション データ サンプル</span><span class="sxs-lookup"><span data-stu-id="0f40e-236">Application data sample</span></span>](https://code.msdn.microsoft.com/windowsapps/ApplicationData-sample-fb043eb2) | <span data-ttu-id="0f40e-237">アプリケーション データ API を使って、ユーザーごとに特有のデータを保存、取得する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-237">Shows  how to store and retrieve data that is specific to each user by using the application data APIs.</span></span> |
| [<span data-ttu-id="0f40e-238">ファイル アクセスのサンプル</span><span class="sxs-lookup"><span data-stu-id="0f40e-238">File access sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/FileAccess) | <span data-ttu-id="0f40e-239">ファイルを作成、読み取り、書き込み、コピー、および削除する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-239">Shows how to create, read, write, copy and delete a file.</span></span> |
| [<span data-ttu-id="0f40e-240">ファイル ピッカーのサンプル</span><span class="sxs-lookup"><span data-stu-id="0f40e-240">File picker sample</span></span>](http://code.msdn.microsoft.com/windowsapps/File-picker-sample-9f294cba) | <span data-ttu-id="0f40e-241">ユーザーが UI で選択できるようにしてファイルやフォルダーにアクセスする方法、ユーザーが保存するファイルの名前、ファイルの種類、場所を指定できるようにファイルを保存する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-241">Shows how to access files and folders by letting the user choose them with UI, and how to save a file so that the user can specify the name, file type, and location of a file to save.</span></span> |
| [<span data-ttu-id="0f40e-242">JSON サンプル</span><span class="sxs-lookup"><span data-stu-id="0f40e-242">JSON sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/Json) | <span data-ttu-id="0f40e-243">[Windows.Data.Json namespace](https://docs.microsoft.com/uwp/api/Windows.Data.Json) を使用して、JavaScript Object Notation (JSON) オブジェクト、配列、文字列、数値、ブール値をエンコードおよびデコードする方法を示します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-243">Shows how to encode and decode JavaScript Object Notation (JSON) objects, arrays, strings, numbers and booleans using the [Windows.Data.Json namespace](https://docs.microsoft.com/uwp/api/Windows.Data.Json).</span></span> |
| [<span data-ttu-id="0f40e-244">その他のコード サンプル</span><span class="sxs-lookup"><span data-stu-id="0f40e-244">Additional code samples</span></span>](https://developer.microsoft.com//windows/samples) | <span data-ttu-id="0f40e-245">[カテゴリ] ドロップダウン リストで、**[Files, folder, and libraries] (ファイル、フォルダー、およびライブラリ)** を選択します。</span><span class="sxs-lookup"><span data-stu-id="0f40e-245">Choose **Files, folder, and libraries** in the category drop-down list.</span></span> |