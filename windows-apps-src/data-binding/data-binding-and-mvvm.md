---
ms.assetid: F46306EC-DFF3-4FF0-91A8-826C1F8C4A52
title: データ バインディングと MVVM
description: データ バインディングは、モデル-ビュー-ビューモデル (MVVM) UI のアーキテクチャの設計パターンの中心ではあり、UI と UI 以外のコード間で疎結合をできます。
ms.date: 10/02/2018
ms.topic: article
keywords: Windows 10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 931f2fcbcdbf58b9dc2ca40403d7466b620a8991
ms.sourcegitcommit: 681c70f964210ab49ac5d06357ae96505bb78741
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/26/2018
ms.locfileid: "7700095"
---
# <a name="data-binding-and-mvvm"></a><span data-ttu-id="2b9ac-104">データ バインディングと MVVM</span><span class="sxs-lookup"><span data-stu-id="2b9ac-104">Data binding and MVVM</span></span>

<span data-ttu-id="2b9ac-105">モデル-ビュー-ビューモデル (MVVM) は、UI と UI 以外のコードを分離の UI のアーキテクチャの設計パターンです。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-105">Model-View-ViewModel (MVVM) is a UI architectural design pattern for decoupling UI and non-UI code.</span></span> <span data-ttu-id="2b9ac-106">Mvvm では、XAML で宣言によって、UI の定義し、データとコマンド含まれている他のレイヤーにリンクするデータ バインディングのマークアップを使用します。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-106">With MVVM, you define your UI declaratively in XAML and use data binding markup to link it to other layers containing data and commands.</span></span> <span data-ttu-id="2b9ac-107">データ バインディングのインフラストラクチャの提供により、UI を疎結合とリンクされたデータが同期され、適切なコマンドにユーザー入力をルーティングします。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-107">The data binding infrastructure provides a loose coupling that keeps the UI and the linked data synchronized and routes user input to the appropriate commands.</span></span> 

<span data-ttu-id="2b9ac-108">疎結合を提供するため、データ バインディングの使用は、さまざまな種類のコードの間で依存関係を減少します。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-108">Because it provides loose coupling, the use of data binding reduces hard dependencies between different kinds of code.</span></span> <span data-ttu-id="2b9ac-109">これにより、簡単にも他の単位で予想外の副作用が起こりません (メソッド、クラス、コントロールなど) に個々 のコード単位を変更します。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-109">This makes it easier to change individual code units (methods, classes, controls, etc.) without causing unintended side effects in other units.</span></span> <span data-ttu-id="2b9ac-110">この切り離しは*問題の分離*の例の多くの設計パターンに重要な概念です。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-110">This decoupling is an example of the *separation of concerns*, which is an important concept in many design patterns.</span></span> 

## <a name="benefits-of-mvvm"></a><span data-ttu-id="2b9ac-111">MVVM の利点</span><span class="sxs-lookup"><span data-stu-id="2b9ac-111">Benefits of MVVM</span></span>

<span data-ttu-id="2b9ac-112">コードを分離するなど、多くの利点があります。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-112">Decoupling your code has many benefits, including:</span></span>

* <span data-ttu-id="2b9ac-113">反復的な予備コーディング スタイルを有効にします。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-113">Enabling an iterative, exploratory coding style.</span></span> <span data-ttu-id="2b9ac-114">分離された変更は、低い危険であり、実験を簡単にです。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-114">Change that is isolated is less risky and easier to experiment with.</span></span>
* <span data-ttu-id="2b9ac-115">簡素化単体テストします。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-115">Simplifying unit testing.</span></span> <span data-ttu-id="2b9ac-116">個別および運用環境の外部は互いに分離コード単位をテストすることができます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-116">Code units that are isolated from one another can be tested individually and outside of production environments.</span></span>
* <span data-ttu-id="2b9ac-117">チームの共同作業をサポートします。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-117">Supporting team collaboration.</span></span> <span data-ttu-id="2b9ac-118">適切に設計されたインターフェイスに準拠している分離コードを別々 の個人やチームによって開発されたし、後で統合されています。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-118">Decoupled code that adheres to well-designed interfaces can be developed by separate individuals or teams, and integrated later.</span></span>
* <span data-ttu-id="2b9ac-119">保守性を向上させます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-119">Improving maintainability.</span></span> <span data-ttu-id="2b9ac-120">バグを修正して分離コードでは、その他のコードで使って不具合が発生する可能性が低くします。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-120">Fixing bugs in decoupled code is less likely to cause regressions in other code.</span></span>

<span data-ttu-id="2b9ac-121">MVVM とは対照的より従来「コード ビハインド」構造のアプリは通常、データの表示専用のデータ バインディングを使用し、直接コントロールによって公開されているイベントを処理することによって、ユーザー入力に応答します。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-121">In contrast with MVVM, an app with a more conventional "code-behind" structure typically uses data binding for display-only data, and responds to user input by directly handling events exposed by controls.</span></span> <span data-ttu-id="2b9ac-122">イベント ハンドラーでは、コード ビハインド ファイル (MainPage.xaml.cs) などに実装されてし、通常、UI を直接操作するコードを含む、コントロールに多くの場合密結合されます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-122">The event handlers are implemented in code-behind files (such as MainPage.xaml.cs), and are often tightly coupled to the controls, typically containing code that manipulates the UI directly.</span></span> <span data-ttu-id="2b9ac-123">これにより、困難または不可能なイベントの処理コードを更新することがなく、コントロールを置き換えます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-123">This makes it difficult or impossible to replace a control without having to update the event handling code.</span></span> <span data-ttu-id="2b9ac-124">このアーキテクチャでは、分離コード ファイルには多くの場合データベース アクセスのコードは、最終的に複製され、他のページで使用するために変更されているなど、UI に直接関連がないコードが蓄積されます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-124">With this architecture, code-behind files often accumulate code that isn't directly related to the UI, such as database-access code, which ends up being duplicated and modified for use with other pages.</span></span>

## <a name="app-layers"></a><span data-ttu-id="2b9ac-125">アプリのレイヤー</span><span class="sxs-lookup"><span data-stu-id="2b9ac-125">App layers</span></span>

<span data-ttu-id="2b9ac-126">MVVM パターンを使用する場合、アプリは、次のレイヤーに分かれています。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-126">When using the MVVM pattern, an app is divided into the following layers:</span></span>

* <span data-ttu-id="2b9ac-127">**モデル**のレイヤーは、ビジネス データを表す型を定義します。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-127">The **model** layer defines the types that represent your business data.</span></span> <span data-ttu-id="2b9ac-128">これは、コア アプリ ドメインをモデルに必要なすべてを備えており、コア アプリのロジックが含まれています。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-128">This includes everything required to model the core app domain, and often includes core app logic.</span></span> <span data-ttu-id="2b9ac-129">このレイヤーは、ビューとビュー モデルのレイヤーで完全に独立して、多くの場合、クラウドに置か部分的にします。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-129">This layer is completely independent of the view and view-model layers, and often resides partially in the cloud.</span></span> <span data-ttu-id="2b9ac-130">完全に実装されているモデルのレイヤーを指定するには、アプリを作成できる複数の異なるクライアント場合はそのため、同じ基になるデータと連携する UWP と web アプリなどです。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-130">Given a fully implemented model layer, you can create multiple different client apps if you so choose, such as UWP and web apps that work with the same underlying data.</span></span>
* <span data-ttu-id="2b9ac-131">**ビュー**のレイヤーは、XAML マークアップを使用して UI を定義します。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-131">The **view** layer defines the UI using XAML markup.</span></span> <span data-ttu-id="2b9ac-132">マークアップには、特定の UI コンポーネントとビュー モデルとモデルのさまざまなメンバー間の接続を定義する ( [X:bind](https://docs.microsoft.com/windows/uwp/xaml-platform/x-bind-markup-extension)) などのデータのバインド式が含まれています。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-132">The markup includes data binding expressions (such as [x:Bind](https://docs.microsoft.com/windows/uwp/xaml-platform/x-bind-markup-extension)) that define the connection between specific UI components and various view-model and model members.</span></span> <span data-ttu-id="2b9ac-133">コード ビハインド ファイルは、カスタマイズしたり、UI を操作したりするか、作業を実行するビュー モデルのメソッドを呼び出す前に、イベント ハンドラーの引数からデータを抽出するために必要な追加のコードを含むことがありますビューのレイヤーの一部として使用されます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-133">Code-behind files are sometimes used as part of the view layer to contain additional code needed to customize or manipulate the UI, or to extract data from event handler arguments before calling a view-model method that performs the work.</span></span> 
* <span data-ttu-id="2b9ac-134">**ビュー モデル**のレイヤーは、ビューのデータ バインディング ターゲットを提供します。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-134">The **view-model** layer provides data binding targets for the view.</span></span> <span data-ttu-id="2b9ac-135">多くの場合、ビュー モデルは、直接モデルを公開またはモデルの特定のメンバーをラップするメンバーを提供します。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-135">In many cases, the view-model exposes the model directly, or provides members that wrap specific model members.</span></span> <span data-ttu-id="2b9ac-136">ビュー モデル、関連するデータを追跡するためのメンバーを定義できますも項目の一覧の表示順序など、モデルではなく、UI にします。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-136">The view-model can also define members for keeping track of data that is relevant to the UI but not to the model, such as the display order of a list of items.</span></span> <span data-ttu-id="2b9ac-137">ビュー モデルは、データベース アクセス コードなどの他のサービスとの統合ポイントとしても機能します。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-137">The view-model also serves as an integration point with other services such as database-access code.</span></span> <span data-ttu-id="2b9ac-138">単純なプロジェクトの場合は、別のモデルのレイヤーがのみ、ビュー モデルを必要なすべてのデータをカプセル化しない必要があります。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-138">For simple projects, you might not need a separate model layer, but only a view-model that encapsulates all the data you need.</span></span> 

## <a name="basic-and-advanced-mvvm"></a><span data-ttu-id="2b9ac-139">基本および詳細な MVVM</span><span class="sxs-lookup"><span data-stu-id="2b9ac-139">Basic and advanced MVVM</span></span>

<span data-ttu-id="2b9ac-140">同様に、設計パターンは、MVVM を実装する方法の 1 つ以上のさまざまな方法は MVVM の一部と見なされます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-140">As with any design pattern, there is more than one way to implement MVVM, and many different techniques are considered part of MVVM.</span></span> <span data-ttu-id="2b9ac-141">このため、サポート、さまざまな XAML ベースのプラットフォームは、UWP を含むいくつかのさまざまなサード パーティ製 MVVM フレームワークがあります。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-141">For this reason, there are several different third-party MVVM frameworks supporting the various XAML-based platforms, including UWP.</span></span> <span data-ttu-id="2b9ac-142">ただし、これらのフレームワークには通常、分離されたアーキテクチャでは、MVVM の正確な定義をいくらかあいまいなことを実装するための複数のサービスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-142">However, these frameworks generally include multiple services for implementing decoupled architecture, making the exact definition of MVVM somewhat ambiguous.</span></span> 

<span data-ttu-id="2b9ac-143">高度な MVVM フレームワークできますが、非常に便利です特にエンタープライズ規模のプロジェクトの場合は通常、特定のパターンや手法を採用することに関連付けられているコストと利点は、必ずしもスケールとのサイズに応じてのクリアプロジェクトです。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-143">Although sophisticated MVVM frameworks can be very useful, especially for enterprise-scale projects, there is typically a cost associated with adopting any particular pattern or technique, and the benefits are not always clear, depending on the scale and size of your project.</span></span> <span data-ttu-id="2b9ac-144">さいわい、明確かつ具体的なメリットを提供する手法だけを採用して、それらが必要になるまでに、他のユーザーを無視できます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-144">Fortunately, you can adopt only those techniques that provide a clear and tangible benefit, and ignore others until you need them.</span></span> 

<span data-ttu-id="2b9ac-145">具体的には、多くの利点について理解し、データ バインディングと前に説明したレイヤーに、アプリのロジックを分離するデータの完全な電源を適用するだけで取得できます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-145">In particular, you can get a lot of benefit simply by understanding and applying the full power of data binding and separating your app logic into the layers described earlier.</span></span> <span data-ttu-id="2b9ac-146">これと外部のフレームワークを使用することがなく、Windows SDK によって提供される機能のみを使用して実現できます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-146">This can be achieved using only the capabilities provided by the Windows SDK, and without using any external frameworks.</span></span> <span data-ttu-id="2b9ac-147">具体的には、 [{X:bind} マークアップ拡張](https://docs.microsoft.com/windows/uwp/xaml-platform/x-bind-markup-extension)データ バインディングと簡単高いよりも多くのスケルトン コードの必要をなくす前の XAML プラットフォームで実行するために必要な前の手順です。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-147">In particular, the [{x:Bind} markup extension](https://docs.microsoft.com/windows/uwp/xaml-platform/x-bind-markup-extension) makes data binding easier and higher performing than in previous XAML platforms, eliminating the need for a lot of the boilerplate code required earlier.</span></span>

<span data-ttu-id="2b9ac-148">基本的なボックスの MVVM の使用に関する追加ガイダンスについては、GitHub で[顧客注文データベースのサンプル](https://github.com/Microsoft/Windows-appsample-customers-orders-database)を確認します。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-148">For additional guidance on using basic, out-of-the-box MVVM, check out the [Customers Orders Database sample](https://github.com/Microsoft/Windows-appsample-customers-orders-database) on GitHub.</span></span> <span data-ttu-id="2b9ac-149">基本的な MVVM アーキテクチャでは、使用も、他の[UWP アプリ サンプル](https://github.com/Microsoft?q=windows-appsample
)の多くと[へのトラフィックをアプリのサンプル](https://github.com/Microsoft/Windows-appsample-trafficapp) [MVVM 変換](https://github.com/Microsoft/Windows-appsample-trafficapp/blob/MVVM/MVVM.md)を記述しているメモをコード ビハインドと MVVM のバージョンの両方が含まれます。</span><span class="sxs-lookup"><span data-stu-id="2b9ac-149">Many of the other [UWP app samples](https://github.com/Microsoft?q=windows-appsample
) also use a basic MVVM architecture, and the [Traffic App sample](https://github.com/Microsoft/Windows-appsample-trafficapp) includes both code-behind and MVVM versions, with notes describing the [MVVM conversion](https://github.com/Microsoft/Windows-appsample-trafficapp/blob/MVVM/MVVM.md).</span></span> 

## <a name="see-also"></a><span data-ttu-id="2b9ac-150">関連項目</span><span class="sxs-lookup"><span data-stu-id="2b9ac-150">See also</span></span>

### <a name="topics"></a><span data-ttu-id="2b9ac-151">トピック</span><span class="sxs-lookup"><span data-stu-id="2b9ac-151">Topics</span></span>

[<span data-ttu-id="2b9ac-152">データ バインディングの詳細</span><span class="sxs-lookup"><span data-stu-id="2b9ac-152">Data binding in depth</span></span>](https://docs.microsoft.com/windows/uwp/data-binding/data-binding-in-depth)  
[<span data-ttu-id="2b9ac-153">{x:Bind} マークアップ拡張</span><span class="sxs-lookup"><span data-stu-id="2b9ac-153">{x:Bind} markup extension</span></span>](https://docs.microsoft.com/windows/uwp/xaml-platform/x-bind-markup-extension)  

### <a name="samples"></a><span data-ttu-id="2b9ac-154">サンプル</span><span class="sxs-lookup"><span data-stu-id="2b9ac-154">Samples</span></span>

[<span data-ttu-id="2b9ac-155">顧客注文データベースのサンプル</span><span class="sxs-lookup"><span data-stu-id="2b9ac-155">Customers Orders Database sample</span></span>](https://github.com/Microsoft/Windows-appsample-customers-orders-database)  
[<span data-ttu-id="2b9ac-156">VanArsdel インベントリのサンプル</span><span class="sxs-lookup"><span data-stu-id="2b9ac-156">VanArsdel Inventory sample</span></span>](https://github.com/Microsoft/InventorySample)  
[<span data-ttu-id="2b9ac-157">交通情報アプリのサンプル</span><span class="sxs-lookup"><span data-stu-id="2b9ac-157">Traffic App sample</span></span>](https://github.com/Microsoft/Windows-appsample-trafficapp)  
