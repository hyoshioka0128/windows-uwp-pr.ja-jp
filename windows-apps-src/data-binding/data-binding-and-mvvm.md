---
ms.assetid: F46306EC-DFF3-4FF0-91A8-826C1F8C4A52
title: データ バインディングと MVVM
description: データ バインディングは、モデル-ビュー-ビューモデル (MVVM) UI のアーキテクチャの設計パターンの中核し、UI や UI 以外のコード間の疎結合を使用します。
ms.date: 10/02/2018
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.openlocfilehash: 931f2fcbcdbf58b9dc2ca40403d7466b620a8991
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2019
ms.locfileid: "57616737"
---
# <a name="data-binding-and-mvvm"></a><span data-ttu-id="6b49a-104">データ バインディングと MVVM</span><span class="sxs-lookup"><span data-stu-id="6b49a-104">Data binding and MVVM</span></span>

<span data-ttu-id="6b49a-105">モデル-ビュー-ビューモデル (MVVM) は、UI と UI 以外のコードを切り離すため UI アーキテクチャの設計パターンです。</span><span class="sxs-lookup"><span data-stu-id="6b49a-105">Model-View-ViewModel (MVVM) is a UI architectural design pattern for decoupling UI and non-UI code.</span></span> <span data-ttu-id="6b49a-106">MVVM、するは、XAML で宣言によって、UI を定義し、データとコマンドを格納している他のレイヤーにリンクするデータ バインドのマークアップを使用します。</span><span class="sxs-lookup"><span data-stu-id="6b49a-106">With MVVM, you define your UI declaratively in XAML and use data binding markup to link it to other layers containing data and commands.</span></span> <span data-ttu-id="6b49a-107">データ バインド インフラストラクチャは、UI を保持する疎結合とリンクされているデータが同期され、ユーザーの入力を適切なコマンドをルーティングします。</span><span class="sxs-lookup"><span data-stu-id="6b49a-107">The data binding infrastructure provides a loose coupling that keeps the UI and the linked data synchronized and routes user input to the appropriate commands.</span></span> 

<span data-ttu-id="6b49a-108">疎結合を提供するため、データ バインディングの使用は、さまざまな種類のコードの間ハードの依存関係を減らします。</span><span class="sxs-lookup"><span data-stu-id="6b49a-108">Because it provides loose coupling, the use of data binding reduces hard dependencies between different kinds of code.</span></span> <span data-ttu-id="6b49a-109">これにより、簡単に他の単位に意図しない副作用を発生させることがなく個々 のコード単位 (メソッド、クラス、コントロールなど) を変更します。</span><span class="sxs-lookup"><span data-stu-id="6b49a-109">This makes it easier to change individual code units (methods, classes, controls, etc.) without causing unintended side effects in other units.</span></span> <span data-ttu-id="6b49a-110">例は、このような分離、*懸念事項の分離*、多くの設計パターンの重要な概念であります。</span><span class="sxs-lookup"><span data-stu-id="6b49a-110">This decoupling is an example of the *separation of concerns*, which is an important concept in many design patterns.</span></span> 

## <a name="benefits-of-mvvm"></a><span data-ttu-id="6b49a-111">MVVM の利点</span><span class="sxs-lookup"><span data-stu-id="6b49a-111">Benefits of MVVM</span></span>

<span data-ttu-id="6b49a-112">コードの分離など、多くの利点があります。</span><span class="sxs-lookup"><span data-stu-id="6b49a-112">Decoupling your code has many benefits, including:</span></span>

* <span data-ttu-id="6b49a-113">反復的な探索的コーディング スタイルを有効にします。</span><span class="sxs-lookup"><span data-stu-id="6b49a-113">Enabling an iterative, exploratory coding style.</span></span> <span data-ttu-id="6b49a-114">分離された変更は、低いリスクを試してみたりする簡単にです。</span><span class="sxs-lookup"><span data-stu-id="6b49a-114">Change that is isolated is less risky and easier to experiment with.</span></span>
* <span data-ttu-id="6b49a-115">簡素化する単体テストします。</span><span class="sxs-lookup"><span data-stu-id="6b49a-115">Simplifying unit testing.</span></span> <span data-ttu-id="6b49a-116">個別にし、実稼働環境外では、互いに分離されたコード ユニットをテストできます。</span><span class="sxs-lookup"><span data-stu-id="6b49a-116">Code units that are isolated from one another can be tested individually and outside of production environments.</span></span>
* <span data-ttu-id="6b49a-117">チーム コラボレーションをサポートします。</span><span class="sxs-lookup"><span data-stu-id="6b49a-117">Supporting team collaboration.</span></span> <span data-ttu-id="6b49a-118">適切に設計されたインターフェイスに準拠した分離されたコードは、別々 の個人やチームによって開発されたし、後で統合できます。</span><span class="sxs-lookup"><span data-stu-id="6b49a-118">Decoupled code that adheres to well-designed interfaces can be developed by separate individuals or teams, and integrated later.</span></span>
* <span data-ttu-id="6b49a-119">保守容易性を向上させます。</span><span class="sxs-lookup"><span data-stu-id="6b49a-119">Improving maintainability.</span></span> <span data-ttu-id="6b49a-120">分離コードでバグの修正は、回帰を他のコードで発生する可能性が低くします。</span><span class="sxs-lookup"><span data-stu-id="6b49a-120">Fixing bugs in decoupled code is less likely to cause regressions in other code.</span></span>

<span data-ttu-id="6b49a-121">MVVM とは異なり、従来の「分離コード」構造を使用してアプリは通常表示専用のデータのデータ バインディングを使用し、コントロールによって公開されるイベントを直接処理することによってユーザー入力に応答します。</span><span class="sxs-lookup"><span data-stu-id="6b49a-121">In contrast with MVVM, an app with a more conventional "code-behind" structure typically uses data binding for display-only data, and responds to user input by directly handling events exposed by controls.</span></span> <span data-ttu-id="6b49a-122">イベント ハンドラーでは、(MainPage.xaml.cs) などの分離コード ファイルで実装され、通常、UI を直接操作するコードを含む、コントロールに多くの場合、密に結合します。</span><span class="sxs-lookup"><span data-stu-id="6b49a-122">The event handlers are implemented in code-behind files (such as MainPage.xaml.cs), and are often tightly coupled to the controls, typically containing code that manipulates the UI directly.</span></span> <span data-ttu-id="6b49a-123">これにより、困難または不可能なイベント処理コードを更新することがなく、コントロールを置き換えます。</span><span class="sxs-lookup"><span data-stu-id="6b49a-123">This makes it difficult or impossible to replace a control without having to update the event handling code.</span></span> <span data-ttu-id="6b49a-124">このアーキテクチャでは、分離コード ファイルでは、データベースへのアクセス コードは、最終的に複製され、他のページで使用するために変更されているなど、UI に直接関連付けられていないコードが多くの場合、蓄積されます。</span><span class="sxs-lookup"><span data-stu-id="6b49a-124">With this architecture, code-behind files often accumulate code that isn't directly related to the UI, such as database-access code, which ends up being duplicated and modified for use with other pages.</span></span>

## <a name="app-layers"></a><span data-ttu-id="6b49a-125">アプリケーション レイヤー</span><span class="sxs-lookup"><span data-stu-id="6b49a-125">App layers</span></span>

<span data-ttu-id="6b49a-126">MVVM パターンを使用する場合、アプリは次の層に分かれています。</span><span class="sxs-lookup"><span data-stu-id="6b49a-126">When using the MVVM pattern, an app is divided into the following layers:</span></span>

* <span data-ttu-id="6b49a-127">**モデル**層、ビジネス データを表す型を定義します。</span><span class="sxs-lookup"><span data-stu-id="6b49a-127">The **model** layer defines the types that represent your business data.</span></span> <span data-ttu-id="6b49a-128">これは、コア アプリケーション ドメインをモデル化するために必要なすべてのものが含まれています、コア アプリケーション ロジックが含まれています。</span><span class="sxs-lookup"><span data-stu-id="6b49a-128">This includes everything required to model the core app domain, and often includes core app logic.</span></span> <span data-ttu-id="6b49a-129">このレイヤーであり、ビューとビュー モデル レイヤーでは、完全に独立して多くの場合、部分的にクラウドにあります。</span><span class="sxs-lookup"><span data-stu-id="6b49a-129">This layer is completely independent of the view and view-model layers, and often resides partially in the cloud.</span></span> <span data-ttu-id="6b49a-130">完全に実装されたモデルのレイヤーを指定するには、作成できます複数の異なるクライアント アプリを同じ基になるデータを使用する UWP と web のアプリなど、そのため選択した場合。</span><span class="sxs-lookup"><span data-stu-id="6b49a-130">Given a fully implemented model layer, you can create multiple different client apps if you so choose, such as UWP and web apps that work with the same underlying data.</span></span>
* <span data-ttu-id="6b49a-131">**ビュー**レイヤーが XAML マークアップを使用して UI を定義します。</span><span class="sxs-lookup"><span data-stu-id="6b49a-131">The **view** layer defines the UI using XAML markup.</span></span> <span data-ttu-id="6b49a-132">マークアップには、データ バインド式が含まれています (など[X:bind](https://docs.microsoft.com/windows/uwp/xaml-platform/x-bind-markup-extension)) 特定の UI コンポーネント、およびさまざまなビュー モデルとモデルのメンバー間の接続を定義します。</span><span class="sxs-lookup"><span data-stu-id="6b49a-132">The markup includes data binding expressions (such as [x:Bind](https://docs.microsoft.com/windows/uwp/xaml-platform/x-bind-markup-extension)) that define the connection between specific UI components and various view-model and model members.</span></span> <span data-ttu-id="6b49a-133">分離コード ファイルは、カスタマイズしたり、UI を操作するか、操作を実行するビュー モデルのメソッドを呼び出す前に、イベント ハンドラーの引数からデータを抽出するために必要な追加のコードを含めることがありますビュー層の一部として使用されます。</span><span class="sxs-lookup"><span data-stu-id="6b49a-133">Code-behind files are sometimes used as part of the view layer to contain additional code needed to customize or manipulate the UI, or to extract data from event handler arguments before calling a view-model method that performs the work.</span></span> 
* <span data-ttu-id="6b49a-134">**ビュー モデル**レイヤーは、ビューのデータ バインドのターゲットを提供します。</span><span class="sxs-lookup"><span data-stu-id="6b49a-134">The **view-model** layer provides data binding targets for the view.</span></span> <span data-ttu-id="6b49a-135">多くの場合、ビュー モデルはモデルを直接公開または特定のモデル メンバーをラップするメンバーを提供します。</span><span class="sxs-lookup"><span data-stu-id="6b49a-135">In many cases, the view-model exposes the model directly, or provides members that wrap specific model members.</span></span> <span data-ttu-id="6b49a-136">ビュー モデルは関連するデータを追跡するためのメンバーを定義できますも項目の一覧の表示順序など、モデルではなく、UI にします。</span><span class="sxs-lookup"><span data-stu-id="6b49a-136">The view-model can also define members for keeping track of data that is relevant to the UI but not to the model, such as the display order of a list of items.</span></span> <span data-ttu-id="6b49a-137">ビュー モデルは、データベースへのアクセス コードなどの他のサービスとの統合ポイントとしても機能します。</span><span class="sxs-lookup"><span data-stu-id="6b49a-137">The view-model also serves as an integration point with other services such as database-access code.</span></span> <span data-ttu-id="6b49a-138">単純なプロジェクトの場合は、個別のモデルのレイヤーがのみをビュー モデルを必要なすべてのデータをカプセル化していない必要があります。</span><span class="sxs-lookup"><span data-stu-id="6b49a-138">For simple projects, you might not need a separate model layer, but only a view-model that encapsulates all the data you need.</span></span> 

## <a name="basic-and-advanced-mvvm"></a><span data-ttu-id="6b49a-139">基本および詳細な MVVM</span><span class="sxs-lookup"><span data-stu-id="6b49a-139">Basic and advanced MVVM</span></span>

<span data-ttu-id="6b49a-140">なデザイン パターンと同様、MVVM を実装するためには、複数の方法があるし、多くのさまざまな手法は MVVM の一部と見なされます。</span><span class="sxs-lookup"><span data-stu-id="6b49a-140">As with any design pattern, there is more than one way to implement MVVM, and many different techniques are considered part of MVVM.</span></span> <span data-ttu-id="6b49a-141">このため、さまざまな XAML ベースのプラットフォーム、UWP などをサポートしているいくつかのさまざまなサード パーティ製 MVVM フレームワークがあります。</span><span class="sxs-lookup"><span data-stu-id="6b49a-141">For this reason, there are several different third-party MVVM frameworks supporting the various XAML-based platforms, including UWP.</span></span> <span data-ttu-id="6b49a-142">ただし、これらのフレームワークには通常、MVVM の正確な定義をある程度のあいまいなため、分離されたアーキテクチャを実装するための複数のサービスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="6b49a-142">However, these frameworks generally include multiple services for implementing decoupled architecture, making the exact definition of MVVM somewhat ambiguous.</span></span> 

<span data-ttu-id="6b49a-143">高度な MVVM フレームワークは、非常に便利なことは、特にエンタープライズ規模のプロジェクトは通常、特定のパターンや手法を採用することに関連するコストとメリットは常に明確にでのサイズとスケールに応じてされません。プロジェクト。</span><span class="sxs-lookup"><span data-stu-id="6b49a-143">Although sophisticated MVVM frameworks can be very useful, especially for enterprise-scale projects, there is typically a cost associated with adopting any particular pattern or technique, and the benefits are not always clear, depending on the scale and size of your project.</span></span> <span data-ttu-id="6b49a-144">幸いにも、明確かつ具体的な特典を提供するような手法を採用し、必要になるまで、他のユーザーを無視できます。</span><span class="sxs-lookup"><span data-stu-id="6b49a-144">Fortunately, you can adopt only those techniques that provide a clear and tangible benefit, and ignore others until you need them.</span></span> 

<span data-ttu-id="6b49a-145">具体的には、多くの利点を理解し、データ バインド、前に説明したレイヤーに、アプリのロジックを分離することの全機能を適用するだけで取得できます。</span><span class="sxs-lookup"><span data-stu-id="6b49a-145">In particular, you can get a lot of benefit simply by understanding and applying the full power of data binding and separating your app logic into the layers described earlier.</span></span> <span data-ttu-id="6b49a-146">これは、任意の外部フレームワークを使用せず、Windows SDK から提供機能のみを使用して実現できます。</span><span class="sxs-lookup"><span data-stu-id="6b49a-146">This can be achieved using only the capabilities provided by the Windows SDK, and without using any external frameworks.</span></span> <span data-ttu-id="6b49a-147">具体的には、 [{X:bind} マークアップ拡張機能](https://docs.microsoft.com/windows/uwp/xaml-platform/x-bind-markup-extension)簡単かつ高パフォーマンスのよりも前の XAML プラットフォームは、前に必要な定型コードの多くが不要で、データ バインディングを使用します。</span><span class="sxs-lookup"><span data-stu-id="6b49a-147">In particular, the [{x:Bind} markup extension](https://docs.microsoft.com/windows/uwp/xaml-platform/x-bind-markup-extension) makes data binding easier and higher performing than in previous XAML platforms, eliminating the need for a lot of the boilerplate code required earlier.</span></span>

<span data-ttu-id="6b49a-148">ボックスの基本的な MVVM を使用して追加のガイダンスについては、チェック アウト、[顧客注文データベース サンプル](https://github.com/Microsoft/Windows-appsample-customers-orders-database)GitHub でします。</span><span class="sxs-lookup"><span data-stu-id="6b49a-148">For additional guidance on using basic, out-of-the-box MVVM, check out the [Customers Orders Database sample](https://github.com/Microsoft/Windows-appsample-customers-orders-database) on GitHub.</span></span> <span data-ttu-id="6b49a-149">その他の多く[UWP アプリのサンプル](https://github.com/Microsoft?q=windows-appsample
)基本的な MVVM アーキテクチャを使用しても、[トラフィック アプリのサンプル](https://github.com/Microsoft/Windows-appsample-trafficapp)にメモを記述する分離コードと MVVM のバージョンの両方が含まれています、 [MVVM の変換](https://github.com/Microsoft/Windows-appsample-trafficapp/blob/MVVM/MVVM.md).</span><span class="sxs-lookup"><span data-stu-id="6b49a-149">Many of the other [UWP app samples](https://github.com/Microsoft?q=windows-appsample
) also use a basic MVVM architecture, and the [Traffic App sample](https://github.com/Microsoft/Windows-appsample-trafficapp) includes both code-behind and MVVM versions, with notes describing the [MVVM conversion](https://github.com/Microsoft/Windows-appsample-trafficapp/blob/MVVM/MVVM.md).</span></span> 

## <a name="see-also"></a><span data-ttu-id="6b49a-150">関連項目</span><span class="sxs-lookup"><span data-stu-id="6b49a-150">See also</span></span>

### <a name="topics"></a><span data-ttu-id="6b49a-151">トピック</span><span class="sxs-lookup"><span data-stu-id="6b49a-151">Topics</span></span>

[<span data-ttu-id="6b49a-152">データ バインディングの詳細</span><span class="sxs-lookup"><span data-stu-id="6b49a-152">Data binding in depth</span></span>](https://docs.microsoft.com/windows/uwp/data-binding/data-binding-in-depth)  
[<span data-ttu-id="6b49a-153">{X:bind} マークアップ拡張機能</span><span class="sxs-lookup"><span data-stu-id="6b49a-153">{x:Bind} markup extension</span></span>](https://docs.microsoft.com/windows/uwp/xaml-platform/x-bind-markup-extension)  

### <a name="samples"></a><span data-ttu-id="6b49a-154">サンプル</span><span class="sxs-lookup"><span data-stu-id="6b49a-154">Samples</span></span>

[<span data-ttu-id="6b49a-155">顧客注文データベース サンプル</span><span class="sxs-lookup"><span data-stu-id="6b49a-155">Customers Orders Database sample</span></span>](https://github.com/Microsoft/Windows-appsample-customers-orders-database)  
[<span data-ttu-id="6b49a-156">Vanarsdel 社のインベントリのサンプル</span><span class="sxs-lookup"><span data-stu-id="6b49a-156">VanArsdel Inventory sample</span></span>](https://github.com/Microsoft/InventorySample)  
[<span data-ttu-id="6b49a-157">トラフィックのアプリのサンプル</span><span class="sxs-lookup"><span data-stu-id="6b49a-157">Traffic App sample</span></span>](https://github.com/Microsoft/Windows-appsample-trafficapp)  
