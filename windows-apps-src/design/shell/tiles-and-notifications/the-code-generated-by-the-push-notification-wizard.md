---
author: mijacobs
Description: By using a wizard in Visual Studio, you can generate push notifications from a mobile service that was created with Azure Mobile Services.
title: プッシュ通知ウィザードにより生成されるコード
ms.assetid: 340F55C1-0DDF-4233-A8E4-C15EF9030785
template: detail.hbs
ms.author: mijacobs
ms.date: 05/19/2017
ms.topic: article
keywords: Windows 10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 6b39211c4b21a68fc0e563f73805805dcf1f4641
ms.sourcegitcommit: cd00bb829306871e5103db481cf224ea7fb613f0
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/31/2018
ms.locfileid: "5871109"
---
# <a name="code-generated-by-the-push-notification-wizard"></a><span data-ttu-id="605d9-103">プッシュ通知ウィザードにより生成されるコード</span><span class="sxs-lookup"><span data-stu-id="605d9-103">Code generated by the push notification wizard</span></span>
 

<span data-ttu-id="605d9-104">Visual Studio でウィザードを使うことで、Azure のモバイル サービスで作成されたモバイル サービスからプッシュ通知を生成できます。</span><span class="sxs-lookup"><span data-stu-id="605d9-104">By using a wizard in Visual Studio, you can generate push notifications from a mobile service that was created with Azure Mobile Services.</span></span> <span data-ttu-id="605d9-105">Visual Studio ウィザードにより、この作業に役立つコードが生成されます。</span><span class="sxs-lookup"><span data-stu-id="605d9-105">The Visual Studio wizard generates code to help you get started.</span></span> <span data-ttu-id="605d9-106">このトピックでは、ウィザードによるプロジェクトの変更内容、生成されたコードによる実行内容、このコードを使う方法、プッシュ通知を最大限に活用するために次に行うことができる作業について説明します。</span><span class="sxs-lookup"><span data-stu-id="605d9-106">This topic explains how the wizard modifies your project, what the generated code does, how to use this code, and what you can do next to get the most out of push notifications.</span></span> <span data-ttu-id="605d9-107">「[Windows プッシュ通知サービス (WNS) の概要](windows-push-notification-services--wns--overview.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="605d9-107">See [Windows Push Notification Services (WNS) overview](windows-push-notification-services--wns--overview.md).</span></span>

## <a name="how-the-wizard-modifies-your-project"></a><span data-ttu-id="605d9-108">ウィザードによるプロジェクトの変更内容</span><span class="sxs-lookup"><span data-stu-id="605d9-108">How the wizard modifies your project</span></span>


<span data-ttu-id="605d9-109">プッシュ通知ウィザードは、次のようにプロジェクトを変更します。</span><span class="sxs-lookup"><span data-stu-id="605d9-109">The push notification wizard modifies your project in the following ways:</span></span>

-   <span data-ttu-id="605d9-110">モバイル サービスの管理されたクライアントへの参照を追加します (MobileServicesManagedClient.dll)。</span><span class="sxs-lookup"><span data-stu-id="605d9-110">Adds a reference to Mobile Services Managed Client (MobileServicesManagedClient.dll).</span></span> <span data-ttu-id="605d9-111">JavaScript プロジェクトには当てはまりません。</span><span class="sxs-lookup"><span data-stu-id="605d9-111">Not applicable to JavaScript projects.</span></span>
-   <span data-ttu-id="605d9-112">サービスの下にあるサブフォルダーにファイルを追加し、ファイルに push.register.cs、push.register.vb、push.register.cpp、または push.register.js という名前を付けます。</span><span class="sxs-lookup"><span data-stu-id="605d9-112">Adds a file in a subfolder under services, and names the file push.register.cs, push.register.vb, push.register.cpp, or push.register.js.</span></span>
-   <span data-ttu-id="605d9-113">モバイル サービスのデータベース サーバーでチャネル テーブルを作成します。</span><span class="sxs-lookup"><span data-stu-id="605d9-113">Creates a channels table on the database server for the mobile service.</span></span> <span data-ttu-id="605d9-114">テーブルには、アプリ インスタンスにプッシュ通知を送るために必要な情報が格納されます。</span><span class="sxs-lookup"><span data-stu-id="605d9-114">The table contains information that's required to send push notifications to app instances.</span></span>
-   <span data-ttu-id="605d9-115">4 つの機能 (削除、挿入、読み取り、更新) のスクリプトを作成します。</span><span class="sxs-lookup"><span data-stu-id="605d9-115">Creates scripts for four functions: delete, insert, read and update.</span></span>
-   <span data-ttu-id="605d9-116">カスタム API を含むスクリプト notifyallusers.js を作成します。この API は、すべてのクライアントにプッシュ通知を送ります。</span><span class="sxs-lookup"><span data-stu-id="605d9-116">Creates a script with a custom API, notifyallusers.js, which sends a push notification to all clients.</span></span>
-   <span data-ttu-id="605d9-117">App.xaml.cs、App.xaml.vb、または App.xaml.cpp ファイルに宣言を追加したり、JavaScript プロジェクトの新しいファイルである service.js に宣言を追加したりします。</span><span class="sxs-lookup"><span data-stu-id="605d9-117">Adds a declaration to your App.xaml.cs, App.xaml.vb, or App.xaml.cpp file, or adds a declaration to a new file, service.js, for JavaScript projects.</span></span> <span data-ttu-id="605d9-118">宣言では、モバイル サービスへの接続に必要な情報を含む MobileServiceClient オブジェクトが宣言されます。</span><span class="sxs-lookup"><span data-stu-id="605d9-118">The declaration declares a MobileServiceClient object, which contains the information that's required to connect to the mobile service.</span></span> <span data-ttu-id="605d9-119">App.*MyServiceName*Client という名前を使って、アプリ内のどのページからでも *MyServiceName*Client という名前のこの MobileServiceClient オブジェクトにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="605d9-119">You can access this MobileServiceClient object, which is named *MyServiceName*Client, from any page in your app by using the name App.*MyServiceName*Client.</span></span>

<span data-ttu-id="605d9-120">services.js ファイルには、次のコードが含まれています。</span><span class="sxs-lookup"><span data-stu-id="605d9-120">The services.js file contains the following code:</span></span>

```js
var <mobile-service-name>Client = new Microsoft.WindowsAzure.MobileServices.MobileServiceClient(
                "https://<mobile-service-name>.azure-mobile.net/",
                "<your client secret>");
```

## <a name="registration-for-push-notifications"></a><span data-ttu-id="605d9-121">プッシュ通知への登録</span><span class="sxs-lookup"><span data-stu-id="605d9-121">Registration for push notifications</span></span>


<span data-ttu-id="605d9-122">push.register.\* 内の UploadChannel メソッドは、プッシュ通知を受信するデバイスを登録します。</span><span class="sxs-lookup"><span data-stu-id="605d9-122">In push.register.\*, the UploadChannel method registers the device to receive push notifications.</span></span> <span data-ttu-id="605d9-123">ストアは、アプリのインストールされたインスタンスを追跡し、プッシュ通知チャネルを提供します。</span><span class="sxs-lookup"><span data-stu-id="605d9-123">The Store tracks installed instances of your app and provides the push notification channel.</span></span> <span data-ttu-id="605d9-124">「[**PushNotificationChannelManager**](https://docs.microsoft.com/uwp/api/Windows.Networking.PushNotifications.PushNotificationChannelManager)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="605d9-124">See [**PushNotificationChannelManager**](https://docs.microsoft.com/uwp/api/Windows.Networking.PushNotifications.PushNotificationChannelManager).</span></span>

<span data-ttu-id="605d9-125">クライアント コードは、JavaScript のバックエンドと .NET のバックエンドの両方に似ています。</span><span class="sxs-lookup"><span data-stu-id="605d9-125">The client code is similar for both the JavaScript backend and the .NET backend.</span></span> <span data-ttu-id="605d9-126">既定では、JavaScript バックエンド サービスのプッシュ通知を追加すると、notifyAllUsers カスタム API のサンプル呼び出しが UploadChannel メソッドに挿入されます。</span><span class="sxs-lookup"><span data-stu-id="605d9-126">By default, when you add push notifications for a JavaScript backend service, a sample call to notifyAllUsers custom API is inserted into the UploadChannel method.</span></span>

```csharp
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Http;
using System.Text;
using System.Threading.Tasks;
using Microsoft.WindowsAzure.MobileServices;
using Newtonsoft.Json.Linq;

namespace App2
{
    internal class mymobileservice1234Push
    {
        public async static void UploadChannel()
        {
            var channel = await Windows.Networking.PushNotifications.PushNotificationChannelManager.CreatePushNotificationChannelForApplicationAsync();

            try
            {
                await App.mymobileservice1234Client.GetPush().RegisterNativeAsync(channel.Uri);
                await App.mymobileservice1234Client.InvokeApiAsync("notifyAllUsers");
            }
            catch (Exception exception)
            {
                HandleRegisterException(exception);
            }
        }

        private static void HandleRegisterException(Exception exception)
        {
            
        }
    }
}
```

```vb
Imports Microsoft.WindowsAzure.MobileServices
Imports Newtonsoft.Json.Linq

Friend Class mymobileservice1234Push
    Public Shared Async Sub UploadChannel()
        Dim channel = Await Windows.Networking.PushNotifications.PushNotificationChannelManager.CreatePushNotificationChannelForApplicationAsync()

        Try
            Await App.mymobileservice1234Client.GetPush().RegisterNativeAsync(channel.Uri)
            Await App.mymobileservice1234Client.GetPush().RegisterNativeAsync(channel.Uri, New String() {"tag1", "tag2"})
            Await App.mymobileservice1234Client.InvokeApiAsync("notifyAllUsers")
        Catch exception As Exception
            HandleRegisterException(exception)
        End Try
    End Sub

    Private Shared Sub HandleRegisterException(exception As Exception)

    End Sub
End Class
```

```c++
#include "pch.h"
#include "services\mobile services\mymobileservice1234\mymobileservice1234Push.h"

using namespace AzureMobileHelper;

using namespace web;
using namespace concurrency;

using namespace Windows::Networking::PushNotifications;

void mymobileservice1234Push::UploadChannel()
{
    create_task(PushNotificationChannelManager::CreatePushNotificationChannelForApplicationAsync()).
    then([] (PushNotificationChannel^ newChannel) 
    {
        return mymobileservice1234MobileService::GetClient().get_push().register_native(newChannel->Uri->Data());
    }).then([]()
    {
        return mymobileservice1234MobileService::GetClient().invoke_api(L"notifyAllUsers");
    }).then([](task<json::value> result)
    {
        try
        {
            result.wait();
        }
        catch(...)
        {
            HandleExceptionsComingFromTheServer();
        }
    });
}

void mymobileservice1234Push::HandleExceptionsComingFromTheServer()
{
}
```

```js
(function () {
    "use strict";

    var app = WinJS.Application;
    var activation = Windows.ApplicationModel.Activation;

    app.addEventListener("activated", function (args) {
        if (args.detail.kind == activation.ActivationKind.launch) {
            Windows.Networking.PushNotifications.PushNotificationChannelManager.createPushNotificationChannelForApplicationAsync()
                .then(function (channel) {
                    mymobileserviceclient1234Client.push.registerNative(channel.Uri, new Array("tag1", "tag2"))
                    return mymobileservice1234Client.push.registerNative(channel.uri);
                })
                .done(function (registration) {
                    return mymobileservice1234Client.invokeApi("notifyAllUsers");
                }, function (error) {
                    // Error

                });
        }
    });
})();
```

<span data-ttu-id="605d9-127">プッシュ通知のタグがクライアントのサブセットへの通知を制限する方法を提供します。</span><span class="sxs-lookup"><span data-stu-id="605d9-127">Push notification tags provide a way to restrict notifications to a subset of clients.</span></span> <span data-ttu-id="605d9-128">registerNative メソッド (または RegisterNativeAsync) メソッドを使って、タグを指定せずにすべてのプッシュ通知に登録するか、2 番目の引数としてタグの配列を指定することによって、タグを指定して登録できます。</span><span class="sxs-lookup"><span data-stu-id="605d9-128">You can use the for the registerNative method (or RegisterNativeAsync) method to either register for all push notifications without specifying tags, or you can register with tags by providing the second argument, an array of tags.</span></span> <span data-ttu-id="605d9-129">1 つまたは複数のタグを登録すると、タグに一致する通知のみを受け取ります。</span><span class="sxs-lookup"><span data-stu-id="605d9-129">If you register with one or more tags, you only receive notifications that match those tags.</span></span>

## <a name="server-side-scripts-javascript-backend-only"></a><span data-ttu-id="605d9-130">サーバー側のスクリプト (JavaScript バックエンドのみ)</span><span class="sxs-lookup"><span data-stu-id="605d9-130">Server-side scripts (JavaScript backend only)</span></span>


<span data-ttu-id="605d9-131">JavaScript バックエンドを使うモバイル サービスの場合、サーバー側のスクリプトは、削除、挿入、読み取り、または更新操作が行われたときに実行されます。</span><span class="sxs-lookup"><span data-stu-id="605d9-131">For mobile services that use the JavaScript backend, the server-side scripts run when delete, insert, read, or update operations occur.</span></span> <span data-ttu-id="605d9-132">スクリプトにはこれらの操作が実装されていませんが、クライアントから Windows モバイルの REST API への呼び出しによってこれらのイベントがトリガーされると実行されます。</span><span class="sxs-lookup"><span data-stu-id="605d9-132">The scripts don't implement these operations, but they run when a call from the client to the Windows Mobile REST API triggers these events.</span></span> <span data-ttu-id="605d9-133">次に、スクリプトは request.execute または request.respond を呼び出して呼び出し元コンテキストに応答を発行することで、コントロールを操作自体に渡します。</span><span class="sxs-lookup"><span data-stu-id="605d9-133">The scripts then pass control onto the operations themselves by calling request.execute or request.respond to issue a response to the calling context.</span></span> <span data-ttu-id="605d9-134">「[Azure のモバイル サービスの REST API リファレンス](http://go.microsoft.com/fwlink/p/?linkid=511139)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="605d9-134">See [Azure Mobile Services REST API Reference](http://go.microsoft.com/fwlink/p/?linkid=511139).</span></span>

<span data-ttu-id="605d9-135">サーバー側のスクリプトでは、さまざまな関数を使うことができます。</span><span class="sxs-lookup"><span data-stu-id="605d9-135">A variety of functions are available in the server-side script.</span></span> <span data-ttu-id="605d9-136">「[Azure のモバイル サービスでのテーブル操作の登録](http://go.microsoft.com/fwlink/p/?linkid=511140)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="605d9-136">See [Register table operations in Azure Mobile Services](http://go.microsoft.com/fwlink/p/?linkid=511140).</span></span> <span data-ttu-id="605d9-137">使用できる関数のリファレンスについては、「[Mobile Services サーバーのスクリプトのリファレンス](http://go.microsoft.com/fwlink/p/?linkid=257676)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="605d9-137">For a reference to all available functions, see [Mobile Services server script reference](http://go.microsoft.com/fwlink/p/?linkid=257676).</span></span>

<span data-ttu-id="605d9-138">また、Notifyallusers.js に次のカスタム API コードが作成されます。</span><span class="sxs-lookup"><span data-stu-id="605d9-138">The following custom API code in Notifyallusers.js is also created:</span></span>

```js
exports.post = function(request, response) {
    response.send(statusCodes.OK,{ message : 'Hello World!' })
    
    // The following call is for illustration purpose only
    // The call and function body should be moved to a script in your app
    // where you want to send a notification
    sendNotifications(request);
};

// The following code should be moved to appropriate script in your app where notification is sent
function sendNotifications(request) {
    var payload = '<?xml version="1.0" encoding="utf-8"?><toast><visual><binding template="ToastText01">' +
        '<text id="1">Sample Toast</text></binding></visual></toast>';
    var push = request.service.push; 
    push.wns.send(null,
        payload,
        'wns/toast', {
            success: function (pushResponse) {
                console.log("Sent push:", pushResponse);
            }
        });
}
```

<span data-ttu-id="605d9-139">sendNotifications 関数は、1 つの通知をトースト通知として送信します。</span><span class="sxs-lookup"><span data-stu-id="605d9-139">The sendNotifications function sends a single notification as a toast notification.</span></span> <span data-ttu-id="605d9-140">他の種類のプッシュ通知を使うこともできます。</span><span class="sxs-lookup"><span data-stu-id="605d9-140">You can also use other types of push notifications.</span></span>

<span data-ttu-id="605d9-141">**ヒント:** スクリプトの編集中にヘルプを取得する方法について詳しくは、[サーバー側の JavaScript の IntelliSense を有効にする](http://go.microsoft.com/fwlink/p/?LinkId=309275)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="605d9-141">**Tip**For information about how to get help while editing scripts, see [Enabling IntelliSense for server-side JavaScript](http://go.microsoft.com/fwlink/p/?LinkId=309275).</span></span>

 

## <a name="push-notification-types"></a><span data-ttu-id="605d9-142">プッシュ通知の種類</span><span class="sxs-lookup"><span data-stu-id="605d9-142">Push notification types</span></span>


<span data-ttu-id="605d9-143">Windows では、プッシュ通知ではない通知がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="605d9-143">Windows supports notifications that aren't push notifications.</span></span> <span data-ttu-id="605d9-144">通知に関する一般情報については、「[通知配信方法の選択](choosing-a-notification-delivery-method.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="605d9-144">For general information about notifications, see [Choosing a notification delivery method](choosing-a-notification-delivery-method.md).</span></span>

<span data-ttu-id="605d9-145">トースト通知は使いやすく、自動的に生成されるチャネル テーブルの Insert.js コードで例を確認できます。</span><span class="sxs-lookup"><span data-stu-id="605d9-145">Toast notifications are easy to use, and you can review an example in the Insert.js code on the channel's table that's generated for you.</span></span> <span data-ttu-id="605d9-146">タイル通知かバッジ通知を使う予定の場合、タイルとバッジの XML テンプレートを作成し、テンプレートでパッケージ化された情報のエンコードを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="605d9-146">If you plan to use tile or badge notifications, you must create an XML template for the tile and badge, and you must specify the encoding of packaged information in the template.</span></span> <span data-ttu-id="605d9-147">「[タイル、バッジ、トースト通知の操作](https://msdn.microsoft.com/library/windows/apps/xaml/hh868259)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="605d9-147">See [Working with tiles, badges, and toast notifications](https://msdn.microsoft.com/library/windows/apps/xaml/hh868259).</span></span>

<span data-ttu-id="605d9-148">Windows は、プッシュ通知に応答するため、アプリが実行されていないときにこれらの通知のほとんどを処理できます。</span><span class="sxs-lookup"><span data-stu-id="605d9-148">Because Windows responds to push notifications, it can handle most of these notifications when the app isn't running.</span></span> <span data-ttu-id="605d9-149">たとえば、プッシュ通知は、ローカル メール アプリが実行されていないときでも新しいメール メッセージを受信したことをユーザーに知らせることができます。</span><span class="sxs-lookup"><span data-stu-id="605d9-149">For example, a push notification could let a user know when a new mail message is available even when the local mail app isn't running.</span></span> <span data-ttu-id="605d9-150">Windows は、テキスト メッセージの先頭行のようなメッセージを表示することで、トースト通知を処理します。</span><span class="sxs-lookup"><span data-stu-id="605d9-150">Windows handles a toast notification by displaying a message, such as the first line of a text message.</span></span> <span data-ttu-id="605d9-151">Windows は、ライブ タイルを更新して新しいメール メッセージの数を反映することで、タイル通知またはバッジ通知を処理します。</span><span class="sxs-lookup"><span data-stu-id="605d9-151">Windows handles a tile or badge notification by updating an app's live tile to reflect the number of new mail messages.</span></span> <span data-ttu-id="605d9-152">このように、新しい情報をチェックするように促すプロンプトをアプリのユーザーに表示できます。</span><span class="sxs-lookup"><span data-stu-id="605d9-152">In this way, you can prompt users of your app to check it for new information.</span></span> <span data-ttu-id="605d9-153">アプリは、実行中に直接通知を受け取ることができるため、直接通知を使ってアプリにデータを送ることができます。</span><span class="sxs-lookup"><span data-stu-id="605d9-153">Your app can receive raw notifications when it's running, and you can use them to send data to your app.</span></span> <span data-ttu-id="605d9-154">アプリが実行されていない場合、プッシュ通知を監視するバックグラウンド タスクを設定できます。</span><span class="sxs-lookup"><span data-stu-id="605d9-154">If your app isn't running, you can set up a background task to monitor push notifications.</span></span>

<span data-ttu-id="605d9-155">プッシュ通知は、ユーザーのリソースを消費し、使いすぎると煩わしくなる場合があるため、ユニバーサル Windows プラットフォーム (UWP) アプリに従って使ってください。</span><span class="sxs-lookup"><span data-stu-id="605d9-155">You should use push notifications according to the guidelines for Universal Windows Platform (UWP) apps, because those notifications use up a user's resources and can be distracting if overused.</span></span> <span data-ttu-id="605d9-156">「[プッシュ通知のガイドラインとチェック リスト](https://msdn.microsoft.com/library/windows/apps/hh761462)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="605d9-156">See [Guidelines and checklist for push notifications](https://msdn.microsoft.com/library/windows/apps/hh761462).</span></span>

<span data-ttu-id="605d9-157">プッシュ通知でライブ タイルを更新する場合は、「[タイルとバッジのガイドラインとチェック リスト](https://msdn.microsoft.com/library/windows/apps/hh465403)」のガイドラインにも従ってください。</span><span class="sxs-lookup"><span data-stu-id="605d9-157">If you're updating live tiles with push notifications, you should also follow the guidelines in [Guidelines and checklist for tiles and badges](https://msdn.microsoft.com/library/windows/apps/hh465403).</span></span>

## <a name="next-steps"></a><span data-ttu-id="605d9-158">次のステップ</span><span class="sxs-lookup"><span data-stu-id="605d9-158">Next steps</span></span>


### <a name="using-the-windows-push-notification-services-wns"></a><span data-ttu-id="605d9-159">Windows プッシュ通知サービス (WNS) の使用</span><span class="sxs-lookup"><span data-stu-id="605d9-159">Using the Windows Push Notification Services (WNS)</span></span>

<span data-ttu-id="605d9-160">Window Azure のモバイル サービスの柔軟性が不十分な場合、C# または Visual Basic でサーバー コードを記述する場合、または既にクラウド サービスを持っていてそこからプッシュ通知を送る場合は、Windows プッシュ通知サービス (WNS) を直接呼び出すこともできます。</span><span class="sxs-lookup"><span data-stu-id="605d9-160">You can call Windows Push Notification Services (WNS) directly if Mobile Services doesn't provide enough flexibility, if you want to write your server code in C# or Visual Basic, or if you already have a cloud service and you want to send push notifications from it.</span></span> <span data-ttu-id="605d9-161">WNS を直接呼び出すことで、データベースや他の Web サービスからのデータを監視するワーカーの役割など、独自のクラウド サービスからプッシュ通知を送ることができます。</span><span class="sxs-lookup"><span data-stu-id="605d9-161">By calling WNS directly, you can send push notifications from your own cloud service, such as a worker role that monitors data from a database or another web service.</span></span> <span data-ttu-id="605d9-162">クラウド サービスがプッシュ通知をアプリに送るには、WNS に対して認証する必要があります。</span><span class="sxs-lookup"><span data-stu-id="605d9-162">Your cloud service must authenticate with WNS to send push notifications to your apps.</span></span> <span data-ttu-id="605d9-163">[Windows プッシュ通知サービスに対して認証する方法 (JavaScript)](https://msdn.microsoft.com/library/windows/apps/hh465407) または [(C#/C++/VB)](https://msdn.microsoft.com/library/windows/apps/xaml/hh868206) に関するページをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="605d9-163">See [How to authenticate with the Windows Push Notification Service (JavaScript)](https://msdn.microsoft.com/library/windows/apps/hh465407) or [(C#/C++/VB)](https://msdn.microsoft.com/library/windows/apps/xaml/hh868206).</span></span>

<span data-ttu-id="605d9-164">モバイル サービスでスケジュール済みタスクを実行して、プッシュ通知を送ることもできます。</span><span class="sxs-lookup"><span data-stu-id="605d9-164">You can also send push notifications by running a scheduled task in your mobile service.</span></span> <span data-ttu-id="605d9-165">「[Mobile Services での繰り返し発生するジョブのスケジュール](http://go.microsoft.com/fwlink/p/?linkid=301694)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="605d9-165">See [Schedule recurring jobs in Mobile Services](http://go.microsoft.com/fwlink/p/?linkid=301694).</span></span>

<span data-ttu-id="605d9-166">**警告**プッシュ通知ウィザードは 1 回実行して、別のモバイル サービスの登録コードを追加するもう一度、[ウィザードを実行しないでください。</span><span class="sxs-lookup"><span data-stu-id="605d9-166">**Warning**Once you've run the push notification wizard once, don't run the wizard a second time to add registration code for another mobile service.</span></span> <span data-ttu-id="605d9-167">このウィザードをプロジェクトごとに複数回実行すると、生成されるコードで [**CreatePushNotificationChannelForApplicationAsync**](https://docs.microsoft.com/uwp/api/Windows.Networking.PushNotifications.PushNotificationChannelManager.CreatePushNotificationChannelForApplicationAsync) メソッドの呼び出しが重複し、ランタイムの例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="605d9-167">Running the wizard more than once per project generates code that results in overlapping calls to the [**CreatePushNotificationChannelForApplicationAsync**](https://docs.microsoft.com/uwp/api/Windows.Networking.PushNotifications.PushNotificationChannelManager.CreatePushNotificationChannelForApplicationAsync) method, which leads to a runtime exception.</span></span> <span data-ttu-id="605d9-168">複数のモバイル サービスのプッシュ通知を登録するには、ウィザードを 1 回だけ実行し、登録コードを上書きして、**CreatePushNotificationChannelForApplicationAsync** の呼び出しが同時に実行されないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="605d9-168">If you want to register for push notifications for more than one mobile service, run the wizard once and then rewrite the registration code to ensure that calls to **CreatePushNotificationChannelForApplicationAsync** do not run at the same time.</span></span> <span data-ttu-id="605d9-169">そのために、ウィザードによって push.register.\* に生成されたコード (**CreatePushNotificationChannelForApplicationAsync** の呼び出しを含む) を OnLaunched イベント以外の場所に移すという方法もありますが、細かい処理はアプリのアーキテクチャによって異なります。</span><span class="sxs-lookup"><span data-stu-id="605d9-169">For example, you can accomplish this by moving the wizard-generated code in push.register.\* (including the call to **CreatePushNotificationChannelForApplicationAsync**) outside of the OnLaunched event, but the specifics of this will depend on your app's architecture.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="605d9-170">関連トピック</span><span class="sxs-lookup"><span data-stu-id="605d9-170">Related topics</span></span>


* [<span data-ttu-id="605d9-171">Windows プッシュ通知サービス (WNS) の概要</span><span class="sxs-lookup"><span data-stu-id="605d9-171">Windows Push Notification Services (WNS) overview</span></span>](windows-push-notification-services--wns--overview.md)
* [<span data-ttu-id="605d9-172">直接通知の概要</span><span class="sxs-lookup"><span data-stu-id="605d9-172">Raw notification overview</span></span>](raw-notification-overview.md)
* [<span data-ttu-id="605d9-173">Window Azure のモバイル サービスへの接続 (JavaScript)</span><span class="sxs-lookup"><span data-stu-id="605d9-173">Connecting to Windows Azure Mobile Services (JavaScript)</span></span>](https://msdn.microsoft.com/library/windows/apps/dn263160)
* [<span data-ttu-id="605d9-174">Window Azure のモバイル サービスへの接続 (C#/C++/VB)</span><span class="sxs-lookup"><span data-stu-id="605d9-174">Connecting to Windows Azure Mobile Services (C#/C++/VB)</span></span>](https://msdn.microsoft.com/library/windows/apps/xaml/dn263175)
* [<span data-ttu-id="605d9-175">クイック スタート: モバイル サービスでのプッシュ通知の追加 (JavaScript)</span><span class="sxs-lookup"><span data-stu-id="605d9-175">Quickstart: Adding push notifications for a mobile service (JavaScript)</span></span>](https://msdn.microsoft.com/library/windows/apps/dn263163)
 

 




