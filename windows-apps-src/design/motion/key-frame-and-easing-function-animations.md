---
title: キー フレーム アニメーションとイージング関数のアニメーション
ms.assetid: D8AF24CD-F4C2-4562-AFD7-25010955D677
description: 線形キー フレーム アニメーション、KeySpline 値を設定したキー フレーム アニメーション、イージング関数は、ほとんど同じシナリオを実現できる 3 種類の手法です。
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 145912f08075678c98dfb34ac491e123577c69e3
ms.sourcegitcommit: 89ff8ff88ef58f4fe6d3b1368fe94f62e59118ad
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/29/2018
ms.locfileid: "8197816"
---
# <a name="key-frame-animations-and-easing-function-animations"></a><span data-ttu-id="33e29-104">キー フレーム アニメーションとイージング関数のアニメーション</span><span class="sxs-lookup"><span data-stu-id="33e29-104">Key-frame animations and easing function animations</span></span>



<span data-ttu-id="33e29-105">線形キー フレーム アニメーション、**KeySpline** 値を設定したキー フレーム アニメーション、イージング関数は、ほとんど同じシナリオを実現できる 3 種類の手法です。そのシナリオとは、開始状態から終了状態までの間に非線形のアニメーション動作を使う、やや複雑なストーリーボードに設定されたアニメーションの作成です。</span><span class="sxs-lookup"><span data-stu-id="33e29-105">Linear key-frame animations, key-frame animations with a **KeySpline** value, or easing functions are three different techniques for approximately the same scenario: creating a storyboarded animation that's a bit more complex, and that uses a nonlinear animation behavior from a starting state to an end state.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="33e29-106">前提条件</span><span class="sxs-lookup"><span data-stu-id="33e29-106">Prerequisites</span></span>

<span data-ttu-id="33e29-107">トピック「[ストーリーボードに設定されたアニメーション](storyboarded-animations.md)」を読んでいること。</span><span class="sxs-lookup"><span data-stu-id="33e29-107">Make sure you've read the [Storyboarded animations](storyboarded-animations.md) topic.</span></span> <span data-ttu-id="33e29-108">このトピックは、「[ストーリーボードに設定されたアニメーション](storyboarded-animations.md)」で説明したアニメーションの概念を基に作成されています。その内容はここでは触れません。</span><span class="sxs-lookup"><span data-stu-id="33e29-108">This topic builds on the animation concepts that were explained in [Storyboarded animations](storyboarded-animations.md) and won't go over them again.</span></span> <span data-ttu-id="33e29-109">具体的には、「[ストーリーボードに設定されたアニメーション](storyboarded-animations.md)」では、アニメーションのターゲットを設定する方法、リソースとしてのストーリーボード、[**Duration**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.duration) や [**FillBehavior**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.fillbehavior) などの [**Timeline**](https://msdn.microsoft.com/library/windows/apps/BR210517) プロパティ値について紹介しています。</span><span class="sxs-lookup"><span data-stu-id="33e29-109">For example, [Storyboarded animations](storyboarded-animations.md) describes how to target animations, storyboards as resources, the [**Timeline**](https://msdn.microsoft.com/library/windows/apps/BR210517) property values such as [**Duration**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.duration), [**FillBehavior**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.fillbehavior), and so on.</span></span>

## <a name="animating-using-key-frame-animations"></a><span data-ttu-id="33e29-110">キー フレーム アニメーションを使ったアニメーション化</span><span class="sxs-lookup"><span data-stu-id="33e29-110">Animating using key-frame animations</span></span>

<span data-ttu-id="33e29-111">キー フレーム アニメーションでは、アニメーション タイムラインに沿ってポイントに到達する複数のターゲット値を使うことができます。</span><span class="sxs-lookup"><span data-stu-id="33e29-111">Key-frame animations permit more than one target value that is reached at a point along the animation timeline.</span></span> <span data-ttu-id="33e29-112">つまり、キー フレームごとに異なる中間値も指定でき、到達した最後のキー フレームが最終的なアニメーション値になります。</span><span class="sxs-lookup"><span data-stu-id="33e29-112">In other words, each key frame can specify a different intermediate value, and the last key frame reached is the final animation value.</span></span> <span data-ttu-id="33e29-113">複数の値を指定してアニメーション化を行うことで、より複雑なアニメーションを実現できます。</span><span class="sxs-lookup"><span data-stu-id="33e29-113">By specifying multiple values to animate, you can make more complex animations.</span></span> <span data-ttu-id="33e29-114">キー フレーム アニメーションでは、アニメーションの種類ごとに異なる **KeyFrame** サブクラスとして実装される、異なる補間ロジックを使うこともできます。</span><span class="sxs-lookup"><span data-stu-id="33e29-114">Key-frame animations also enable different interpolation logic, which are each implemented as a different **KeyFrame** subclass per animation type.</span></span> <span data-ttu-id="33e29-115">具体的には、各種類のキー フレーム アニメーションには、キー フレームを指定するための **KeyFrame** クラスのバリエーションが 4 つ (**Discrete**、**Linear**、**Spline**、**Easing**) あります。</span><span class="sxs-lookup"><span data-stu-id="33e29-115">Specifically, each key-frame animation type has a **Discrete**, **Linear**, **Spline** and **Easing** variation of its **KeyFrame** class for specifying its key frames.</span></span> <span data-ttu-id="33e29-116">たとえば、[**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx) をターゲットとし、キー フレームを使うアニメーションを指定するには、[**DiscreteDoubleKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR243130)、[**LinearDoubleKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR210316)、[**SplineDoubleKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR210446)、[**EasingDoubleKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR210269) でキー フレームを宣言できます。</span><span class="sxs-lookup"><span data-stu-id="33e29-116">For example, to specify an animation that targets a [**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx) and uses key frames, you could declare key frames with [**DiscreteDoubleKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR243130), [**LinearDoubleKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR210316), [**SplineDoubleKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR210446), and [**EasingDoubleKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR210269).</span></span> <span data-ttu-id="33e29-117">単一の **KeyFrames** コレクションに含まれるこれらすべての種類を使って、新しいキー フレームに到達するたびに補間を変更できます。</span><span class="sxs-lookup"><span data-stu-id="33e29-117">You can use any and all of these types within a single **KeyFrames** collection, to change the interpolation each time a new key frame is reached.</span></span>

<span data-ttu-id="33e29-118">補間の動作のために、各キー フレームはその **KeyTime** の時間に達するまで補間を制御します。</span><span class="sxs-lookup"><span data-stu-id="33e29-118">For interpolation behavior, each key frame controls the interpolation until its **KeyTime** time is reached.</span></span> <span data-ttu-id="33e29-119">その時点で、その **Value** にも達します。</span><span class="sxs-lookup"><span data-stu-id="33e29-119">Its **Value** is reached at that time also.</span></span> <span data-ttu-id="33e29-120">それ以上のキー フレームがある場合は、値はシーケンス内の次のキー フレームの開始値になります。</span><span class="sxs-lookup"><span data-stu-id="33e29-120">If there are more key frames beyond, the value then becomes the starting value for the next key frame in a sequence.</span></span>

<span data-ttu-id="33e29-121">アニメーションの開始時に、**KeyTime** が "0:0:0" のキー フレームがない場合、開始値はプロパティのアニメーション化されていない値になります。</span><span class="sxs-lookup"><span data-stu-id="33e29-121">At the start of the animation, if no key frame with **KeyTime** of "0:0:0" exists, the starting value is whatever the non-animated value of the property is.</span></span> <span data-ttu-id="33e29-122">これは、**From** がない場合の **From**/**To**/**By** アニメーションの動作方法と似ています。</span><span class="sxs-lookup"><span data-stu-id="33e29-122">This is similar to how a **From**/**To**/**By** animation acts if there is no **From**.</span></span>

<span data-ttu-id="33e29-123">キー フレーム アニメーションの継続時間は、いずれかのキー フレームに設定されている最も大きい **KeyTime** 値と暗黙的に等しくなります。</span><span class="sxs-lookup"><span data-stu-id="33e29-123">The duration of a key-frame animation is implicitly the duration equal to the highest **KeyTime** value set in any of its key frames.</span></span> <span data-ttu-id="33e29-124">必要に応じて [**Duration**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.duration) を明示的に設定することもできますが、独自のキー フレームの **KeyTime** よりも短くならないように注意してください。アニメーションが途中で途切れることになります。</span><span class="sxs-lookup"><span data-stu-id="33e29-124">You can set an explicit [**Duration**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.duration) if you want, but be careful it's not shorter than a **KeyTime** in your own key frames or you'll cut off part of the animation.</span></span>

<span data-ttu-id="33e29-125">[**Duration**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.duration) 以外にも、**From**/**To**/**By** アニメーションの場合と同様に、[**Timeline**](https://msdn.microsoft.com/library/windows/apps/BR210517) ベースのすべてのプロパティをキー フレーム アニメーションに設定できます。キー フレーム アニメーション クラスも **Timeline** から派生しているためです。</span><span class="sxs-lookup"><span data-stu-id="33e29-125">In addition to [**Duration**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.duration), you can set all the [**Timeline**](https://msdn.microsoft.com/library/windows/apps/BR210517) based properties on a key-frame animation, like you can with a **From**/**To**/**By** animation, because the key-frame animation classes also derive from **Timeline**.</span></span> <span data-ttu-id="33e29-126">それらを次に示します。</span><span class="sxs-lookup"><span data-stu-id="33e29-126">These are:</span></span>

-   <span data-ttu-id="33e29-127">[**AutoReverse**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.autoreverse): 最後のキー フレームに達すると、フレームは最後から逆に繰り返されます。</span><span class="sxs-lookup"><span data-stu-id="33e29-127">[**AutoReverse**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.autoreverse): once the last key frame is reached, the frames are repeated in reverse order from the end.</span></span> <span data-ttu-id="33e29-128">アニメーションの明確な継続時間が 2 倍になります。</span><span class="sxs-lookup"><span data-stu-id="33e29-128">This doubles the apparent duration of the animation.</span></span>
-   <span data-ttu-id="33e29-129">[**BeginTime**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.begintime): アニメーションの開始を遅らせます。</span><span class="sxs-lookup"><span data-stu-id="33e29-129">[**BeginTime**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.begintime): delays the start of the animation.</span></span> <span data-ttu-id="33e29-130">**BeginTime** に達するまで、フレーム内にある **KeyTime** 値のタイムラインはカウントを開始しないため、フレームがカットされる心配はありません。</span><span class="sxs-lookup"><span data-stu-id="33e29-130">The timeline for the **KeyTime** values in the frames doesn't start counting until **BeginTime** is reached, so there's no risk of cutting off frames</span></span>
-   <span data-ttu-id="33e29-131">[**FillBehavior**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.fillbehavior): 最後のキー フレームに達したときの処理を制御します。</span><span class="sxs-lookup"><span data-stu-id="33e29-131">[**FillBehavior**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.fillbehavior): controls what happens when the last key frame is reached.</span></span> <span data-ttu-id="33e29-132">**FillBehavior** はどの中間キー フレームにも影響しません。</span><span class="sxs-lookup"><span data-stu-id="33e29-132">**FillBehavior** has no effect on any intermediate key frames.</span></span>
-   <span data-ttu-id="33e29-133">[**RepeatBehavior**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.repeatbehaviorproperty):</span><span class="sxs-lookup"><span data-stu-id="33e29-133">[**RepeatBehavior**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.repeatbehaviorproperty):</span></span>
    -   <span data-ttu-id="33e29-134">**Forever** に設定した場合、キー フレームとそのタイムラインが無限に繰り返されます。</span><span class="sxs-lookup"><span data-stu-id="33e29-134">If set to **Forever**, then the key frames and their timeline repeat infinitely.</span></span>
    -   <span data-ttu-id="33e29-135">反復回数に設定した場合、タイムラインはその回数だけ繰り返されます。</span><span class="sxs-lookup"><span data-stu-id="33e29-135">If set to an iteration count, the timeline repeats that many times.</span></span>
    -   <span data-ttu-id="33e29-136">[**Duration**](https://msdn.microsoft.com/library/windows/apps/BR242377) に設定した場合、その時間に達するまでタイムラインが繰り返されます。</span><span class="sxs-lookup"><span data-stu-id="33e29-136">If set to a [**Duration**](https://msdn.microsoft.com/library/windows/apps/BR242377), the timeline repeats until that time is reached.</span></span> <span data-ttu-id="33e29-137">このとき、キー フレーム シーケンスの途中でアニメーションが途切れる可能性があります (タイムラインの暗黙的な継続時間の整数ファクターではない場合)。</span><span class="sxs-lookup"><span data-stu-id="33e29-137">This might truncate the animation part way through the key frame sequence, if it's not an integer factor of the timeline's implicit duration.</span></span>
-   <span data-ttu-id="33e29-138">[**SpeedRatio**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.speedratioproperty) (通常は使いません)</span><span class="sxs-lookup"><span data-stu-id="33e29-138">[**SpeedRatio**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.speedratioproperty) (not commonly used)</span></span>

### <a name="linear-key-frames"></a><span data-ttu-id="33e29-139">線形キー フレーム</span><span class="sxs-lookup"><span data-stu-id="33e29-139">Linear key frames</span></span>

<span data-ttu-id="33e29-140">線形キー フレームの場合は、フレームの **KeyTime** に達するまで、値の単純な線形補間が行われます。</span><span class="sxs-lookup"><span data-stu-id="33e29-140">Linear key frames result in a simple linear interpolation of the value until the frame's **KeyTime** is reached.</span></span> <span data-ttu-id="33e29-141">この補間の動作は、トピック「[ストーリーボードに設定されたアニメーション](storyboarded-animations.md)」で説明されている単純な **From**/**To**/**By** アニメーションに非常に類似しています。</span><span class="sxs-lookup"><span data-stu-id="33e29-141">This interpolation behavior is the most similar to the simpler **From**/**To**/**By** animations described in the [Storyboarded animations](storyboarded-animations.md) topic.</span></span>

<span data-ttu-id="33e29-142">キー フレーム アニメーションで線形キー フレームを使って四角形の描画の高さをスケーリングする方法を以下に示します。</span><span class="sxs-lookup"><span data-stu-id="33e29-142">Here's how to use a key-frame animation to scale the render height of a rectangle, using linear key frames.</span></span> <span data-ttu-id="33e29-143">この例で実行するアニメーションでは、四角形の高さが最初の 4 秒間は線形にやや増加し、その後、四角形が当初の高さの 2 倍になるまで急速に拡大します。</span><span class="sxs-lookup"><span data-stu-id="33e29-143">This example runs an animation where the height of the rectangle increases slightly and linearly for the first 4 seconds, then scales rapidly for the last second until the rectangle is double the starting height.</span></span>

```xml
<StackPanel>
    <StackPanel.Resources>
        <Storyboard x:Name="myStoryboard">
            <DoubleAnimationUsingKeyFrames
              Storyboard.TargetName="myRectangle"
              Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)">
                <LinearDoubleKeyFrame Value="1" KeyTime="0:0:0"/>
                <LinearDoubleKeyFrame Value="1.2" KeyTime="0:0:4"/>
                <LinearDoubleKeyFrame Value="2" KeyTime="0:0:5"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
    </StackPanel.Resources>
</StackPanel>
```

### <a name="discrete-key-frames"></a><span data-ttu-id="33e29-144">離散キー フレーム</span><span class="sxs-lookup"><span data-stu-id="33e29-144">Discrete key frames</span></span>

<span data-ttu-id="33e29-145">離散キー フレームでは、補間を一切使いません。</span><span class="sxs-lookup"><span data-stu-id="33e29-145">Discrete key frames don't use any interpolation at all.</span></span> <span data-ttu-id="33e29-146">**KeyTime** に達すると、新しい **Value** が単純に適用されます。</span><span class="sxs-lookup"><span data-stu-id="33e29-146">When a **KeyTime** is reached, the new **Value** is simply applied.</span></span> <span data-ttu-id="33e29-147">アニメーション化される UI プロパティに応じて、"ジャンプ" するように見えるアニメーションになることがよくあります。</span><span class="sxs-lookup"><span data-stu-id="33e29-147">Depending on which UI property is being animated, this often produces an animation that appears to "jump".</span></span> <span data-ttu-id="33e29-148">これが、望みどおりのきれいな動作であることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="33e29-148">Be certain that this is the aesthetic behavior that you really want.</span></span> <span data-ttu-id="33e29-149">宣言するキー フレームの数を増やすことで明確なジャンプを最小限に抑えることができますが、スムーズなアニメーションが必要な場合は、線形キー フレームかスプライン キー フレームを使うことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="33e29-149">You can minimize the apparent jumps by increasing the number of key frames you declare, but if a smooth animation is your goal, you might be better off using linear or spline key frames instead.</span></span>

> [!NOTE]
> <span data-ttu-id="33e29-150">離散キー フレームは、[**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx)、[**Point**](https://msdn.microsoft.com/library/windows/apps/BR225870)、[**Color**](https://msdn.microsoft.com/library/windows/apps/Hh673723) 型ではない値を [**DiscreteObjectKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR243132) でアニメーション化するための唯一の手段です。</span><span class="sxs-lookup"><span data-stu-id="33e29-150">Discrete key frames are the only way to animate a value that isn't of type [**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx), [**Point**](https://msdn.microsoft.com/library/windows/apps/BR225870), and [**Color**](https://msdn.microsoft.com/library/windows/apps/Hh673723), with a [**DiscreteObjectKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR243132).</span></span> <span data-ttu-id="33e29-151">その詳しい内容については、このトピックの後半で説明します。</span><span class="sxs-lookup"><span data-stu-id="33e29-151">We'll discuss this in more detail later in this topic.</span></span>

### <a name="spline-key-frames"></a><span data-ttu-id="33e29-152">スプライン キー フレーム</span><span class="sxs-lookup"><span data-stu-id="33e29-152">Spline key frames</span></span>

<span data-ttu-id="33e29-153">スプライン キー フレームでは、値から値までの可変的な遷移を **KeySpline** プロパティの値に基づいて作成します。</span><span class="sxs-lookup"><span data-stu-id="33e29-153">A spline key frame creates a variable transition between values according to the value of the **KeySpline** property.</span></span> <span data-ttu-id="33e29-154">このプロパティは、ベジエ曲線の 1 つ目と 2 つ目の制御点を指定し、アニメーションの加速度を表します。</span><span class="sxs-lookup"><span data-stu-id="33e29-154">This property specifies the first and second control points of a Bezier curve, which describes the acceleration of the animation.</span></span> <span data-ttu-id="33e29-155">基本的には、[**KeySpline**](https://msdn.microsoft.com/library/windows/apps/BR210307) は、時間に基づく関数の関係 (関数の時間グラフがそのベジエ曲線の図形となる) を定義するものです。</span><span class="sxs-lookup"><span data-stu-id="33e29-155">Basically, a [**KeySpline**](https://msdn.microsoft.com/library/windows/apps/BR210307) defines a function-over-time relationship where the function-time graph is the shape of that Bezier curve.</span></span> <span data-ttu-id="33e29-156">通常は、スペースまたはコンマで区切った 4 つの [**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx) 値を持つ XAML の短縮形の属性文字列で **KeySpline** 値を指定します。</span><span class="sxs-lookup"><span data-stu-id="33e29-156">You typically specify a **KeySpline** value in a XAML shorthand attribute string that has four [**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx) values separated by spaces or commas.</span></span> <span data-ttu-id="33e29-157">これらの値は、ベジエ曲線の 2 つの制御点に対応する "X,Y" のペアです。</span><span class="sxs-lookup"><span data-stu-id="33e29-157">These values are "X,Y" pairs for two control points of the Bezier curve.</span></span> <span data-ttu-id="33e29-158">"X" は時間、"Y" は値に対する関数修飾子です。</span><span class="sxs-lookup"><span data-stu-id="33e29-158">"X" is time and "Y" is the function modifier to the value.</span></span> <span data-ttu-id="33e29-159">各値は、必ず 0 と 1 の間 (両端を含む) である必要があります。</span><span class="sxs-lookup"><span data-stu-id="33e29-159">Each value should always be between 0 and 1 inclusive.</span></span> <span data-ttu-id="33e29-160">**KeySpline** に対する制御点を変更しない場合、0,0 から 1,1 までの直線は、線形補間の時間に基づく関数を表したものです。</span><span class="sxs-lookup"><span data-stu-id="33e29-160">Without control point modification to a **KeySpline**, the straight line from 0,0 to 1,1 is the representation of a function over time for a linear interpolation.</span></span> <span data-ttu-id="33e29-161">制御点によってその曲線の図形が変化するため、スプライン アニメーションの時間に基づく関数の動作も変化します。</span><span class="sxs-lookup"><span data-stu-id="33e29-161">Your control points change the shape of that curve and thus the behavior of the function over time for the spline animation.</span></span> <span data-ttu-id="33e29-162">これはグラフで視覚的に確かめることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="33e29-162">It's probably best to see this visually as a graph.</span></span> <span data-ttu-id="33e29-163">ブラウザーで [Silverlight キー スプライン ビジュアライザーのサンプル](http://samples.msdn.microsoft.com/Silverlight/SampleBrowser/index.htm#/?sref=KeySplineExample)を実行すると、制御点によって曲線がどのように変化するかや、制御点を **KeySpline** 値として使ったときのサンプル アニメーションの動作を調べることができます。</span><span class="sxs-lookup"><span data-stu-id="33e29-163">You can run the [Silverlight key-spline visualizer sample](http://samples.msdn.microsoft.com/Silverlight/SampleBrowser/index.htm#/?sref=KeySplineExample) in a browser to see how the control points modify the curve and how a sample animation runs when using it as a **KeySpline** value.</span></span>

<span data-ttu-id="33e29-164">次の例は、アニメーションに適用される 3 種類のキー フレームを示しています。最後のキー フレームは、[**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx) 値のキー スプライン アニメーションです ([**SplineDoubleKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR210446))。</span><span class="sxs-lookup"><span data-stu-id="33e29-164">This next example shows three different key frames applied to an animation, with the last one being a key spline animation for a [**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx) value ([**SplineDoubleKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR210446)).</span></span> <span data-ttu-id="33e29-165">文字列 "0.6,0.0 0.9,0.00" が **KeySpline** に対して適用されていることに注目してください。</span><span class="sxs-lookup"><span data-stu-id="33e29-165">Note the string "0.6,0.0 0.9,0.00" applied for **KeySpline**.</span></span> <span data-ttu-id="33e29-166">これにより、アニメーションが最初はゆっくり動作するものの、**KeyTime** に達する直前で急速に速度を増す曲線となります。</span><span class="sxs-lookup"><span data-stu-id="33e29-166">This produces a curve where the animation appears to run slowly at first but then rapidly reaches the value just before the **KeyTime** is reached.</span></span>

```xml
<Storyboard x:Name="myStoryboard">
    <!-- Animate the TranslateTransform's X property
        from 0 to 350, then 50,
        then 200 over 10 seconds. -->
    <DoubleAnimationUsingKeyFrames
        Storyboard.TargetName="MyAnimatedTranslateTransform"
        Storyboard.TargetProperty="X"
        Duration="0:0:10" EnableDependentAnimation="True">

        <!-- Using a LinearDoubleKeyFrame, the rectangle moves 
            steadily from its starting position to 500 over 
            the first 3 seconds.  -->
        <LinearDoubleKeyFrame Value="500" KeyTime="0:0:3"/>

        <!-- Using a DiscreteDoubleKeyFrame, the rectangle suddenly 
            appears at 400 after the fourth second of the animation. -->
        <DiscreteDoubleKeyFrame Value="400" KeyTime="0:0:4"/>

        <!-- Using a SplineDoubleKeyFrame, the rectangle moves 
            back to its starting point. The
            animation starts out slowly at first and then speeds up. 
            This KeyFrame ends after the 6th second. -->
        <SplineDoubleKeyFrame KeySpline="0.6,0.0 0.9,0.00" Value="0" KeyTime="0:0:6"/>
    </DoubleAnimationUsingKeyFrames>
</Storyboard>
```

### <a name="easing-key-frames"></a><span data-ttu-id="33e29-167">イージング キー フレーム</span><span class="sxs-lookup"><span data-stu-id="33e29-167">Easing key frames</span></span>

<span data-ttu-id="33e29-168">イージング キー フレームは、補間が適用され、補間の時間に基づく関数が複数の定義済みの数式によって制御されるキー フレームです。</span><span class="sxs-lookup"><span data-stu-id="33e29-168">An easing key frame is a key frame where interpolation is being applied, and the function over time of the interpolation is controlled by several pre-defined mathematical formulas.</span></span> <span data-ttu-id="33e29-169">スプライン キー フレームでは、一部の種類のイージング関数とほぼ同じ結果を得ることができるものの、スプラインでは再現できない [**BackEase**](https://msdn.microsoft.com/library/windows/apps/BR243049) などのイージング関数もあります。</span><span class="sxs-lookup"><span data-stu-id="33e29-169">You can actually produce much the same result with a spline key frame as you can with some of the easing function types, but there are also some easing functions, such as [**BackEase**](https://msdn.microsoft.com/library/windows/apps/BR243049), that you can't reproduce with a spline.</span></span>

<span data-ttu-id="33e29-170">イージング関数をイージング キー フレームに適用するには、**EasingFunction** プロパティをそのキー フレームの XAML でプロパティ要素として設定します。</span><span class="sxs-lookup"><span data-stu-id="33e29-170">To apply an easing function to an easing key frame, you set the **EasingFunction** property as a property element in XAML for that key frame.</span></span> <span data-ttu-id="33e29-171">値として、いずれかの種類のイージング関数のオブジェクト要素を指定します。</span><span class="sxs-lookup"><span data-stu-id="33e29-171">For the value, specify an object element for one of the easing function types.</span></span>

<span data-ttu-id="33e29-172">この例では、[**DoubleAnimation**](https://msdn.microsoft.com/library/windows/apps/BR243136) に対して [**CubicEase**](https://msdn.microsoft.com/library/windows/apps/BR243126) を適用し、さらに [**BounceEase**](https://msdn.microsoft.com/library/windows/apps/BR243057) を連続するキー フレームとして適用して、跳ね返りの効果を作成します。</span><span class="sxs-lookup"><span data-stu-id="33e29-172">This example applies a [**CubicEase**](https://msdn.microsoft.com/library/windows/apps/BR243126) and then a [**BounceEase**](https://msdn.microsoft.com/library/windows/apps/BR243057) as successive key frames to a [**DoubleAnimation**](https://msdn.microsoft.com/library/windows/apps/BR243136) to create a bouncing effect.</span></span>

```xml
<Storyboard x:Name="myStoryboard">
    <DoubleAnimationUsingKeyFrames Duration="0:0:10"
        Storyboard.TargetProperty="Height"
        Storyboard.TargetName="myEllipse">

        <!-- This keyframe animates the ellipse up to the crest 
            where it slows down and stops. -->
        <EasingDoubleKeyFrame Value="-300" KeyTime="00:00:02">
            <EasingDoubleKeyFrame.EasingFunction>
                <CubicEase/>
            </EasingDoubleKeyFrame.EasingFunction>
        </EasingDoubleKeyFrame>

        <!-- This keyframe animates the ellipse back down and makes
            it bounce. -->
        <EasingDoubleKeyFrame Value="0" KeyTime="00:00:06">
            <EasingDoubleKeyFrame.EasingFunction>
                <BounceEase Bounces="5"/>
            </EasingDoubleKeyFrame.EasingFunction>
        </EasingDoubleKeyFrame>
    </DoubleAnimationUsingKeyFrames>
</Storyboard>
```

<span data-ttu-id="33e29-173">これはイージング関数の一例に過ぎません。</span><span class="sxs-lookup"><span data-stu-id="33e29-173">This is just one easing function example.</span></span> <span data-ttu-id="33e29-174">詳しくは、次のセクションをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="33e29-174">We'll cover more in the next section.</span></span>

## <a name="easing-functions"></a><span data-ttu-id="33e29-175">イージング関数</span><span class="sxs-lookup"><span data-stu-id="33e29-175">Easing functions</span></span>

<span data-ttu-id="33e29-176">イージング関数を使うと、独自の数式をアニメーションに適用することができます。</span><span class="sxs-lookup"><span data-stu-id="33e29-176">Easing functions allow you to apply custom mathematical formulas to your animations.</span></span> <span data-ttu-id="33e29-177">数学演算は、2-D の座標系で実際の物理法則をシミュレートするアニメーションを作るうえで役立ちます。</span><span class="sxs-lookup"><span data-stu-id="33e29-177">Mathematical operations are often useful to produce animations that simulate real-world physics in a 2-D coordinate system.</span></span> <span data-ttu-id="33e29-178">たとえば、物体の跳ね返りや、ばねの動きを表現することができます。</span><span class="sxs-lookup"><span data-stu-id="33e29-178">For example, you may want an object to realistically bounce or behave as though it were on a spring.</span></span> <span data-ttu-id="33e29-179">キー フレームや **From**/**To**/**By** アニメーションを使って、類似した効果を表現することもできますが、膨大な作業が必要となり、完成したアニメーションも、数式を使った場合と比べると正確さに欠ける可能性があります。</span><span class="sxs-lookup"><span data-stu-id="33e29-179">You could use key frame or even **From**/**To**/**By** animations to approximate these effects but it would take a significant amount of work and the animation would be less accurate than using a mathematical formula.</span></span>

<span data-ttu-id="33e29-180">イージング関数は 3 とおりの方法でアニメーションに適用できます。</span><span class="sxs-lookup"><span data-stu-id="33e29-180">Easing functions can be applied to animations in three ways:</span></span>

-   <span data-ttu-id="33e29-181">前のセクションで説明したように、キー フレーム アニメーションでイージング キー フレームを使う方法。</span><span class="sxs-lookup"><span data-stu-id="33e29-181">By using an easing keyframe in a keyframe animation, as described in the previous section.</span></span> <span data-ttu-id="33e29-182">[**EasingColorKeyFrame.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR210267)、[**EasingDoubleKeyFrame.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.easingdoublekeyframe.easingfunction.aspx)、または [**EasingPointKeyFrame.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR210279) を使います。</span><span class="sxs-lookup"><span data-stu-id="33e29-182">Use [**EasingColorKeyFrame.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR210267), [**EasingDoubleKeyFrame.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.easingdoublekeyframe.easingfunction.aspx), or [**EasingPointKeyFrame.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR210279).</span></span>
-   <span data-ttu-id="33e29-183">**From**/**To**/**By** のいずれかの種類のアニメーションで **EasingFunction** プロパティを設定する方法。</span><span class="sxs-lookup"><span data-stu-id="33e29-183">By setting the **EasingFunction** property on one of the **From**/**To**/**By** animation types.</span></span> <span data-ttu-id="33e29-184">[**ColorAnimation.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR243075)、[**DoubleAnimation.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.doubleanimation.easingfunction.aspx)、または [**PointAnimation.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR210354) を使います。</span><span class="sxs-lookup"><span data-stu-id="33e29-184">Use [**ColorAnimation.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR243075), [**DoubleAnimation.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.doubleanimation.easingfunction.aspx) or [**PointAnimation.EasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR210354).</span></span>
-   <span data-ttu-id="33e29-185">[**VisualTransition**](https://msdn.microsoft.com/library/windows/apps/BR209034) の一部として [**GeneratedEasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR209037) を設定する方法。</span><span class="sxs-lookup"><span data-stu-id="33e29-185">By setting [**GeneratedEasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR209037) as part of a [**VisualTransition**](https://msdn.microsoft.com/library/windows/apps/BR209034).</span></span> <span data-ttu-id="33e29-186">これは、コントロールの表示状態を定義する場合の固有の方法です。詳しくは、「[**GeneratedEasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR209037)」または「[表示状態用にストーリーボードに設定されたアニメーション](https://msdn.microsoft.com/library/windows/apps/xaml/JJ819808)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="33e29-186">This is specific to defining visual states for controls; for more info, see [**GeneratedEasingFunction**](https://msdn.microsoft.com/library/windows/apps/BR209037) or [Storyboards for visual states](https://msdn.microsoft.com/library/windows/apps/xaml/JJ819808).</span></span>

<span data-ttu-id="33e29-187">一連のイージング関数を以下にまとめます。</span><span class="sxs-lookup"><span data-stu-id="33e29-187">Here is a list of the easing functions:</span></span>

-   <span data-ttu-id="33e29-188">[**BackEase**](https://msdn.microsoft.com/library/windows/apps/BR243049): 指定されたパスのアニメーションを開始する直前に、逆の動きを与えます。</span><span class="sxs-lookup"><span data-stu-id="33e29-188">[**BackEase**](https://msdn.microsoft.com/library/windows/apps/BR243049): Retracts the motion of an animation slightly before it begins to animate in the path indicated.</span></span>
-   <span data-ttu-id="33e29-189">[**BounceEase**](https://msdn.microsoft.com/library/windows/apps/BR243057): 跳ね返りの効果を作成します。</span><span class="sxs-lookup"><span data-stu-id="33e29-189">[**BounceEase**](https://msdn.microsoft.com/library/windows/apps/BR243057): Creates a bouncing effect.</span></span>
-   <span data-ttu-id="33e29-190">[**CircleEase**](https://msdn.microsoft.com/library/windows/apps/BR243063): 円関数を使って加速と減速のアニメーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="33e29-190">[**CircleEase**](https://msdn.microsoft.com/library/windows/apps/BR243063): Creates an animation that accelerates or decelerates using a circular function.</span></span>
-   <span data-ttu-id="33e29-191">[**CubicEase**](https://msdn.microsoft.com/library/windows/apps/BR243126): 数式 f(t) = t3 を使って加速と減速のアニメーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="33e29-191">[**CubicEase**](https://msdn.microsoft.com/library/windows/apps/BR243126): Creates an animation that accelerates or decelerates using the formula f(t) = t3.</span></span>
-   <span data-ttu-id="33e29-192">[**ElasticEase**](https://msdn.microsoft.com/library/windows/apps/BR210282): 伸び縮みを繰り返して静止する、ばねに似たアニメーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="33e29-192">[**ElasticEase**](https://msdn.microsoft.com/library/windows/apps/BR210282): Creates an animation that resembles a spring oscillating back and forth until it comes to rest.</span></span>
-   <span data-ttu-id="33e29-193">[**ExponentialEase**](https://msdn.microsoft.com/library/windows/apps/BR210294): 指数関数の数式を使って加速と減速のアニメーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="33e29-193">[**ExponentialEase**](https://msdn.microsoft.com/library/windows/apps/BR210294): Creates an animation that accelerates or decelerates using an exponential formula.</span></span>
-   <span data-ttu-id="33e29-194">[**PowerEase**](https://msdn.microsoft.com/library/windows/apps/BR210399): 数式 f(t) = tp を使って加速と減速のアニメーションを作成します (p = [**Power**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.powerease.power) プロパティ)。</span><span class="sxs-lookup"><span data-stu-id="33e29-194">[**PowerEase**](https://msdn.microsoft.com/library/windows/apps/BR210399): Creates an animation that accelerates or decelerates using the formula f(t) = tp where p is equal to the [**Power**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.powerease.power) property.</span></span>
-   <span data-ttu-id="33e29-195">[**QuadraticEase**](https://msdn.microsoft.com/library/windows/apps/BR210403): 数式 f(t) = t2 を使って加速と減速のアニメーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="33e29-195">[**QuadraticEase**](https://msdn.microsoft.com/library/windows/apps/BR210403): Creates an animation that accelerates or decelerates using the formula f(t) = t2.</span></span>
-   <span data-ttu-id="33e29-196">[**QuarticEase**](https://msdn.microsoft.com/library/windows/apps/BR210405): 数式 f(t) = t4 を使って加速と減速のアニメーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="33e29-196">[**QuarticEase**](https://msdn.microsoft.com/library/windows/apps/BR210405): Creates an animation that accelerates or decelerates using the formula f(t) = t4.</span></span>
-   <span data-ttu-id="33e29-197">[**QuinticEase**](https://msdn.microsoft.com/library/windows/apps/BR210407): 数式 f(t) = t5 を使って加速と減速のアニメーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="33e29-197">[**QuinticEase**](https://msdn.microsoft.com/library/windows/apps/BR210407): Create an animation that accelerates or decelerates using the formula f(t) = t5.</span></span>
-   <span data-ttu-id="33e29-198">[**SineEase**](https://msdn.microsoft.com/library/windows/apps/BR210439): 正弦公式を使って加速と減速のアニメーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="33e29-198">[**SineEase**](https://msdn.microsoft.com/library/windows/apps/BR210439): Creates an animation that accelerates or decelerates using a sine formula.</span></span>

<span data-ttu-id="33e29-199">一部のイージング関数には固有のプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="33e29-199">Some of the easing functions have their own properties.</span></span> <span data-ttu-id="33e29-200">たとえば、[**BounceEase**](https://msdn.microsoft.com/library/windows/apps/BR243057) には [**Bounces**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.bounceease.bounces.aspx) と [**Bounciness**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.bounceease.bounciness.aspx) という 2 つのプロパティがあります。これらは、その特定の **BounceEase** の時間に基づく関数の動作を変更します。</span><span class="sxs-lookup"><span data-stu-id="33e29-200">For example, [**BounceEase**](https://msdn.microsoft.com/library/windows/apps/BR243057) has two properties [**Bounces**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.bounceease.bounces.aspx) and [**Bounciness**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.bounceease.bounciness.aspx) that modify the function-over-time behavior of that particular **BounceEase**.</span></span> <span data-ttu-id="33e29-201">[**CubicEase**](https://msdn.microsoft.com/library/windows/apps/BR243126) など、その他のイージング関数は、すべてのイージング関数に共通の [**EasingMode**](https://msdn.microsoft.com/library/windows/apps/BR210275) プロパティ以外にプロパティはなく、生成される時間に基づく関数の動作は常に同じです。</span><span class="sxs-lookup"><span data-stu-id="33e29-201">Other easing functions such as [**CubicEase**](https://msdn.microsoft.com/library/windows/apps/BR243126) don't have properties other than the [**EasingMode**](https://msdn.microsoft.com/library/windows/apps/BR210275) property that all easing functions share, and always produce the same function-over-time behavior.</span></span>

<span data-ttu-id="33e29-202">これらのイージング関数の一部は、プロパティを持つイージング関数でのプロパティの設定方法に応じて、重複する場合があります。</span><span class="sxs-lookup"><span data-stu-id="33e29-202">Some of these easing functions have a bit of overlap, depending on how you set properties on the easing functions that have properties.</span></span> <span data-ttu-id="33e29-203">たとえば、[**QuadraticEase**](https://msdn.microsoft.com/library/windows/apps/BR210403) は、[**Power**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.powerease.power) が 2 の [**PowerEase**](https://msdn.microsoft.com/library/windows/apps/BR210399) と完全に同じです。</span><span class="sxs-lookup"><span data-stu-id="33e29-203">For example, [**QuadraticEase**](https://msdn.microsoft.com/library/windows/apps/BR210403) is exactly the same as a [**PowerEase**](https://msdn.microsoft.com/library/windows/apps/BR210399) with [**Power**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.powerease.power) equal to 2.</span></span> <span data-ttu-id="33e29-204">[**CircleEase**](https://msdn.microsoft.com/library/windows/apps/BR243063) は、基本的には既定値の [**ExponentialEase**](https://msdn.microsoft.com/library/windows/apps/BR210294) です。</span><span class="sxs-lookup"><span data-stu-id="33e29-204">And [**CircleEase**](https://msdn.microsoft.com/library/windows/apps/BR243063) is basically a default-value [**ExponentialEase**](https://msdn.microsoft.com/library/windows/apps/BR210294).</span></span>

<span data-ttu-id="33e29-205">[**BackEase**](https://msdn.microsoft.com/library/windows/apps/BR243049) イージング関数は、キー フレームの **From**/**To** または値によって設定される通常の範囲外の値を変更できるため、特別な関数です。</span><span class="sxs-lookup"><span data-stu-id="33e29-205">The [**BackEase**](https://msdn.microsoft.com/library/windows/apps/BR243049) easing function is unique because it can change the value outside of the normal range as set by **From**/**To** or values of key frames.</span></span> <span data-ttu-id="33e29-206">通常の **From**/**To** 動作とは逆の方向に値を変更することでアニメーションを開始し、**From** に戻るか、値をもう一度開始してから、アニメーションを通常どおり実行します。</span><span class="sxs-lookup"><span data-stu-id="33e29-206">It starts the animation by changing the value in the opposite direction as would be expected from a normal **From**/**To** behavior, goes back to the **From** or starting value again, and then runs the animation as normal.</span></span>

<span data-ttu-id="33e29-207">前の例で、キー フレーム アニメーションのイージング関数を宣言する方法を紹介しました。</span><span class="sxs-lookup"><span data-stu-id="33e29-207">In an earlier example, we showed how to declare an easing function for a key-frame animation.</span></span> <span data-ttu-id="33e29-208">次の例では、イージング関数を **From**/**To**/**By** アニメーションに適用します。</span><span class="sxs-lookup"><span data-stu-id="33e29-208">This next sample applies an easing function to a **From**/**To**/**By** animation.</span></span>

```xml
<StackPanel x:Name="LayoutRoot" Background="White">
    <StackPanel.Resources>
        <Storyboard x:Name="myStoryboard">
            <DoubleAnimation From="30" To="200" Duration="00:00:3" 
                Storyboard.TargetName="myRectangle" 
                Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)">
                <DoubleAnimation.EasingFunction>
                    <BounceEase Bounces="2" EasingMode="EaseOut" 
                                Bounciness="2"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </StackPanel.Resources>
    <Rectangle x:Name="myRectangle" Fill="Blue" Width="200" Height="30"/>
</StackPanel>
```

<span data-ttu-id="33e29-209">イージング関数が **From**/**To**/**By** アニメーションに適用されると、時間に基づく関数の特性 (アニメーションの [**Duration**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.duration) に基づいて値が **From** 値と **To** 値の間で補完されるしくみ) が変化します。</span><span class="sxs-lookup"><span data-stu-id="33e29-209">When an easing function is applied to a **From**/**To**/**By** animation, it's changing the function- over-time characteristics of how the value interpolates between the **From** and **To** values over the [**Duration**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.timeline.duration) of the animation.</span></span> <span data-ttu-id="33e29-210">イージング関数を使わない場合は、線形補間になります。</span><span class="sxs-lookup"><span data-stu-id="33e29-210">Without an easing function, that would be a linear interpolation.</span></span>

## <a name="span-iddiscreteobjectvalueanimationsspanspan-iddiscreteobjectvalueanimationsspanspan-iddiscreteobjectvalueanimationsspandiscrete-object-value-animations"></a><span data-ttu-id="33e29-211"><span id="Discrete_object_value_animations"></span><span id="discrete_object_value_animations"></span><span id="DISCRETE_OBJECT_VALUE_ANIMATIONS"></span>離散オブジェクト値のアニメーション</span><span class="sxs-lookup"><span data-stu-id="33e29-211"><span id="Discrete_object_value_animations"></span><span id="discrete_object_value_animations"></span><span id="DISCRETE_OBJECT_VALUE_ANIMATIONS"></span>Discrete object value animations</span></span>

<span data-ttu-id="33e29-212">[**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx)、[**Point**](https://msdn.microsoft.com/library/windows/apps/BR225870)、または [**Color**](https://msdn.microsoft.com/library/windows/apps/Hh673723) 型ではないプロパティにアニメーション化された値を適用する唯一の方法として、ある種類のアニメーションについて以下に説明します。</span><span class="sxs-lookup"><span data-stu-id="33e29-212">One type of animation deserves special mention because it's the only way you can apply an animated value to properties that aren't of type [**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx), [**Point**](https://msdn.microsoft.com/library/windows/apps/BR225870), or [**Color**](https://msdn.microsoft.com/library/windows/apps/Hh673723).</span></span> <span data-ttu-id="33e29-213">それは、キー フレーム アニメーション [**ObjectAnimationUsingKeyFrames**](https://msdn.microsoft.com/library/windows/apps/BR210320) です。</span><span class="sxs-lookup"><span data-stu-id="33e29-213">This is the key-frame animation [**ObjectAnimationUsingKeyFrames**](https://msdn.microsoft.com/library/windows/apps/BR210320).</span></span> <span data-ttu-id="33e29-214">[**Object**](https://msdn.microsoft.com/library/windows/apps/xaml/system.object.aspx) 値を使ったアニメーション化は、フレーム間で値が補間される可能性がないため、これとは異なります。</span><span class="sxs-lookup"><span data-stu-id="33e29-214">Animating using [**Object**](https://msdn.microsoft.com/library/windows/apps/xaml/system.object.aspx) values is different because there's no possibility of interpolating the values between the frames.</span></span> <span data-ttu-id="33e29-215">フレームの [**KeyTime**](https://msdn.microsoft.com/library/windows/apps/BR210342) に達すると、アニメーション化された値はキー フレームの **Value** に指定された値にすぐに設定されます。</span><span class="sxs-lookup"><span data-stu-id="33e29-215">When the frame's [**KeyTime**](https://msdn.microsoft.com/library/windows/apps/BR210342) is reached, the animated value is immediately set to the value specified in the key frame's **Value**.</span></span> <span data-ttu-id="33e29-216">補間がないため、**ObjectAnimationUsingKeyFrames** キー フレーム コレクションで使うキー フレームは [**DiscreteObjectKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR243132) だけです。</span><span class="sxs-lookup"><span data-stu-id="33e29-216">Because there's no interpolation, there's only one key frame you use in the **ObjectAnimationUsingKeyFrames** key frames collection: [**DiscreteObjectKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR243132).</span></span>

<span data-ttu-id="33e29-217">プロパティ要素構文を使って [**DiscreteObjectKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR243132) の [**Value**](https://msdn.microsoft.com/library/windows/apps/BR210344) が設定されることはよくあります。これは、設定を試みるオブジェクト値が、属性構文の **Value** を設定するための文字列として表現できない場合があるためです。</span><span class="sxs-lookup"><span data-stu-id="33e29-217">The [**Value**](https://msdn.microsoft.com/library/windows/apps/BR210344) of a [**DiscreteObjectKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR243132) is often set using property element syntax, because the object value you are trying to set often is not expressible as a string to fill **Value** in attribute syntax.</span></span> <span data-ttu-id="33e29-218">[StaticResource](https://msdn.microsoft.com/library/windows/apps/Mt185588) などの参照を使う場合は、属性構文を利用できます。</span><span class="sxs-lookup"><span data-stu-id="33e29-218">You can still use attribute syntax if you use a reference such as [StaticResource](https://msdn.microsoft.com/library/windows/apps/Mt185588).</span></span>

<span data-ttu-id="33e29-219">既定のテンプレートで [**ObjectAnimationUsingKeyFrames**](https://msdn.microsoft.com/library/windows/apps/BR210320) が使われる状況として、テンプレート プロパティが [**Brush**](/uwp/api/Windows.UI.Xaml.Media.Brush) リソースを参照する場合が挙げられます。</span><span class="sxs-lookup"><span data-stu-id="33e29-219">One place you'll see an [**ObjectAnimationUsingKeyFrames**](https://msdn.microsoft.com/library/windows/apps/BR210320) used in the default templates is when a template property references a [**Brush**](/uwp/api/Windows.UI.Xaml.Media.Brush) resource.</span></span> <span data-ttu-id="33e29-220">このようなリソースは単なる [**Color**](https://msdn.microsoft.com/library/windows/apps/Hh673723) 値ではなく [**SolidColorBrush**](https://msdn.microsoft.com/library/windows/apps/BR242962) オブジェクトであり、システム テーマとして定義されているリソース ([**ThemeDictionaries**](https://msdn.microsoft.com/library/windows/apps/BR208807)) を使います。</span><span class="sxs-lookup"><span data-stu-id="33e29-220">These resources are [**SolidColorBrush**](https://msdn.microsoft.com/library/windows/apps/BR242962) objects, not just a [**Color**](https://msdn.microsoft.com/library/windows/apps/Hh673723) value, and they use resources that are defined as system themes ([**ThemeDictionaries**](https://msdn.microsoft.com/library/windows/apps/BR208807)).</span></span> <span data-ttu-id="33e29-221">これらのリソースは、[**TextBlock.Foreground**](https://msdn.microsoft.com/library/windows/apps/BR209665) などの **Brush** 型の値に直接割り当てることができ、間接的なターゲット設定を使う必要はありません。</span><span class="sxs-lookup"><span data-stu-id="33e29-221">They can be assigned directly to a **Brush**-type value such as [**TextBlock.Foreground**](https://msdn.microsoft.com/library/windows/apps/BR209665) and don't need to use indirect targeting.</span></span> <span data-ttu-id="33e29-222">ただし、**SolidColorBrush** は [**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx)、[**Point**](https://msdn.microsoft.com/library/windows/apps/BR225870)、または **Color** ではないため、リソースを使うには **ObjectAnimationUsingKeyFrames** を利用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="33e29-222">But because a **SolidColorBrush** is not [**Double**](https://msdn.microsoft.com/library/windows/apps/xaml/system.double.aspx), [**Point**](https://msdn.microsoft.com/library/windows/apps/BR225870), or **Color**, you have to use a **ObjectAnimationUsingKeyFrames** to use the resource.</span></span>

```xml
<Style x:Key="TextButtonStyle" TargetType="Button">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="Button">
                <Grid Background="Transparent">
                    <TextBlock x:Name="Text"
                        Text="{TemplateBinding Content}"/>
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal"/>
                            <VisualState x:Name="PointerOver">
                                <Storyboard>
                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Text" Storyboard.TargetProperty="Foreground">
                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ApplicationPointerOverForegroundThemeBrush}"/>
                                    </ObjectAnimationUsingKeyFrames>
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Pressed">
                                <Storyboard>
                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Text" Storyboard.TargetProperty="Foreground">
                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ApplicationPressedForegroundThemeBrush}"/>
                                    </ObjectAnimationUsingKeyFrames>
                                </Storyboard>
                            </VisualState>
...
                       </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style>
```

<span data-ttu-id="33e29-223">列挙値を使うプロパティをアニメーション化するために、[**ObjectAnimationUsingKeyFrames**](https://msdn.microsoft.com/library/windows/apps/BR210320) を使うこともできます。</span><span class="sxs-lookup"><span data-stu-id="33e29-223">You also might use [**ObjectAnimationUsingKeyFrames**](https://msdn.microsoft.com/library/windows/apps/BR210320) to animate properties that use an enumeration value.</span></span> <span data-ttu-id="33e29-224">次に、Windows ランタイムの既定のテンプレートに含まれている名前付きスタイルの別の例を示します。</span><span class="sxs-lookup"><span data-stu-id="33e29-224">Here's another example from a named style that comes from the Windows Runtime default templates.</span></span> <span data-ttu-id="33e29-225">[**Visibility**](https://msdn.microsoft.com/library/windows/apps/BR209006) 列挙定数を列挙定数受け取る [**Visibility**](https://msdn.microsoft.com/library/windows/apps/BR208992) プロパティの設定方法に注目してください。</span><span class="sxs-lookup"><span data-stu-id="33e29-225">Note how it sets the [**Visibility**](https://msdn.microsoft.com/library/windows/apps/BR208992) property that takes a [**Visibility**](https://msdn.microsoft.com/library/windows/apps/BR209006) enumeration constant.</span></span> <span data-ttu-id="33e29-226">この場合は、属性構文を使って値を設定できます。</span><span class="sxs-lookup"><span data-stu-id="33e29-226">In this case you can set the value using attribute syntax.</span></span> <span data-ttu-id="33e29-227">必要なのは、プロパティに "Collapsed" などの列挙値を設定するための列挙値からの非修飾定数名だけです。</span><span class="sxs-lookup"><span data-stu-id="33e29-227">You only need the unqualified constant name from an enumeration for setting a property with an enumeration value, for example "Collapsed".</span></span>

```xml
<Style x:Key="BackButtonStyle" TargetType="Button">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="Button">
          <Grid x:Name="RootGrid">
            <VisualStateManager.VisualStateGroups>
              <VisualStateGroup x:Name="CommonStates">
              <VisualState x:Name="Normal"/>
...           <VisualState x:Name="Disabled">
                <Storyboard>
                  <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Visibility">
                    <DiscreteObjectKeyFrame Value="Collapsed" KeyTime="0"/>
                  </ObjectAnimationUsingKeyFrames>
                </Storyboard>
              </VisualState>
            </VisualStateGroup>
...
          </VisualStateManager.VisualStateGroups>
        </Grid>
      </ControlTemplate>
    </Setter.Value>
  </Setter>
</Style>
```

<span data-ttu-id="33e29-228">[**ObjectAnimationUsingKeyFrames**](https://msdn.microsoft.com/library/windows/apps/BR210320) フレーム セットに対して、複数の [**DiscreteObjectKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR243132) を使うことができます。</span><span class="sxs-lookup"><span data-stu-id="33e29-228">You can use more than one [**DiscreteObjectKeyFrame**](https://msdn.microsoft.com/library/windows/apps/BR243132) for an [**ObjectAnimationUsingKeyFrames**](https://msdn.microsoft.com/library/windows/apps/BR210320) frame set.</span></span> <span data-ttu-id="33e29-229">この方法は、複数のオブジェクト値が役立つサンプル シナリオで、[**Image.Source**](https://msdn.microsoft.com/library/windows/apps/BR242760) の値をアニメーション化して "スライド ショー" アニメーションを作成する際に検討することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="33e29-229">This might be an interesting way to create a "slide show" animation by animating the value of [**Image.Source**](https://msdn.microsoft.com/library/windows/apps/BR242760), as an example scenario for where multiple object values might be useful.</span></span>

 ## <a name="related-topics"></a><span data-ttu-id="33e29-230">関連トピック</span><span class="sxs-lookup"><span data-stu-id="33e29-230">Related topics</span></span>

* [<span data-ttu-id="33e29-231">プロパティ パス構文</span><span class="sxs-lookup"><span data-stu-id="33e29-231">Property-path syntax</span></span>](https://msdn.microsoft.com/library/windows/apps/Mt185586)
* [<span data-ttu-id="33e29-232">依存関係プロパティの概要</span><span class="sxs-lookup"><span data-stu-id="33e29-232">Dependency properties overview</span></span>](https://msdn.microsoft.com/library/windows/apps/Mt185583)
* [**<span data-ttu-id="33e29-233">Storyboard</span><span class="sxs-lookup"><span data-stu-id="33e29-233">Storyboard</span></span>**](https://msdn.microsoft.com/library/windows/apps/BR210490)
* [**<span data-ttu-id="33e29-234">Storyboard.TargetProperty</span><span class="sxs-lookup"><span data-stu-id="33e29-234">Storyboard.TargetProperty</span></span>**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.media.animation.storyboard.targetpropertyproperty)