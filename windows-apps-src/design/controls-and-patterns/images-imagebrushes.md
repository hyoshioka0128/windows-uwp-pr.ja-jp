---
Description: アプリに画像を統合する方法について説明します。Image と ImageBrush という主要な 2 つの XAML クラスの API の使い方について取り上げています。
title: 画像とイメージ ブラシ
ms.assetid: CEA8780C-71A3-4168-A6E8-6361CDFB2FAF
label: Images and image brushes
template: detail.hbs
ms.date: 05/19/2017
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.openlocfilehash: 61fa4f8afa0404591831be4136c16672503274f2
ms.sourcegitcommit: ac7f3422f8d83618f9b6b5615a37f8e5c115b3c4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/29/2019
ms.locfileid: "66362783"
---
# <a name="images-and-image-brushes"></a><span data-ttu-id="53147-104">画像とイメージ ブラシ</span><span class="sxs-lookup"><span data-stu-id="53147-104">Images and image brushes</span></span>

<span data-ttu-id="53147-105">画像を表示するには、**Image** オブジェクトまたは **ImageBrush** オブジェクトを使うことができます。</span><span class="sxs-lookup"><span data-stu-id="53147-105">To display an image, you can use either the **Image** object or the **ImageBrush** object.</span></span> <span data-ttu-id="53147-106">Image オブジェクトは、イメージのレンダリングに使います。ImageBrush オブジェクトは、特定のイメージを使って別のオブジェクトを描画するために使います。</span><span class="sxs-lookup"><span data-stu-id="53147-106">An Image object renders an image, and an ImageBrush object paints another object with an image.</span></span> 

> <span data-ttu-id="53147-107">**重要な API**:[クラスをイメージ](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Image)、[ソース プロパティ](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.image.source)、 [ImageBrush クラス](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.ImageBrush)、 [ImageSource プロパティ](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imagebrush.imagesource)</span><span class="sxs-lookup"><span data-stu-id="53147-107">**Important APIs**: [Image class](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Image), [Source property](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.image.source), [ImageBrush class](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.ImageBrush), [ImageSource property](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imagebrush.imagesource)</span></span>

## <a name="are-these-the-right-elements"></a><span data-ttu-id="53147-108">これらの要素は適切か。</span><span class="sxs-lookup"><span data-stu-id="53147-108">Are these the right elements?</span></span>
<span data-ttu-id="53147-109">**Image** 要素を使用して、アプリにスタンドアロンの画像を表示します。</span><span class="sxs-lookup"><span data-stu-id="53147-109">Use an **Image** element to display a stand-alone image in your app.</span></span>

<span data-ttu-id="53147-110">**ImageBrush** を使用して、画像を別のオブジェクトに適用します。</span><span class="sxs-lookup"><span data-stu-id="53147-110">Use an **ImageBrush** to apply an image to another object.</span></span> <span data-ttu-id="53147-111">ImageBrush の使用法には、テキストの装飾性を高める効果や、コントロールまたはレイアウト コンテナーの背景などがあります。</span><span class="sxs-lookup"><span data-stu-id="53147-111">Uses for an ImageBrush include decorative effects for text, or backgrounds for controls or layout containers.</span></span>

## <a name="examples"></a><span data-ttu-id="53147-112">例</span><span class="sxs-lookup"><span data-stu-id="53147-112">Examples</span></span>

<table>
<th align="left"><span data-ttu-id="53147-113">XAML コントロール ギャラリー</span><span class="sxs-lookup"><span data-stu-id="53147-113">XAML Controls Gallery</span></span><th>
<tr>
<td><img src="images/xaml-controls-gallery-sm.png" alt="XAML controls gallery"></img></td>
<td>
    <p><span data-ttu-id="53147-114"><strong style="font-weight: semi-bold">XAML コントロール ギャラリー</strong> アプリがインストールされている場合、こちらをクリックして<a href="xamlcontrolsgallery:/item/Image">アプリを開き、Image の動作を確認</a>してください。</span><span class="sxs-lookup"><span data-stu-id="53147-114">If you have the <strong style="font-weight: semi-bold">XAML Controls Gallery</strong> app installed, click here to <a href="xamlcontrolsgallery:/item/Image">open the app and see the Image in action</a>.</span></span></p>
    <ul>
    <li><span data-ttu-id="53147-115"><a href="https://www.microsoft.com/store/productId/9MSVH128X2ZT">XAML コントロール ギャラリー アプリを入手する (Microsoft Store)</a></span><span class="sxs-lookup"><span data-stu-id="53147-115"><a href="https://www.microsoft.com/store/productId/9MSVH128X2ZT">Get the XAML Controls Gallery app (Microsoft Store)</a></span></span></li>
    <li><span data-ttu-id="53147-116"><a href="https://github.com/Microsoft/Xaml-Controls-Gallery">ソース コード (GitHub) を入手する</a></span><span class="sxs-lookup"><span data-stu-id="53147-116"><a href="https://github.com/Microsoft/Xaml-Controls-Gallery">Get the source code (GitHub)</a></span></span></li>
    </ul>
</td>
</tr>
</table>

## <a name="create-an-image"></a><span data-ttu-id="53147-117">画像を作成する</span><span class="sxs-lookup"><span data-stu-id="53147-117">Create an image</span></span>

### <a name="image"></a><span data-ttu-id="53147-118">イメージ</span><span class="sxs-lookup"><span data-stu-id="53147-118">Image</span></span>
<span data-ttu-id="53147-119">[Image](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Image) オブジェクトを使ってイメージを作成する方法を次の例に示します。</span><span class="sxs-lookup"><span data-stu-id="53147-119">This example shows how to create an image by using the [Image](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Image) object.</span></span>


```XAML
<Image Width="200" Source="sunset.jpg" />
```

<span data-ttu-id="53147-120">次に示すのは、レンダリングされた Image オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="53147-120">Here's the rendered Image object.</span></span>

![画像要素の例](images/Image_Licorice.jpg)

<span data-ttu-id="53147-122">この例の [Source](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.image.source) プロパティは、表示する画像がある場所を指定します。</span><span class="sxs-lookup"><span data-stu-id="53147-122">In this example, the [Source](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.image.source) property specifies the location of the image that you want to display.</span></span> <span data-ttu-id="53147-123">絶対 URL を指定することで、ソースを設定することができます (たとえば、 http://contoso.com/myPicture.jpg)アプリ パッケージの構造体に対する相対的な URL を指定することで。</span><span class="sxs-lookup"><span data-stu-id="53147-123">You can set the Source by specifying an absolute URL (for example, http://contoso.com/myPicture.jpg) or by specifying a URL that is relative to your app packaging structure.</span></span> <span data-ttu-id="53147-124">この例では、プロジェクトのルート フォルダーに "licorice.jpg" 画像ファイルを入れ、この画像ファイルをコンテンツとして含めるプロジェクト設定を宣言しています。</span><span class="sxs-lookup"><span data-stu-id="53147-124">For our example, we put the "licorice.jpg" image file in the root folder of our project and declare project settings that include the image file as content.</span></span>

### <a name="imagebrush"></a><span data-ttu-id="53147-125">ImageBrush</span><span class="sxs-lookup"><span data-stu-id="53147-125">ImageBrush</span></span>

<span data-ttu-id="53147-126">[ImageBrush](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.ImageBrush) オブジェクトを使うと、[Brush](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Brush) オブジェクトを受け付ける領域を、画像を使ってペイントできます。</span><span class="sxs-lookup"><span data-stu-id="53147-126">With the [ImageBrush](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.ImageBrush) object, you can use an image to paint an area that takes a [Brush](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Brush) object.</span></span> <span data-ttu-id="53147-127">たとえば、[Ellipse](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Shapes.Ellipse) の [Fill](https://docs.microsoft.com/uwp/api/windows.ui.xaml.shapes.shape.fill) プロパティまたは [Canvas](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Canvas) の [Background](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.control.background) プロパティの値に ImageBrush を使うことができます。</span><span class="sxs-lookup"><span data-stu-id="53147-127">For example, you can use an ImageBrush for the value of the [Fill](https://docs.microsoft.com/uwp/api/windows.ui.xaml.shapes.shape.fill) property of an [Ellipse](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Shapes.Ellipse) or the [Background](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.control.background) property of a [Canvas](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Canvas).</span></span>

<span data-ttu-id="53147-128">次の例は、ImageBrush を使って Ellipse をペイントする方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="53147-128">The next example shows how to use an ImageBrush to paint an Ellipse.</span></span>

```XAML
<Ellipse Height="200" Width="300">
   <Ellipse.Fill>
     <ImageBrush ImageSource="sunset.jpg" />
   </Ellipse.Fill>
</Ellipse>
```

<span data-ttu-id="53147-129">次に示すのは、ImageBrush でペイントされた Ellipse です。</span><span class="sxs-lookup"><span data-stu-id="53147-129">Here's the Ellipse painted by the ImageBrush.</span></span>

![ImageBrush でペイントされた Ellipse (楕円)。](images/Image_ImageBrush_Ellipse.jpg)

### <a name="stretch-an-image"></a><span data-ttu-id="53147-131">画像を拡大する</span><span class="sxs-lookup"><span data-stu-id="53147-131">Stretch an image</span></span>

<span data-ttu-id="53147-132">**Image** の [Width](https://docs.microsoft.com/uwp/api/windows.ui.xaml.frameworkelement.width) 値または [Height](https://docs.microsoft.com/uwp/api/windows.ui.xaml.frameworkelement.height) 値を設定しないと、**Source** で指定した画像の寸法で表示されます。</span><span class="sxs-lookup"><span data-stu-id="53147-132">If you don't set the [Width](https://docs.microsoft.com/uwp/api/windows.ui.xaml.frameworkelement.width) or [Height](https://docs.microsoft.com/uwp/api/windows.ui.xaml.frameworkelement.height) values of an **Image**, it is displayed with the dimensions of the image specified by the **Source**.</span></span> <span data-ttu-id="53147-133">**Width** と **Height** を設定すると、画像を表示する領域を囲む四角形が作成されます。</span><span class="sxs-lookup"><span data-stu-id="53147-133">Setting the **Width** and **Height** creates a containing rectangular area in which the image is displayed.</span></span> <span data-ttu-id="53147-134">この囲まれた領域に画像を描く方法は、[Stretch](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.image.stretch) プロパティを使って指定できます。</span><span class="sxs-lookup"><span data-stu-id="53147-134">You can specify how the image fills this containing area by using the [Stretch](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.image.stretch) property.</span></span> <span data-ttu-id="53147-135">Stretch プロパティには、[Stretch](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Stretch) 列挙体で定義されている次の値を指定します。</span><span class="sxs-lookup"><span data-stu-id="53147-135">The Stretch property accepts these values, which the [Stretch](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Stretch) enumeration defines:</span></span>

-   <span data-ttu-id="53147-136">**[なし]** :イメージは、出力サイズに拡張しません。</span><span class="sxs-lookup"><span data-stu-id="53147-136">**None**: The image doesn't stretch to fill the output dimensions.</span></span> <span data-ttu-id="53147-137">この Stretch の設定には注意してください。囲まれた領域よりもソース画像が大きいと、画像はクリップされます。ユーザーは意図的な [Clip](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement.clip) で行うような制御をビューポートに対して行うことができないため、通常このことは望ましくありません。</span><span class="sxs-lookup"><span data-stu-id="53147-137">Be careful with this Stretch setting: if the source image is larger than the containing area, your image will be clipped, and this usually isn't desirable because you don't have any control over the viewport like you do with a deliberate [Clip](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement.clip).</span></span>
-   <span data-ttu-id="53147-138">**Uniform**:イメージは、出力サイズに合わせてスケーリングします。</span><span class="sxs-lookup"><span data-stu-id="53147-138">**Uniform**: The image is scaled to fit the output dimensions.</span></span> <span data-ttu-id="53147-139">ただし、コンテンツの縦横比は保たれます。</span><span class="sxs-lookup"><span data-stu-id="53147-139">But the aspect ratio of the content is preserved.</span></span> <span data-ttu-id="53147-140">これが既定値です。</span><span class="sxs-lookup"><span data-stu-id="53147-140">This is the default value.</span></span>
-   <span data-ttu-id="53147-141">**UniformToFill**:イメージは、出力領域を塗りつぶしますが元の縦横比は維持されますが、完全にするためにスケーリングします。</span><span class="sxs-lookup"><span data-stu-id="53147-141">**UniformToFill**: The image is scaled so that it completely fills the output area but preserves its original aspect ratio.</span></span>
-   <span data-ttu-id="53147-142">**入力**:イメージは、出力サイズに合わせてスケーリングします。</span><span class="sxs-lookup"><span data-stu-id="53147-142">**Fill**: The image is scaled to fit the output dimensions.</span></span> <span data-ttu-id="53147-143">コンテンツの高さと幅は個々に拡大されるので、元の画像の縦横比は保たれません。</span><span class="sxs-lookup"><span data-stu-id="53147-143">Because the content's height and width are scaled independently, the original aspect ratio of the image might not be preserved.</span></span> <span data-ttu-id="53147-144">つまり、出力領域を完全に塗りつぶすために、画像がゆがむことがあります。</span><span class="sxs-lookup"><span data-stu-id="53147-144">That is, the image might be distorted to completely fill the output area.</span></span>

![ストレッチ設定の例。](images/Image_Stretch.jpg)

### <a name="crop-an-image"></a><span data-ttu-id="53147-146">画像をトリミングする</span><span class="sxs-lookup"><span data-stu-id="53147-146">Crop an image</span></span>

<span data-ttu-id="53147-147">[Clip](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement.clip) プロパティを使うと、画像出力から一定の領域をクリップできます。</span><span class="sxs-lookup"><span data-stu-id="53147-147">You can use the [Clip](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement.clip) property to clip an area from the image output.</span></span> <span data-ttu-id="53147-148">Clip プロパティを [Geometry](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Geometry) に設定します。</span><span class="sxs-lookup"><span data-stu-id="53147-148">You set the Clip property to a [Geometry](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Geometry).</span></span> <span data-ttu-id="53147-149">現在、四角形以外のクリップはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="53147-149">Currently, non-rectangular clipping is not supported.</span></span>

<span data-ttu-id="53147-150">画像のクリップ領域として [RectangleGeometry](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.RectangleGeometry) を使う方法を次の例に示します。</span><span class="sxs-lookup"><span data-stu-id="53147-150">The next example shows how to use a [RectangleGeometry](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.RectangleGeometry) as the clip region for an image.</span></span> <span data-ttu-id="53147-151">この例では、高さ 200 の **Image** オブジェクトを定義します。</span><span class="sxs-lookup"><span data-stu-id="53147-151">In this example, we define an **Image** object with a height of 200.</span></span> <span data-ttu-id="53147-152">**RectangleGeometry** は、表示される画像の領域に長方形を定義します。</span><span class="sxs-lookup"><span data-stu-id="53147-152">A **RectangleGeometry** defines a rectangle for the area of the image that will be displayed.</span></span> <span data-ttu-id="53147-153">[Rect](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.rectanglegeometry.rect) プロパティは "25,25,100,150" に設定されています。これは、四角形が "25,25" の位置から始まり、幅 100、高さ 150 になることを定義しています。</span><span class="sxs-lookup"><span data-stu-id="53147-153">The [Rect](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.rectanglegeometry.rect) property is set to "25,25,100,150", which defines a rectangle starting at position "25,25" with a width of 100 and a height of 150.</span></span> <span data-ttu-id="53147-154">この長方形の領域の内部にだけ、画像が表示されます。</span><span class="sxs-lookup"><span data-stu-id="53147-154">Only the part of the image that is within the area of the rectangle is displayed.</span></span>

```xaml
<Image Source="sunset.jpg" Height="200">
    <Image.Clip>
        <RectangleGeometry Rect="25,25,100,150" />
    </Image.Clip>
</Image>
```

<span data-ttu-id="53147-155">黒い背景の上にクリップされた画像を次に示します。</span><span class="sxs-lookup"><span data-stu-id="53147-155">Here's the clipped image on a black background.</span></span>

![RectangleGeometry によってトリミングされた Image オブジェクト。](images/Image_Cropped.jpg)

### <a name="apply-an-opacity"></a><span data-ttu-id="53147-157">不透明度を適用する</span><span class="sxs-lookup"><span data-stu-id="53147-157">Apply an opacity</span></span>

<span data-ttu-id="53147-158">画像が半透明でレンダリングされるように、画像に [Opacity](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement.opacity) を適用することができます。</span><span class="sxs-lookup"><span data-stu-id="53147-158">You can apply an [Opacity](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement.opacity) to an image so that the image is rendered semi-translucent.</span></span> <span data-ttu-id="53147-159">不透明度の値は、0.0 (完全に透明) ～ 1.0 (完全に不透明) です。</span><span class="sxs-lookup"><span data-stu-id="53147-159">The opacity values are from 0.0 to 1.0 where 1.0 is fully opaque and 0.0 is fully transparent.</span></span> <span data-ttu-id="53147-160">不透明度 0.5 を Image に適用する方法を次の例に示します。</span><span class="sxs-lookup"><span data-stu-id="53147-160">This example shows how to apply an opacity of 0.5 to an Image.</span></span>

```xaml
<Image Height="200" Source="sunset.jpg" Opacity="0.5" />
```

<span data-ttu-id="53147-161">次に示すのは、不透明度 0.5 と黒い背景でレンダリングされ、部分的に不透明になった画像です。</span><span class="sxs-lookup"><span data-stu-id="53147-161">Here's the rendered image with an opacity of 0.5 and a black background showing through the partial opacity.</span></span>

![不透明度 0.5 の Image オブジェクト。](images/Image_Opacity.jpg)

### <a name="image-file-formats"></a><span data-ttu-id="53147-163">画像ファイルの形式</span><span class="sxs-lookup"><span data-stu-id="53147-163">Image file formats</span></span>

<span data-ttu-id="53147-164">**Image** と **ImageBrush** は、次の画像ファイル形式を表示できます。</span><span class="sxs-lookup"><span data-stu-id="53147-164">**Image** and **ImageBrush** can display these image file formats:</span></span>

-   <span data-ttu-id="53147-165">Joint Photographic Experts Group (JPEG)</span><span class="sxs-lookup"><span data-stu-id="53147-165">Joint Photographic Experts Group (JPEG)</span></span>
-   <span data-ttu-id="53147-166">ポータブル ネットワーク グラフィックス (PNG)</span><span class="sxs-lookup"><span data-stu-id="53147-166">Portable Network Graphics (PNG)</span></span>
-   <span data-ttu-id="53147-167">ビットマップ (BMP)</span><span class="sxs-lookup"><span data-stu-id="53147-167">bitmap (BMP)</span></span>
-   <span data-ttu-id="53147-168">グラフィックス交換形式 (GIF)</span><span class="sxs-lookup"><span data-stu-id="53147-168">Graphics Interchange Format (GIF)</span></span>
-   <span data-ttu-id="53147-169">Tagged Image File Format (TIFF)</span><span class="sxs-lookup"><span data-stu-id="53147-169">Tagged Image File Format (TIFF)</span></span>
-   <span data-ttu-id="53147-170">JPEG XR</span><span class="sxs-lookup"><span data-stu-id="53147-170">JPEG XR</span></span>
-   <span data-ttu-id="53147-171">アイコン (ICO)</span><span class="sxs-lookup"><span data-stu-id="53147-171">icons (ICO)</span></span>

<span data-ttu-id="53147-172">[Image](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Image)、[BitmapImage](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.BitmapImage)、[BitmapSource](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.BitmapSource) 用の API には、メディア形式のエンコードとデコードを行う専用のメソッドは用意されていません。</span><span class="sxs-lookup"><span data-stu-id="53147-172">The APIs for [Image](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Image), [BitmapImage](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.BitmapImage) and [BitmapSource](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.BitmapSource) don't include any dedicated methods for encoding and decoding of media formats.</span></span> <span data-ttu-id="53147-173">エンコード操作とデコード操作はすべてビルトインであり、せいぜいエンコードまたはデコードの局面が読み込みイベント用のイベント データの一部として現れる程度です。</span><span class="sxs-lookup"><span data-stu-id="53147-173">All of the encode and decode operations are built-in, and at most will surface aspects of encode or decode as part of event data for load events.</span></span> <span data-ttu-id="53147-174">アプリが画像の変換または操作を行うため、画像のエンコードまたはデコードに関連する特別の作業が必要となったときは、[Windows.Graphics.Imaging](https://docs.microsoft.com/uwp/api/Windows.Graphics.Imaging) 名前空間に用意されている API を使ってください。</span><span class="sxs-lookup"><span data-stu-id="53147-174">If you want to do any special work with image encode or decode, which you might use if your app is doing image conversions or manipulation, you should use the APIs that are available in the [Windows.Graphics.Imaging](https://docs.microsoft.com/uwp/api/Windows.Graphics.Imaging) namespace.</span></span> <span data-ttu-id="53147-175">これらの API は、Windows の Windows Imaging Component (WIC) でもサポートされます。</span><span class="sxs-lookup"><span data-stu-id="53147-175">These APIs are also supported by the Windows Imaging Component (WIC) in Windows.</span></span>

<span data-ttu-id="53147-176">Windows 10 バージョン 1607 からは、**Image** 要素で、アニメーション GIF がサポートされるようになりました。</span><span class="sxs-lookup"><span data-stu-id="53147-176">Starting in Windows 10, version 1607, the **Image** element supports animated GIF images.</span></span> <span data-ttu-id="53147-177">**BitmapImage** を画像の **Source** として使用する場合、BitmapImage API を利用してアニメーション GIF 画像の再生を制御できます。</span><span class="sxs-lookup"><span data-stu-id="53147-177">When you use a **BitmapImage** as the image **Source**, you can access BitmapImage APIs to control playback of the animated GIF image.</span></span> <span data-ttu-id="53147-178">詳しくは、[BitmapImage](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.BitmapImage) クラスのページの「解説」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="53147-178">For more info, see the Remarks on the [BitmapImage](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.BitmapImage) class page.</span></span>

> <span data-ttu-id="53147-179">**注**&nbsp;&nbsp;アニメーション GIF のサポートは、アプリが Windows 10 バージョン 1607 と互換性があり、バージョン 1607 (以降) で実行されている場合に有効です。</span><span class="sxs-lookup"><span data-stu-id="53147-179">**Note**&nbsp;&nbsp;Animated GIF support is available when your app is compiled for Windows 10, version 1607 and running on version 1607 (or later).</span></span> <span data-ttu-id="53147-180">アプリがそれ以前のバージョン向けにコンパイルされているか、それらのバージョンで実行されている場合、GIF の最初のフレームは表示されますが、アニメーション効果は得られません。</span><span class="sxs-lookup"><span data-stu-id="53147-180">When your app is compiled for or runs on previous versions, the first frame of the GIF is shown, but it is not animated.</span></span>

<span data-ttu-id="53147-181">アプリ リソースについて、およびアプリにイメージ ソースをパッケージ化する方法について詳しくは、「[アプリ リソースの定義](https://docs.microsoft.com/previous-versions/windows/apps/hh965321(v=win.10))」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="53147-181">For more info about app resources and how to package image sources in an app, see [Defining app resources](https://docs.microsoft.com/previous-versions/windows/apps/hh965321(v=win.10)).</span></span>

### <a name="writeablebitmap"></a><span data-ttu-id="53147-182">WriteableBitmap</span><span class="sxs-lookup"><span data-stu-id="53147-182">WriteableBitmap</span></span>

<span data-ttu-id="53147-183">[WriteableBitmap](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.WriteableBitmap) は、WIC からの基本的なファイルに基づくデコードを使わない、修正可能な [BitmapSource](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.BitmapSource) を提供します。</span><span class="sxs-lookup"><span data-stu-id="53147-183">A [WriteableBitmap](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.WriteableBitmap) provides a [BitmapSource](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.BitmapSource) that can be modified and that doesn't use the basic file-based decoding from the WIC.</span></span> <span data-ttu-id="53147-184">画像を動的に変更し、更新後の画像を再レンダリングできます。</span><span class="sxs-lookup"><span data-stu-id="53147-184">You can alter images dynamically and re-render the updated image.</span></span> <span data-ttu-id="53147-185">**WriteableBitmap** のバッファーの内容を定義するには、[PixelBuffer](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imaging.writeablebitmap.pixelbuffer) プロパティを使ってバッファーにアクセスし、ストリームまたは言語固有のバッファーの種類を使って入力します。</span><span class="sxs-lookup"><span data-stu-id="53147-185">To define the buffer content of a **WriteableBitmap**, use the [PixelBuffer](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imaging.writeablebitmap.pixelbuffer) property to access the buffer and use a stream or language-specific buffer type to fill it.</span></span> <span data-ttu-id="53147-186">コード例については、「[WriteableBitmap](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.WriteableBitmap)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="53147-186">For example code, see [WriteableBitmap](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.WriteableBitmap).</span></span>

### <a name="rendertargetbitmap"></a><span data-ttu-id="53147-187">RenderTargetBitmap</span><span class="sxs-lookup"><span data-stu-id="53147-187">RenderTargetBitmap</span></span>

<span data-ttu-id="53147-188">[RenderTargetBitmap](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.RenderTargetBitmap) クラスは、実行中のアプリから XAML UI ツリーをキャプチャして、ビットマップ画像ソースを表現することができます。</span><span class="sxs-lookup"><span data-stu-id="53147-188">The [RenderTargetBitmap](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.RenderTargetBitmap) class can capture the XAML UI tree from a running app, and then represents a bitmap image source.</span></span> <span data-ttu-id="53147-189">キャプチャした画像ソースは、アプリ内の他の部分に適用したり、リソース (つまり、ユーザーによって作成されたアプリ データ) として保存するなど、さまざまなシナリオに利用することができます。</span><span class="sxs-lookup"><span data-stu-id="53147-189">After capture, that image source can be applied to other parts of the app, saved as a resource or app data by the user, or used for other scenarios.</span></span> <span data-ttu-id="53147-190">特にお勧めする用途は、実行時における XAML ページのサムネイルをナビゲーション手段として利用することです。たとえば、[Hub](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Hub) コントロールから画像形式のリンクを提供することができます。</span><span class="sxs-lookup"><span data-stu-id="53147-190">One particularly useful scenario is creating a runtime thumbnail of a XAML page for a navigation scheme, such as providing an image link from a [Hub](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Hub) control.</span></span> <span data-ttu-id="53147-191">キャプチャされた画像に表示されるコンテンツに関して、**RenderTargetBitmap** にはいくつか制限があります。</span><span class="sxs-lookup"><span data-stu-id="53147-191">**RenderTargetBitmap** does have some limitations on the content that will appear in the captured image.</span></span> <span data-ttu-id="53147-192">詳しくは、[RenderTargetBitmap](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.RenderTargetBitmap) の API リファレンス トピックをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="53147-192">For more info, see the API reference topic for [RenderTargetBitmap](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.RenderTargetBitmap).</span></span>

### <a name="image-sources-and-scaling"></a><span data-ttu-id="53147-193">画像ソースとスケーリング</span><span class="sxs-lookup"><span data-stu-id="53147-193">Image sources and scaling</span></span>

<span data-ttu-id="53147-194">画像ソースは、Windows がスケールするときにアプリで適切に表示されるように、複数の推奨サイズで作る必要があります。</span><span class="sxs-lookup"><span data-stu-id="53147-194">You should create your image sources at several recommended sizes, to ensure that your app looks great when Windows scales it.</span></span> <span data-ttu-id="53147-195">**Image** の **Source** を指定する際には、現在のスケーリングに対応したリソースを自動的に示す名前付け規則を利用できます。</span><span class="sxs-lookup"><span data-stu-id="53147-195">When specifying a **Source** for an **Image**, you can use a naming convention that will automatically reference the correct resource for the current scaling.</span></span> <span data-ttu-id="53147-196">名前付け規則の詳細については詳しくは、次を参照してください。[クイック スタート。ファイルまたはイメージ リソースを使用して](https://docs.microsoft.com/previous-versions/windows/apps/hh965325(v=win.10))します。</span><span class="sxs-lookup"><span data-stu-id="53147-196">For specifics of the naming convention and more info, see [Quickstart: Using file or image resources](https://docs.microsoft.com/previous-versions/windows/apps/hh965325(v=win.10)).</span></span>

<span data-ttu-id="53147-197">スケーリングの設計方法について詳しくは、「[レイアウトとスケーリングの UX ガイドライン](https://developer.microsoft.com/windows/design)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="53147-197">For more info about how to design for scaling, see [UX guidelines for layout and scaling](https://developer.microsoft.com/windows/design).</span></span>

### <a name="image-and-imagebrush-in-code"></a><span data-ttu-id="53147-198">コードを使った Image と ImageBrush</span><span class="sxs-lookup"><span data-stu-id="53147-198">Image and ImageBrush in code</span></span>

<span data-ttu-id="53147-199">コードを使うよりも、XAML を使って Image と ImageBrush 要素を指定する方が一般的です。</span><span class="sxs-lookup"><span data-stu-id="53147-199">It's typical to specify Image and ImageBrush elements using XAML rather than code.</span></span> <span data-ttu-id="53147-200">これは、これらの要素が XAML UI 定義の一部としてのデザイン ツールの出力結果である場合が多いためです。</span><span class="sxs-lookup"><span data-stu-id="53147-200">This is because these elements are often the output of design tools as part of a XAML UI definition.</span></span>

<span data-ttu-id="53147-201">コードを使って Image または ImageBrush を定義する場合は、既定のコンストラクターを使い、次に、関連するソースのプロパティ ([Image.Source](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.image.source) と[ImageBrush.ImageSource](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imagebrush.imagesource)) を設定します。</span><span class="sxs-lookup"><span data-stu-id="53147-201">If you define an Image or ImageBrush using code, use the default constructors, then set the relevant source property ([Image.Source](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.image.source) or [ImageBrush.ImageSource](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imagebrush.imagesource)).</span></span> <span data-ttu-id="53147-202">ソースのプロパティは、コードを使って設定する場合、[BitmapImage](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.BitmapImage) (URI ではない) を必要と使用します。</span><span class="sxs-lookup"><span data-stu-id="53147-202">The source properties require a [BitmapImage](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.Imaging.BitmapImage) (not a URI) when you set them using code.</span></span> <span data-ttu-id="53147-203">ソースがストリームである場合は、[SetSourceAsync](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imaging.bitmapsource.setsourceasync) メソッドを使って値を初期化します。</span><span class="sxs-lookup"><span data-stu-id="53147-203">If your source is a stream, use the [SetSourceAsync](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imaging.bitmapsource.setsourceasync) method to initialize the value.</span></span> <span data-ttu-id="53147-204">ソースが、**ms-appx** スキームまたは **ms-resource** スキームを使うアプリ内のコンテンツを含む URI である場合は、URI を受け取る [BitmapImage](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imaging.bitmapimage.) コンストラクターを使います。</span><span class="sxs-lookup"><span data-stu-id="53147-204">If your source is a URI, which includes content in your app that uses the **ms-appx** or **ms-resource** schemes, use the [BitmapImage](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imaging.bitmapimage.) constructor that takes a URI.</span></span> <span data-ttu-id="53147-205">画像ソースが使えるようになるまで代替コンテンツを表示することが必要であるなど、画像ソースの取得やデコードについてタイミングの問題がある場合は、[ImageOpened](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imaging.bitmapimage.imageopened) イベントを処理することも検討してください。</span><span class="sxs-lookup"><span data-stu-id="53147-205">You might also consider handling the [ImageOpened](https://docs.microsoft.com/uwp/api/windows.ui.xaml.media.imaging.bitmapimage.imageopened) event if there are any timing issues with retrieving or decoding the image source, where you might need alternate content to display until the image source is available.</span></span> <span data-ttu-id="53147-206">コードの例については、[XAML 画像のサンプル](https://go.microsoft.com/fwlink/p/?linkid=238575)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="53147-206">For example code, see [XAML images sample](https://go.microsoft.com/fwlink/p/?linkid=238575).</span></span>

> [!NOTE]
> <span data-ttu-id="53147-207">コードを利用して画像を確立すると、自動処理を使って、現在のスケール修飾子とカルチャ修飾子で非修飾リソースにアクセスしたり、カルチャとスケールの修飾子で [ResourceManager](https://docs.microsoft.com/uwp/api/Windows.ApplicationModel.Resources.Core.ResourceManager) と [ResourceMap](https://docs.microsoft.com/uwp/api/Windows.ApplicationModel.Resources.Core.ResourceMap) を使って、リソースを直接取得したりできます。</span><span class="sxs-lookup"><span data-stu-id="53147-207">If you establish images using code, you can use automatic handling for accessing unqualified resources with current scale and culture qualifiers, or you can use [ResourceManager](https://docs.microsoft.com/uwp/api/Windows.ApplicationModel.Resources.Core.ResourceManager) and [ResourceMap](https://docs.microsoft.com/uwp/api/Windows.ApplicationModel.Resources.Core.ResourceMap) with qualifiers for culture and scale to obtain the resources directly.</span></span> <span data-ttu-id="53147-208">詳しくは、「[リソース管理システム](https://docs.microsoft.com/previous-versions/windows/apps/jj552947(v=win.10))」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="53147-208">For more info see [Resource management system](https://docs.microsoft.com/previous-versions/windows/apps/jj552947(v=win.10)).</span></span>

## <a name="get-the-sample-code"></a><span data-ttu-id="53147-209">サンプル コードを入手する</span><span class="sxs-lookup"><span data-stu-id="53147-209">Get the sample code</span></span>

- <span data-ttu-id="53147-210">[XAML コントロール ギャラリー サンプル](https://github.com/Microsoft/Xaml-Controls-Gallery) - インタラクティブな形で XAML コントロールのすべてを参照できます。</span><span class="sxs-lookup"><span data-stu-id="53147-210">[XAML Controls Gallery sample](https://github.com/Microsoft/Xaml-Controls-Gallery) - See all the XAML controls in an interactive format.</span></span>

## <a name="related-articles"></a><span data-ttu-id="53147-211">関連記事</span><span class="sxs-lookup"><span data-stu-id="53147-211">Related articles</span></span>

-   [<span data-ttu-id="53147-212">オーディオ、ビデオ、およびカメラ</span><span class="sxs-lookup"><span data-stu-id="53147-212">Audio, video, and camera</span></span>](https://docs.microsoft.com/windows/uwp/audio-video-camera/index)
-   [<span data-ttu-id="53147-213">Image クラス</span><span class="sxs-lookup"><span data-stu-id="53147-213">Image class</span></span>](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Image)
-   [<span data-ttu-id="53147-214">ImageBrush クラス</span><span class="sxs-lookup"><span data-stu-id="53147-214">ImageBrush class</span></span>](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Media.ImageBrush)