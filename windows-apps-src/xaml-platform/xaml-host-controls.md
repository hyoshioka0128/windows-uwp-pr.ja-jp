---
author: mcleanbyron
description: このガイドは、WPF および Windows フォーム アプリケーションで直接 Fluent ベースの UWP UI を作成するのに役立ちます。
title: デスクトップ アプリケーションで UWP コントロール
ms.author: mcleans
ms.date: 09/21/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp, windows forms, wpf
keywords: windows 10, uwp, windows, フォーム, wpf
ms.localizationpriority: medium
ms.openlocfilehash: b9757466502283c673c7b2106b4a7775be412faf
ms.sourcegitcommit: 106aec1e59ba41aae2ac00f909b81bf7121a6ef1
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/15/2018
ms.locfileid: "4610250"
---
# <a name="uwp-controls-in-desktop-applications"></a><span data-ttu-id="61457-104">デスクトップ アプリケーションで UWP コントロール</span><span class="sxs-lookup"><span data-stu-id="61457-104">UWP controls in desktop applications</span></span>

> [!NOTE]
> <span data-ttu-id="61457-105">Api やこの記事で説明するコントロールは、開発者プレビューとして現在利用可能ながします。</span><span class="sxs-lookup"><span data-stu-id="61457-105">The APIs and controls discussed in this article are currently available as a developer preview.</span></span> <span data-ttu-id="61457-106">それらプロトタイプ コードで今すぐ試すをお勧めしますがない使用することに運用コードでこの時点でお勧めしますしないでください。</span><span class="sxs-lookup"><span data-stu-id="61457-106">Although we encourage you to try them out in your own prototype code now, we do not recommend that you use them in production code at this time.</span></span> <span data-ttu-id="61457-107">これらの Api とコントロールは引き続き成熟して、今後の Windows リリースに安定します。</span><span class="sxs-lookup"><span data-stu-id="61457-107">These APIs and controls will continue to mature and stabilize in future Windows releases.</span></span> <span data-ttu-id="61457-108">ここに記載された情報について、Microsoft は明示または黙示を問わずいかなる保証をするものでもありません。</span><span class="sxs-lookup"><span data-stu-id="61457-108">Microsoft makes no warranties, express or implied, with respect to the information provided here.</span></span>

<span data-ttu-id="61457-109">これで、Windows 10 を使用すると、外観、や、既存のデスクトップ アプリケーション、最新の Windows 10 の UI 機能のみで利用可能な UWP コントロールの機能を高めることができるように、UWP 以外のデスクトップ アプリケーションで UWP コントロールを使用できます。</span><span class="sxs-lookup"><span data-stu-id="61457-109">Windows 10 now enables you to use UWP controls in non-UWP desktop applications so that you can enhance the look, feel, and functionality of your existing desktop applications with the latest Windows 10 UI features that are only available via UWP controls.</span></span> <span data-ttu-id="61457-110">つまり、 [Windows Ink](../design/input/pen-and-stylus-interactions.md)と、既存の WPF、Windows フォーム、および C++ Win32 アプリケーションで、 [Fluent Design System](../design/fluent-design-system/index.md)をサポートするコントロールなどの UWP 機能を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="61457-110">This means that you can use UWP features such as [Windows Ink](../design/input/pen-and-stylus-interactions.md) and controls that support the [Fluent Design System](../design/fluent-design-system/index.md) in your existing WPF, Windows Forms, and C++ Win32 applications.</span></span> <span data-ttu-id="61457-111">このシナリオは、 *XAML 諸島*と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="61457-111">This developer scenario is sometimes called *XAML islands*.</span></span>

<span data-ttu-id="61457-112">テクノロジやを使用しているフレームワークによって、WPF、Windows フォーム、および C++ Win32 アプリケーションで XAML 諸島を使用する方法をいくつか用意されています。</span><span class="sxs-lookup"><span data-stu-id="61457-112">We provide several ways to use XAML islands in your WPF, Windows Forms, and C++ Win32 applications, depending on the technology or framework you are using.</span></span>

## <a name="wrapped-controls"></a><span data-ttu-id="61457-113">ラップされたコントロール</span><span class="sxs-lookup"><span data-stu-id="61457-113">Wrapped controls</span></span>

<span data-ttu-id="61457-114">WPF および Windows フォーム アプリケーションでは、 [Windows コミュニティ ツールキット](https://docs.microsoft.com/windows/uwpcommunitytoolkit/)でラップされた UWP コントロールの選択を使用できます。</span><span class="sxs-lookup"><span data-stu-id="61457-114">WPF and Windows Forms applications can use a selection of wrapped UWP controls in the [Windows Community Toolkit](https://docs.microsoft.com/windows/uwpcommunitytoolkit/).</span></span> <span data-ttu-id="61457-115">これらのコントロールといいます*コントロールをラップ*インターフェイスと特定の UWP コントロールの機能をラップするためです。</span><span class="sxs-lookup"><span data-stu-id="61457-115">We refer to these controls as *wrapped controls* because they wrap the interface and functionality of a specific UWP control.</span></span> <span data-ttu-id="61457-116">直接 WPF または Windows フォーム プロジェクトのデザイン サーフェイスにこれらのコントロールを追加でき、デザイナーで、他の WPF または Windows フォームなどのコントロールと同様に使用することができます。</span><span class="sxs-lookup"><span data-stu-id="61457-116">You can add these controls directly to the design surface of your WPF or Windows Forms project and then use them like any other WPF or Windows Forms control in your designer.</span></span>

> [!NOTE]
> <span data-ttu-id="61457-117">C++ Win32 デスクトップ アプリケーションにラップされたコントロールが利用できません。</span><span class="sxs-lookup"><span data-stu-id="61457-117">Wrapped controls are not available for C++ Win32 desktop applications.</span></span> <span data-ttu-id="61457-118">この種類のアプリケーションでは、 [API をホストしている UWP XAML](#uwp-xaml-hosting-api)を使う必要があります。</span><span class="sxs-lookup"><span data-stu-id="61457-118">These types of applications must use the [UWP XAML hosting API](#uwp-xaml-hosting-api).</span></span>

<span data-ttu-id="61457-119">次のラップされた UWP コントロールは、WPF および Windows フォーム アプリケーションでは現在使用します。</span><span class="sxs-lookup"><span data-stu-id="61457-119">The following wrapped UWP controls are currently available for WPF and Windows Forms applications.</span></span> <span data-ttu-id="61457-120">さらにラップされた UWP のコントロールは、Windows コミュニティ ツールキットの今後のリリースの予定です。</span><span class="sxs-lookup"><span data-stu-id="61457-120">More UWP wrapped controls are planned for future releases of the Windows Community Toolkit.</span></span>

| <span data-ttu-id="61457-121">コントロール</span><span class="sxs-lookup"><span data-stu-id="61457-121">Control</span></span> | <span data-ttu-id="61457-122">サポートされる最小の OS</span><span class="sxs-lookup"><span data-stu-id="61457-122">Minimum supported OS</span></span> | <span data-ttu-id="61457-123">説明</span><span class="sxs-lookup"><span data-stu-id="61457-123">Description</span></span> |
|-----------------|-------------------------------|-------------|
| [<span data-ttu-id="61457-124">WebView</span><span class="sxs-lookup"><span data-stu-id="61457-124">WebView</span></span>](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/webview) | <span data-ttu-id="61457-125">Windows 10 バージョン 1803</span><span class="sxs-lookup"><span data-stu-id="61457-125">Windows 10, version 1803</span></span> | <span data-ttu-id="61457-126">Web コンテンツを表示するのにには、Microsoft Edge レンダリング エンジンを使用します。</span><span class="sxs-lookup"><span data-stu-id="61457-126">Uses the Microsoft Edge rendering engine to show web content.</span></span> |
| [<span data-ttu-id="61457-127">WebViewCompatible</span><span class="sxs-lookup"><span data-stu-id="61457-127">WebViewCompatible</span></span>](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/webviewcompatible) | <span data-ttu-id="61457-128">Windows 7</span><span class="sxs-lookup"><span data-stu-id="61457-128">Windows 7</span></span> | <span data-ttu-id="61457-129">複数の OS バージョンと互換性がある**WebView**のバージョンを提供します。</span><span class="sxs-lookup"><span data-stu-id="61457-129">Provides a version of **WebView** that is compatible with more OS versions.</span></span> <span data-ttu-id="61457-130">このコントロールは、Microsoft Edge レンダリング エンジンを Windows 10 バージョン 1803 以降で web コンテンツを表示して、Internet Explorer のレンダリング エンジンを以前のバージョンの Windows 10、Windows 上の web コンテンツを表示する使用 8.x と Windows 7 です。</span><span class="sxs-lookup"><span data-stu-id="61457-130">This control uses the Microsoft Edge rendering engine to show web content on Windows 10 version 1803 and later, and the Internet Explorer rendering engine to show web content on earlier versions of Windows 10, Windows 8.x, and Windows 7.</span></span> |
| [<span data-ttu-id="61457-131">InkCanvas</span><span class="sxs-lookup"><span data-stu-id="61457-131">InkCanvas</span></span>](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/inkcanvas)<br>[<span data-ttu-id="61457-132">InkToolbar</span><span class="sxs-lookup"><span data-stu-id="61457-132">InkToolbar</span></span>](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/inktoolbar) | <span data-ttu-id="61457-133">Windows 10 Insider Preview SDK ビルド 17709</span><span class="sxs-lookup"><span data-stu-id="61457-133">Windows 10 Insider Preview SDK build 17709</span></span> | <span data-ttu-id="61457-134">Windows フォームや WPF デスクトップ アプリケーションでの Windows Ink ベースのユーザー操作のサーフェスと関連するツールバーを提供します。</span><span class="sxs-lookup"><span data-stu-id="61457-134">Provide a surface and related toolbars for Windows Ink-based user interaction in your Windows Forms or WPF desktop application.</span></span> |
| [<span data-ttu-id="61457-135">MediaPlayerElement</span><span class="sxs-lookup"><span data-stu-id="61457-135">MediaPlayerElement</span></span>](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/mediaplayerelement) | <span data-ttu-id="61457-136">Windows 10 Insider Preview SDK ビルド 17709</span><span class="sxs-lookup"><span data-stu-id="61457-136">Windows 10 Insider Preview SDK build 17709</span></span> | <span data-ttu-id="61457-137">ストリームし、Windows フォームや WPF デスクトップ アプリケーションのビデオなどのメディア コンテンツをレンダリングするビューを埋め込みます。</span><span class="sxs-lookup"><span data-stu-id="61457-137">Embeds a view that streams and renders media content such as video in your Windows Forms or WPF desktop application.</span></span> |

## <a name="host-controls"></a><span data-ttu-id="61457-138">ホスト コントロール</span><span class="sxs-lookup"><span data-stu-id="61457-138">Host controls</span></span>

<span data-ttu-id="61457-139">利用可能なラップされたコントロールで対応できない場合、WPF および Windows フォーム アプリケーションは[WindowsXamlHost](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/windowsxamlhost)コントロールを[Windows コミュニティ ツールキット](https://docs.microsoft.com/windows/uwpcommunitytoolkit/)で使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="61457-139">For scenarios beyond those covered by the available wrapped controls, WPF and Windows Forms applications can also use the [WindowsXamlHost](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/windowsxamlhost) control in the [Windows Community Toolkit](https://docs.microsoft.com/windows/uwpcommunitytoolkit/).</span></span> <span data-ttu-id="61457-140">このコントロールは、 [**Windows.UI.Xaml.UIElement**](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement)、Windows SDK とカスタム ユーザー コントロールによって提供されるすべての UWP コントロールを含むから派生したすべての UWP コントロールをホストできます。</span><span class="sxs-lookup"><span data-stu-id="61457-140">This control can host any UWP control that derives from [**Windows.UI.Xaml.UIElement**](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement), including any UWP control provided by the Windows SDK as well as custom user controls.</span></span> <span data-ttu-id="61457-141">このコントロールには、Windows 10 Insider Preview SDK ビルド 17709 以降のリリースがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="61457-141">This control supports Windows 10 Insider Preview SDK build 17709 and later releases.</span></span>

> [!NOTE]
> <span data-ttu-id="61457-142">C++ Win32 デスクトップ アプリケーションのホスト コントロールが利用できません。</span><span class="sxs-lookup"><span data-stu-id="61457-142">Host controls are not available for C++ Win32 desktop applications.</span></span> <span data-ttu-id="61457-143">この種類のアプリケーションでは、 [API をホストしている UWP XAML](#uwp-xaml-hosting-api)を使う必要があります。</span><span class="sxs-lookup"><span data-stu-id="61457-143">These types of applications must use the [UWP XAML hosting API](#uwp-xaml-hosting-api).</span></span>

## <a name="uwp-xaml-hosting-api"></a><span data-ttu-id="61457-144">UWP XAML API をホストしています。</span><span class="sxs-lookup"><span data-stu-id="61457-144">UWP XAML hosting API</span></span>

<span data-ttu-id="61457-145">C++ Win32 アプリケーションがある場合は、任意の UI 要素を関連付けられているウィンドウ ハンドル (HWND) を持つアプリケーションで[**Windows.UI.Xaml.UIElement**](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement)から派生したすべての UWP コントロールをホストする*API をホストしている UWP XAML*を使用できます。</span><span class="sxs-lookup"><span data-stu-id="61457-145">If you have a C++ Win32 application, you can use the *UWP XAML hosting API* to host any UWP control that derives from [**Windows.UI.Xaml.UIElement**](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement) in any UI element in your application that has an associated window handle (HWND).</span></span> <span data-ttu-id="61457-146">この API は、Windows 10 Insider Preview SDK ビルド 17709 で導入されました。</span><span class="sxs-lookup"><span data-stu-id="61457-146">This API was introduced in Windows 10 Insider Preview SDK build 17709.</span></span> <span data-ttu-id="61457-147">この API の使用について詳しくは、[デスクトップ アプリケーションでの API をホストしている XAML を使って](using-the-xaml-hosting-api.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="61457-147">For more information about using this API, see [Using the XAML hosting API in a desktop application](using-the-xaml-hosting-api.md).</span></span>

> [!NOTE]
> <span data-ttu-id="61457-148">C++ Win32 デスクトップ アプリケーションでは、UWP コントロールをホストする API をホストしている UWP XAML を使う必要があります。</span><span class="sxs-lookup"><span data-stu-id="61457-148">C++ Win32 desktop applications must use the UWP XAML hosting API to host UWP controls.</span></span> <span data-ttu-id="61457-149">ラップされたコントロールとホスト コントロールでは、この種類のアプリケーションを利用できません。</span><span class="sxs-lookup"><span data-stu-id="61457-149">Wrapped controls and host controls are not available for these types of applications.</span></span> <span data-ttu-id="61457-150">WPF および Windows フォーム アプリケーションでは、お勧めします UWP XAML ではなく、Windows コミュニティ ツールキットでラップされたコントロールとホスト コントロールが使用して API をホストしています。</span><span class="sxs-lookup"><span data-stu-id="61457-150">For WPF and Windows Forms applications, we recommend that you use the wrapped controls and host controls in the Windows Community Toolkit instead of the UWP XAML hosting API.</span></span> <span data-ttu-id="61457-151">これらのコントロールでは、内部的に API をホストしている UWP XAML を使用し、シンプルな開発エクスペリエンスを提供します。</span><span class="sxs-lookup"><span data-stu-id="61457-151">These controls use the UWP XAML hosting API internally and provide a simpler development experience.</span></span> <span data-ttu-id="61457-152">ただし、選択した場合、WPF および Windows フォーム アプリケーションで直接 API をホストしている UWP XAML を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="61457-152">However, you can use the UWP XAML hosting API directly in WPF and Windows Forms applications if you choose.</span></span>

## <a name="architecture-overview"></a><span data-ttu-id="61457-153">アーキテクチャの概要</span><span class="sxs-lookup"><span data-stu-id="61457-153">Architecture overview</span></span>

<span data-ttu-id="61457-154">これらのコントロールがアーキテクチャ的に編成されるしくみの概要を次に示します。</span><span class="sxs-lookup"><span data-stu-id="61457-154">Here's a quick look at how these controls are organized architecturally.</span></span> <span data-ttu-id="61457-155">この図で使用される名前は変更されることがあります。</span><span class="sxs-lookup"><span data-stu-id="61457-155">The names used in this diagram are subject to change.</span></span>  

![ホスト コントロール アーキテクチャ](images/host-controls.png)

<span data-ttu-id="61457-157">この図の下部に表示されている API は、Windows SDK に付属しています。</span><span class="sxs-lookup"><span data-stu-id="61457-157">The APIs that appear at the bottom of this diagram ship with the Windows SDK.</span></span> <span data-ttu-id="61457-158">デザイナーに追加するコントロールは、Windows コミュニティ ツールキットで Nuget パッケージとしてリリースされます。</span><span class="sxs-lookup"><span data-stu-id="61457-158">The controls that you'll add to your designer ship as Nuget packages in the Windows Community Toolkit.</span></span>

<span data-ttu-id="61457-159">これらの新しいコントロールには制限事項があるため、それらを使用する前に、まだサポートされていない機能、また回避策を使用してのみ動作する機能を少し時間を取って確認してください。</span><span class="sxs-lookup"><span data-stu-id="61457-159">These new controls have limitations so before you use them, please take a moment to review what's not yet supported, and what's functional only with workarounds.</span></span>

## <a name="limitations"></a><span data-ttu-id="61457-160">制限事項</span><span class="sxs-lookup"><span data-stu-id="61457-160">Limitations</span></span>

### <a name="whats-supported"></a><span data-ttu-id="61457-161">サポートされている内容</span><span class="sxs-lookup"><span data-stu-id="61457-161">What's supported</span></span>

<span data-ttu-id="61457-162">ほとんどの場合、次の一覧で明示されていない限り、すべてがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="61457-162">For the most part, everything is supported unless explicitly called out in the list below.</span></span>

### <a name="whats-supported-only-with-workarounds"></a><span data-ttu-id="61457-163">回避策を使用した場合にのみサポートされている内容</span><span class="sxs-lookup"><span data-stu-id="61457-163">What's supported only with workarounds</span></span>

<span data-ttu-id="61457-164">:heavy_check_mark: 複数のウィンドウの内部での複数のインボックス コントロールのホスティング。</span><span class="sxs-lookup"><span data-stu-id="61457-164">:heavy_check_mark: Hosting multiple inbox controls inside of multiple windows.</span></span> <span data-ttu-id="61457-165">独自のスレッドに各ウィンドウを配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="61457-165">You'll have to place each window in its own thread.</span></span>

<span data-ttu-id="61457-166">:heavy_check_mark: ホストされたコントロールでの ``x:Bind`` の使用。</span><span class="sxs-lookup"><span data-stu-id="61457-166">:heavy_check_mark: Using ``x:Bind`` with hosted controls.</span></span> <span data-ttu-id="61457-167">.NET Standard ライブラリ内でデータ モデルを宣言する必要があります。</span><span class="sxs-lookup"><span data-stu-id="61457-167">You'll have to declare the data model in a .NET Standard library.</span></span>

<span data-ttu-id="61457-168">:heavy_check_mark: C# ベースのサードパーティのコントロール。</span><span class="sxs-lookup"><span data-stu-id="61457-168">:heavy_check_mark: C#-based third-party controls.</span></span> <span data-ttu-id="61457-169">サードパーティのコントロールへのソース コードがある場合は、それに対してコンパイルできます。</span><span class="sxs-lookup"><span data-stu-id="61457-169">If you have the source code to a third-party control, you can compile against it.</span></span>

### <a name="whats-not-yet-supported"></a><span data-ttu-id="61457-170">まだサポートされていない内容</span><span class="sxs-lookup"><span data-stu-id="61457-170">What's not yet supported</span></span>

<span data-ttu-id="61457-171">:no_entry_sign: アプリケーションおよびホストされたコントロールでシームレスに動作するアクセシビリティ ツール。</span><span class="sxs-lookup"><span data-stu-id="61457-171">:no_entry_sign: Accessibility tools that work seamlessly across the application and hosted controls.</span></span>

<span data-ttu-id="61457-172">:no_entry_sign: Windows アプリ パッケージが含まれていないアプリケーションに追加するコントロール内のローカライズされたコンテンツ。</span><span class="sxs-lookup"><span data-stu-id="61457-172">:no_entry_sign: Localized content in controls that you add to applications which don't contain a Windows app package.</span></span>

<span data-ttu-id="61457-173">: no_entry_sign: Windows アプリ パッケージが含まれていないアプリケーション内で XAML で行われたアセット参照。</span><span class="sxs-lookup"><span data-stu-id="61457-173">:no_entry_sign: Asset references made in XAML within applications that don't contain a Windows app package.</span></span>

<span data-ttu-id="61457-174">:no_entry_sign:  DPI と倍率の変更に適切に対応するコントロール。</span><span class="sxs-lookup"><span data-stu-id="61457-174">:no_entry_sign: Controls properly responding to changes in DPI and scale.</span></span>

<span data-ttu-id="61457-175">:no_entry_sign: カスタム ユーザー コントロールへの **WebView** コントロールの追加 (スレッド上、オフ スレッド、proc 外のいずれか)</span><span class="sxs-lookup"><span data-stu-id="61457-175">:no_entry_sign: Adding a **WebView** control to a custom user control, (Either on-thread, off-thread, or out of proc).</span></span>

<span data-ttu-id="61457-176">:no_entry_sign: [表示ハイライト](https://docs.microsoft.com/windows/uwp/design/style/reveal)  の Fluent 効果。</span><span class="sxs-lookup"><span data-stu-id="61457-176">:no_entry_sign: The [Reveal highlight](https://docs.microsoft.com/windows/uwp/design/style/reveal) Fluent effect.</span></span>

<span data-ttu-id="61457-177">:no_entry_sign: 入力コントロールのためのインライン インク、@Places
、@People。</span><span class="sxs-lookup"><span data-stu-id="61457-177">:no_entry_sign: Inline inking, @Places, and @People for input controls.</span></span>

<span data-ttu-id="61457-178">:no_entry_sign: ショートカット キーの割り当て。</span><span class="sxs-lookup"><span data-stu-id="61457-178">:no_entry_sign: Assigning accelerator keys.</span></span>

<span data-ttu-id="61457-179">:no_entry_sign: C++ ベースのサードパーティのコントロール。</span><span class="sxs-lookup"><span data-stu-id="61457-179">:no_entry_sign: C++-based third-party controls.</span></span>

<span data-ttu-id="61457-180">:no_entry_sign: カスタム ユーザー コントロールのホスティング。</span><span class="sxs-lookup"><span data-stu-id="61457-180">:no_entry_sign: Hosting custom user controls.</span></span>

<span data-ttu-id="61457-181">Fluent をデスクトップに導入するエクスペリエンスの向上を続けていくうえで、この一覧の項目は変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="61457-181">The items in this list will likely change as we continue to improve the experience of bringing Fluent to the desktop.</span></span>  
