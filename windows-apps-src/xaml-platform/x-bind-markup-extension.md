---
author: jwmsft
description: xBind マークアップ拡張は Binding の代わりです。 xBind では、Binding の機能のいくつかが省略されていますが、Binding よりも短い時間および少ないメモリで動作し、より適切なデバッグをサポートしています。
title: xBind マークアップ拡張
ms.assetid: 529FBEB5-E589-486F-A204-B310ACDC5C06
ms.author: jimwalk
ms.date: 02/08/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: Windows 10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 340f8e72c5015fad341810ef335dea73f77fc82f
ms.sourcegitcommit: b8c77ac8e40a27cf762328d730c121c28de5fbc4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/21/2018
ms.locfileid: "1672889"
---
# <a name="xbind-markup-extension"></a><span data-ttu-id="a4070-105">{x:Bind} マークアップ拡張</span><span class="sxs-lookup"><span data-stu-id="a4070-105">{x:Bind} markup extension</span></span>

<span data-ttu-id="a4070-106">**注**  **{x:Bind}** によりアプリでデータ バインディングを使う方法に関する一般的な情報 (および **{x:Bind}** と **{Binding}** の全体的な比較) については、「[データ バインディングの詳細](https://msdn.microsoft.com/library/windows/apps/mt210946)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-106">**Note**  For general info about using data binding in your app with **{x:Bind}** (and for an all-up comparison between **{x:Bind}** and **{Binding}**), see [Data binding in depth](https://msdn.microsoft.com/library/windows/apps/mt210946).</span></span>

<span data-ttu-id="a4070-107">Windows 10 では、**{Binding}** に代わり、**{x:Bind}** マークアップ拡張が新たに提供されています。</span><span class="sxs-lookup"><span data-stu-id="a4070-107">The **{x:Bind}** markup extension—new for Windows 10—is an alternative to **{Binding}**.</span></span> <span data-ttu-id="a4070-108">**{x:Bind}** では、**{Binding}** の機能のいくつかが省略されていますが、**{Binding}** よりも短い時間および少ないメモリで動作し、より適切なデバッグをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="a4070-108">**{x:Bind}** lacks some of the features of **{Binding}**, but it runs in less time and less memory than **{Binding}** and supports better debugging.</span></span>

<span data-ttu-id="a4070-109">XAML のコンパイル時に、**{x:Bind}** は、データ ソースのプロパティから値を取得してマークアップで指定されたプロパティに設定するコードに変換されます。</span><span class="sxs-lookup"><span data-stu-id="a4070-109">At XAML compile time, **{x:Bind}** is converted into code that will get a value from a property on a data source, and set it on the property specified in markup.</span></span> <span data-ttu-id="a4070-110">必要な場合、バインディング オブジェクトは、データ ソース プロパティの値の変化を監視し、その変化に基づいて自分自身を更新するように構成できます (`Mode="OneWay"`)。</span><span class="sxs-lookup"><span data-stu-id="a4070-110">The binding object can optionally be configured to observe changes in the value of the data source property and refresh itself based on those changes (`Mode="OneWay"`).</span></span> <span data-ttu-id="a4070-111">また、その独自の値の変化をソース プロパティにプッシュするように構成することもできます (`Mode="TwoWay"`)。</span><span class="sxs-lookup"><span data-stu-id="a4070-111">It can also optionally be configured to push changes in its own value back to the source property (`Mode="TwoWay"`).</span></span>

<span data-ttu-id="a4070-112">**{x:Bind}** と **{Binding}** によって作成されたバインディング オブジェクトは、ほとんど機能的に同等です。</span><span class="sxs-lookup"><span data-stu-id="a4070-112">The binding objects created by **{x:Bind}** and **{Binding}** are largely functionally equivalent.</span></span> <span data-ttu-id="a4070-113">ただし、**{x:Bind}** は、コンパイル時に生成される特定用途のコードを実行し、**{Binding}** は、汎用的なランタイム オブジェクト検査を実行します。</span><span class="sxs-lookup"><span data-stu-id="a4070-113">But **{x:Bind}** executes special-purpose code, which it generates at compile-time, and **{Binding}** uses general-purpose runtime object inspection.</span></span> <span data-ttu-id="a4070-114">したがって、**{x:Bind}** バインディング (多くの場合、コンパイル済みバインドと呼ばれます) はパフォーマンスが高く、コンパイル時にバインド式を検証したり、ページの部分クラスとして生成されたコード ファイル内にブレークポイントを設定し、デバッグを行ったりできます。</span><span class="sxs-lookup"><span data-stu-id="a4070-114">Consequently, **{x:Bind}** bindings (often referred-to as compiled bindings) have great performance, provide compile-time validation of your binding expressions, and support debugging by enabling you to set breakpoints in the code files that are generated as the partial class for your page.</span></span> <span data-ttu-id="a4070-115">これらのファイルは `obj` フォルダー内にあり、`<view name>.g.cs` (C# の場合) などの名前が付けられています。</span><span class="sxs-lookup"><span data-stu-id="a4070-115">These files can be found in your `obj` folder, with names like (for C#) `<view name>.g.cs`.</span></span>

> [!TIP]
> <span data-ttu-id="a4070-116">**{Binding}** の既定のモードは **OneWay** ですが、**{x:Bind}** の既定のモードは **OneTime** です。</span><span class="sxs-lookup"><span data-stu-id="a4070-116">**{x:Bind}** has a default mode of **OneTime**, unlike **{Binding}**, which has a default mode of **OneWay**.</span></span> <span data-ttu-id="a4070-117">これはパフォーマンス上の理由から選ばれました。**OneWay** を使うと、接続して変更検出を処理するために生成されるコードが多くなるためです。</span><span class="sxs-lookup"><span data-stu-id="a4070-117">This was chosen for performance reasons, as using **OneWay** causes more code to be generated to hookup and handle change detection.</span></span> <span data-ttu-id="a4070-118">OneWay または TwoWay バインディングを使うようにモードを明示的に指定することができます。</span><span class="sxs-lookup"><span data-stu-id="a4070-118">You can explicitly specify a mode to use OneWay or TwoWay binding.</span></span> <span data-ttu-id="a4070-119">[x:DefaultBindMode](x-defaultbindmode-attribute.md) を使って、マークアップ ツリーの特定のセグメントで **{x:Bind}** の既定のモードを変更することもできます。</span><span class="sxs-lookup"><span data-stu-id="a4070-119">You can also use [x:DefaultBindMode](x-defaultbindmode-attribute.md) to change the default mode for **{x:Bind}** for a specific segment of the markup tree.</span></span> <span data-ttu-id="a4070-120">指定されたモードは、バインドの一部として明示的にモードが指定されている場合を除いて、対象の要素とその子に対するすべての **{x:Bind}** 式に適用されます。</span><span class="sxs-lookup"><span data-stu-id="a4070-120">The specified mode applies to any **{x:Bind}** expressions on that element and its children, that do not explicitly specify a mode as part of the binding.</span></span>

**<span data-ttu-id="a4070-121">{x:Bind} の使い方を示すサンプル アプリ</span><span class="sxs-lookup"><span data-stu-id="a4070-121">Sample apps that demonstrate {x:Bind}</span></span>**

-   [<span data-ttu-id="a4070-122">{x:Bind} のサンプル</span><span class="sxs-lookup"><span data-stu-id="a4070-122">{x:Bind} sample</span></span>](http://go.microsoft.com/fwlink/p/?linkid=619989)
-   [<span data-ttu-id="a4070-123">QuizGame</span><span class="sxs-lookup"><span data-stu-id="a4070-123">QuizGame</span></span>](https://github.com/Microsoft/Windows-appsample-quizgame)
-   [<span data-ttu-id="a4070-124">XAML UI の基本のサンプル</span><span class="sxs-lookup"><span data-stu-id="a4070-124">XAML UI Basics sample</span></span>](http://go.microsoft.com/fwlink/p/?linkid=619992)

## <a name="xaml-attribute-usage"></a><span data-ttu-id="a4070-125">XAML 属性の使用方法</span><span class="sxs-lookup"><span data-stu-id="a4070-125">XAML attribute usage</span></span>

``` syntax
<object property="{x:Bind}" .../>
-or-
<object property="{x:Bind propertyPath}" .../>
-or-
<object property="{x:Bind bindingProperties}" .../>
-or-
<object property="{x:Bind propertyPath, bindingProperties}" .../>
```

| <span data-ttu-id="a4070-126">用語</span><span class="sxs-lookup"><span data-stu-id="a4070-126">Term</span></span> | <span data-ttu-id="a4070-127">説明</span><span class="sxs-lookup"><span data-stu-id="a4070-127">Description</span></span> |
|------|-------------|
| _<span data-ttu-id="a4070-128">propertyPath</span><span class="sxs-lookup"><span data-stu-id="a4070-128">propertyPath</span></span>_ | <span data-ttu-id="a4070-129">バインドのプロパティ パスを指定する文字列。</span><span class="sxs-lookup"><span data-stu-id="a4070-129">A string that specifies the property path for the binding.</span></span> <span data-ttu-id="a4070-130">詳しくは、以下の「[プロパティ パス](#property-path)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-130">More info is in the [Property path](#property-path) section below.</span></span> |
| _<span data-ttu-id="a4070-131">bindingProperties</span><span class="sxs-lookup"><span data-stu-id="a4070-131">bindingProperties</span></span>_ |
| <span data-ttu-id="a4070-132">_propName_=_value_\[, _propName_=_value_\]\*</span><span class="sxs-lookup"><span data-stu-id="a4070-132">_propName_=_value_\[, _propName_=_value_\]\*</span></span> | <span data-ttu-id="a4070-133">名前と値のペアの構文を使って指定する、1 つ以上のバインド プロパティ。</span><span class="sxs-lookup"><span data-stu-id="a4070-133">One or more binding properties that are specified using a name/value pair syntax.</span></span> |
| _<span data-ttu-id="a4070-134">propName</span><span class="sxs-lookup"><span data-stu-id="a4070-134">propName</span></span>_ | <span data-ttu-id="a4070-135">Binding オブジェクトで設定するプロパティの文字列名。</span><span class="sxs-lookup"><span data-stu-id="a4070-135">The string name of the property to set on the binding object.</span></span> <span data-ttu-id="a4070-136">たとえば、"Converter" です。</span><span class="sxs-lookup"><span data-stu-id="a4070-136">For example, "Converter".</span></span> |
| _<span data-ttu-id="a4070-137">value</span><span class="sxs-lookup"><span data-stu-id="a4070-137">value</span></span>_ | <span data-ttu-id="a4070-138">プロパティに設定する値。</span><span class="sxs-lookup"><span data-stu-id="a4070-138">The value to set the property to.</span></span> <span data-ttu-id="a4070-139">引数の構文は、設定されているプロパティによって異なります。</span><span class="sxs-lookup"><span data-stu-id="a4070-139">The syntax of the argument depends on the property being set.</span></span> <span data-ttu-id="a4070-140">値がそれ自体マークアップ拡張である _propName_=_value_ の使用例を示します: `Converter={StaticResource myConverterClass}`。</span><span class="sxs-lookup"><span data-stu-id="a4070-140">Here's an example of a _propName_=_value_ usage where the value is itself a markup extension: `Converter={StaticResource myConverterClass}`.</span></span> <span data-ttu-id="a4070-141">詳しくは、以下の「[{x:Bind} で設定できるプロパティ](#properties-you-can-set)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-141">For more info, see [Properties that you can set with {x:Bind}](#properties-you-can-set) section below.</span></span> |

## <a name="property-path"></a><span data-ttu-id="a4070-142">プロパティ パス</span><span class="sxs-lookup"><span data-stu-id="a4070-142">Property path</span></span>

<span data-ttu-id="a4070-143">*PropertyPath* は **{x:Bind}** 式の **Path** です。</span><span class="sxs-lookup"><span data-stu-id="a4070-143">*PropertyPath* sets the **Path** for an **{x:Bind}** expression.</span></span> <span data-ttu-id="a4070-144">**Path** は、バインディング先のプロパティ、サブプロパティ、フィールド、またはメソッドの値 (ソース) を指定するプロパティ パスです。</span><span class="sxs-lookup"><span data-stu-id="a4070-144">**Path** is a property path specifying the value of the property, sub-property, field, or method that you're binding to (the source).</span></span> <span data-ttu-id="a4070-145">**Path** プロパティの名前は、`{Binding Path=...}` のように明示的に指定することができます。</span><span class="sxs-lookup"><span data-stu-id="a4070-145">You can mention the name of the **Path** property explicitly: `{Binding Path=...}`.</span></span> <span data-ttu-id="a4070-146">または、`{Binding ...}` のように省略することもできます。</span><span class="sxs-lookup"><span data-stu-id="a4070-146">Or you can omit it: `{Binding ...}`.</span></span>

### <a name="property-path-resolution"></a><span data-ttu-id="a4070-147">プロパティのパスの解決</span><span class="sxs-lookup"><span data-stu-id="a4070-147">Property path resolution</span></span>

<span data-ttu-id="a4070-148">**{x:Bind}** は、既定のソースとして **DataContext** を使わず、代わりにページまたはユーザー コントロール自体を使います。</span><span class="sxs-lookup"><span data-stu-id="a4070-148">**{x:Bind}** does not use the **DataContext** as a default source—instead, it uses the page or user control itself.</span></span> <span data-ttu-id="a4070-149">したがって、ページまたはユーザー コントロールのコード ビハインドでプロパティ、フィールド、およびメソッドが検索されます。</span><span class="sxs-lookup"><span data-stu-id="a4070-149">So it will look in the code-behind of your page or user control for properties, fields, and methods.</span></span> <span data-ttu-id="a4070-150">通常、ビュー モデルを **{x:Bind}** に公開するには、ページまたはユーザー コントロールのコード ビハインドに新しいフィールドまたはプロパティを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-150">To expose your view model to **{x:Bind}**, you will typically want to add new fields or properties to the code behind for your page or user control.</span></span> <span data-ttu-id="a4070-151">プロパティ パスのステップは、ドット (.) で区切ります。複数の区切り記号を指定することで、連続するサブプロパティを走査できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-151">Steps in a property path are delimited by dots (.), and you can include multiple delimiters to traverse successive sub-properties.</span></span> <span data-ttu-id="a4070-152">バインドされているオブジェクトを実装するために使用するプログラミング言語に関係なく、ドット区切り記号を使います。</span><span class="sxs-lookup"><span data-stu-id="a4070-152">Use the dot delimiter regardless of the programming language used to implement the object being bound to.</span></span>

<span data-ttu-id="a4070-153">たとえば、あるページで、**Text="{x:Bind Employee.FirstName}"** を指定すると、そのページの **Employee** メンバーが検索され、次に、**Employee** が返したオブジェクトの **FirstName** メンバーが検索されます。</span><span class="sxs-lookup"><span data-stu-id="a4070-153">For example: in a page, **Text="{x:Bind Employee.FirstName}"** will look for an **Employee** member on the page and then a **FirstName** member on the object returned by **Employee**.</span></span> <span data-ttu-id="a4070-154">従業員の扶養家族を含むプロパティに項目コントロールをバインドする場合、プロパティ パスは "Employee.Dependents" となり、"Dependents" の項目の表示には項目コントロールの項目テンプレートが使われます。</span><span class="sxs-lookup"><span data-stu-id="a4070-154">If you are binding an items control to a property that contains an employee's dependents, your property path might be "Employee.Dependents", and the item template of the items control would take care of displaying the items in "Dependents".</span></span>

<span data-ttu-id="a4070-155">C++/CX の場合、**{x:Bind}** はページまたはデータ モデルのプライベート フィールドおよびプロパティにバインドできません。バインドできるようにするには、パブリック プロパティが必要です。</span><span class="sxs-lookup"><span data-stu-id="a4070-155">For C++/CX, **{x:Bind}** cannot bind to private fields and properties in the page or data model – you will need to have a public property for it to be bindable.</span></span> <span data-ttu-id="a4070-156">バインディング用のサーフェス領域を CX クラス/インターフェイスとして公開し、関連するメタデータを取得できるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-156">The surface area for binding needs to be exposed as CX classes/interfaces so that we can get the relevant metadata.</span></span> <span data-ttu-id="a4070-157">**\[Bindable\]** 属性は必要ありません。</span><span class="sxs-lookup"><span data-stu-id="a4070-157">The **\[Bindable\]** attribute should not be needed.</span></span>

<span data-ttu-id="a4070-158">**x:Bind** では、**ElementName=xxx** をバインド式の一部として使用する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="a4070-158">With **x:Bind**, you do not need to use **ElementName=xxx** as part of the binding expression.</span></span> <span data-ttu-id="a4070-159">**x:Bind** では、要素の名前をバインディングのパスの先頭部分として使用できません。これは、名前付き要素が、ルート バインディング ソースを表すページまたはユーザー コントロール内のフィールドになるためです。</span><span class="sxs-lookup"><span data-stu-id="a4070-159">With **x:Bind**, you can use the name of the element as the first part of the path for the binding because named elements become fields within the page or user control that represents the root binding source</span></span>

### <a name="collections"></a><span data-ttu-id="a4070-160">コレクション</span><span class="sxs-lookup"><span data-stu-id="a4070-160">Collections</span></span>

<span data-ttu-id="a4070-161">データ ソースがコレクションである場合、プロパティ パスには、位置またはインデックスによりコレクション内の項目を指定できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-161">If the data source is a collection, then a property path can specify items in the collection by their position or index.</span></span> <span data-ttu-id="a4070-162">たとえば "Teams\[0\].Players" の場合、"0" をリテラル "\[\]" で囲むことで、インデックス 0 で始まるコレクション内の最初の項目を要求します。</span><span class="sxs-lookup"><span data-stu-id="a4070-162">For example, "Teams\[0\].Players", where the literal "\[\]" encloses the "0" that requests the first item in a zero-indexed collection.</span></span>

<span data-ttu-id="a4070-163">インデクサーを使うには、インデックス化されるプロパティの型に基づいて、モデルで **IList&lt;T&gt;** または **IVector&lt;T&gt;** を実装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-163">To use an indexer, the model needs to implement **IList&lt;T&gt;** or **IVector&lt;T&gt;** on the type of the property that is going to be indexed.</span></span> <span data-ttu-id="a4070-164">インデックス付きプロパティの型が **INotifyCollectionChanged** または **IObservableVector** をサポートしており、バインディングが OneWay または TwoWay の場合、そのプロパティは登録され、それらのインターフェイスで変更通知をリッスンします。</span><span class="sxs-lookup"><span data-stu-id="a4070-164">If the type of the indexed property supports **INotifyCollectionChanged** or **IObservableVector** and the binding is OneWay or TwoWay, then it will register and listen for change notifications on those interfaces.</span></span> <span data-ttu-id="a4070-165">変更検出ロジックは、特定のインデックス付きの値に影響を与えない場合でも、すべてのコレクションの変更に基づいて更新されます。</span><span class="sxs-lookup"><span data-stu-id="a4070-165">The change detection logic will update based on all collection changes, even if that doesn’t affect the specific indexed value.</span></span> <span data-ttu-id="a4070-166">これは、リッスンしているロジックがコレクションのすべてのインスタンス間で共通であるためです。</span><span class="sxs-lookup"><span data-stu-id="a4070-166">This is because the listening logic is common across all instances of the collection.</span></span>

<span data-ttu-id="a4070-167">データ ソースがディクショナリまたはマップである場合、プロパティ パスには、文字列名によりコレクション内の項目を指定できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-167">If the data source is a Dictionary or Map, then a property path can specify items in the collection by their string name.</span></span> <span data-ttu-id="a4070-168">たとえば、**&lt;TextBlock Text="{x:Bind Players\['John Smith'\]" /&gt;** は、ディクショナリで "John Smith" という名前の項目を検索します。</span><span class="sxs-lookup"><span data-stu-id="a4070-168">For example **&lt;TextBlock Text="{x:Bind Players\['John Smith'\]" /&gt;** will look for an item in the dictionary named "John Smith".</span></span> <span data-ttu-id="a4070-169">名前は引用符で囲む必要があり、単一引用符と二重引用符のどちらでも使用できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-169">The name needs to be enclosed in quotes, and either single or double quotes can be used.</span></span> <span data-ttu-id="a4070-170">文字列で引用符をエスケープするにはハット (^) を使用できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-170">Hat (^) can be used to escape quotes in strings.</span></span> <span data-ttu-id="a4070-171">XAML 属性に使用されるものから代替引用符を使用するのが最も簡単です。</span><span class="sxs-lookup"><span data-stu-id="a4070-171">Its usually easiest to use alternate quotes from those used for the XAML attribute.</span></span>

<span data-ttu-id="a4070-172">文字列インデクサーを使うには、インデックス化されるプロパティの型に基づいて、モデルで **IDictionary&lt;string, T&gt;** または **IMap&lt;string, T&gt;** を実装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-172">To use an string indexer, the model needs to implement **IDictionary&lt;string, T&gt;** or **IMap&lt;string, T&gt;** on the type of the property that is going to be indexed.</span></span> <span data-ttu-id="a4070-173">インデックス付きプロパティの型が **IObservableMap** をサポートしており、バインディングが OneWay または TwoWay の場合、そのプロパティは登録され、それらのインターフェイスで変更通知をリッスンします。</span><span class="sxs-lookup"><span data-stu-id="a4070-173">If the type of the indexed property supports **IObservableMap** and the binding is OneWay or TwoWay, then it will register and listen for change notifications on those interfaces.</span></span> <span data-ttu-id="a4070-174">変更検出ロジックは、特定のインデックス付きの値に影響を与えない場合でも、すべてのコレクションの変更に基づいて更新されます。</span><span class="sxs-lookup"><span data-stu-id="a4070-174">The change detection logic will update based on all collection changes, even if that doesn’t affect the specific indexed value.</span></span> <span data-ttu-id="a4070-175">これは、リッスンしているロジックがコレクションのすべてのインスタンス間で共通であるためです。</span><span class="sxs-lookup"><span data-stu-id="a4070-175">This is because the listening logic is common across all instances of the collection.</span></span>

### <a name="attached-properties"></a><span data-ttu-id="a4070-176">添付プロパティ</span><span class="sxs-lookup"><span data-stu-id="a4070-176">Attached Properties</span></span>

<span data-ttu-id="a4070-177">添付プロパティにバインドするには、クラスおよびプロパティ名をドットの後のかっこ内に含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-177">To bind to attached properties, you need to put the class and property name into parentheses after the dot.</span></span> <span data-ttu-id="a4070-178">たとえば、**Text="{x:Bind Button22.(Grid.Row)}"** などです。</span><span class="sxs-lookup"><span data-stu-id="a4070-178">For example **Text="{x:Bind Button22.(Grid.Row)}"**.</span></span> <span data-ttu-id="a4070-179">プロパティが Xaml 名前空間で宣言されていない場合は、そのプロパティの前に xml 名前空間を付ける必要があります。これはドキュメントの先頭でコード名前空間にマップする必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-179">If the property is not declared in a Xaml namespace, then you will need to prefix it with a xml namespace, which you should map to a code namespace at the head of the document.</span></span>

### <a name="casting"></a><span data-ttu-id="a4070-180">キャスト</span><span class="sxs-lookup"><span data-stu-id="a4070-180">Casting</span></span>

<span data-ttu-id="a4070-181">コンパイル済みのバインドは、厳密に型指定され、パスの各ステップの型を解決します。</span><span class="sxs-lookup"><span data-stu-id="a4070-181">Compiled bindings are strongly typed, and will resolve the type of each step in a path.</span></span> <span data-ttu-id="a4070-182">返される型にメンバーがない場合は、コンパイル時に失敗します。</span><span class="sxs-lookup"><span data-stu-id="a4070-182">If the type returned doesn’t have the member, it will fail at compile time.</span></span> <span data-ttu-id="a4070-183">キャストを指定して、オブジェクトの実際の型をバインディングに通知することができます。</span><span class="sxs-lookup"><span data-stu-id="a4070-183">You can specify a cast to tell binding the real type of the object.</span></span> <span data-ttu-id="a4070-184">次の場合、**obj** は型オブジェクトのプロパティですが、テキスト ボックスを含んでいます。したがって、**Text="{x:Bind ((TextBox)obj).Text}"** または **Text="{x:Bind obj.(TextBox.Text)}"** を使用できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-184">In the following case, **obj** is a property of type object, but contains a text box, so we can use either **Text="{x:Bind ((TextBox)obj).Text}"** or **Text="{x:Bind obj.(TextBox.Text)}"**.</span></span>
<span data-ttu-id="a4070-185">groups3 field in **Text="{x:Bind ((data:SampleDataGroup)groups3\[0\]).Title}"** の **groups3** フィールドは、オブジェクトのディクショナリです。したがって、**data:SampleDataGroup** にキャストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-185">The **groups3** field in **Text="{x:Bind ((data:SampleDataGroup)groups3\[0\]).Title}"** is a dictionary of objects, so you must cast it to **data:SampleDataGroup**.</span></span> <span data-ttu-id="a4070-186">既定の XAML 名前空間の一部ではないコード名前空間にオブジェクトの型をマップするための xml **data:** 名前空間のプレフィックスの使用法に注意してください。</span><span class="sxs-lookup"><span data-stu-id="a4070-186">Note the use of the xml **data:** namespace prefix for mapping the object type to a code namespace that isn't part of the default XAML namespace.</span></span>

_<span data-ttu-id="a4070-187">注: C# スタイルのキャスト構文は添付プロパティ構文より柔軟であり、今後はこの構文が推奨されます。</span><span class="sxs-lookup"><span data-stu-id="a4070-187">Note: The C#-style cast syntax is more flexible than the attached property syntax, and is the recommended syntax going forward.</span></span>_

## <a name="functions-in-binding-paths"></a><span data-ttu-id="a4070-188">バインディング パス内の関数</span><span class="sxs-lookup"><span data-stu-id="a4070-188">Functions in binding paths</span></span>

<span data-ttu-id="a4070-189">Windows 10 バージョン 1607 以降、**{x:Bind}** はバインド パスのリーフ ステップとしての関数の使用をサポートします。</span><span class="sxs-lookup"><span data-stu-id="a4070-189">Starting in Windows 10, version 1607, **{x:Bind}** supports using a function as the leaf step of the binding path.</span></span> <span data-ttu-id="a4070-190">これにより次のことが可能になります。</span><span class="sxs-lookup"><span data-stu-id="a4070-190">This enables</span></span>

- <span data-ttu-id="a4070-191">値の変換を実現するためのより簡単な方法</span><span class="sxs-lookup"><span data-stu-id="a4070-191">A simpler way to achieve value conversion</span></span>
- <span data-ttu-id="a4070-192">複数のパラメーターに依存するようにバインディングする方法</span><span class="sxs-lookup"><span data-stu-id="a4070-192">A way for bindings to depend on more than one parameter</span></span>

> [!NOTE]
> <span data-ttu-id="a4070-193">**{x:Bind}** で関数を使うには、アプリの対象が SDK バージョン 14393 以降である必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-193">To use functions with **{x:Bind}**, your app's minimum target SDK version must be 14393 or later.</span></span> <span data-ttu-id="a4070-194">アプリがそれよりも前のバージョンの Windows 10 を対象としている場合は、関数を使えません。</span><span class="sxs-lookup"><span data-stu-id="a4070-194">You can't use functions when your app targets earlier versions of Windows 10.</span></span> <span data-ttu-id="a4070-195">ターゲット バージョンについて詳しくは、「[バージョン アダプティブ コード](https://msdn.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-195">For more info about target versions, see [Version adaptive code](https://msdn.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code).</span></span>

<span data-ttu-id="a4070-196">次の例では、項目の背景と前景が、Color パラメーターに基づいて変換を行うために関数にバインドされています。</span><span class="sxs-lookup"><span data-stu-id="a4070-196">In the following example, the background and foreground of the item are bound to functions to do conversion based on the color parameter</span></span>

```xaml
<DataTemplate x:DataType="local:ColorEntry">
    <Grid Background="{x:Bind local:ColorEntry.Brushify(Color)}" Width="240">
        <TextBlock Text="{x:Bind ColorName}" Foreground="{x:Bind TextColor(Color)}" Margin="10,5" />
    </Grid>
</DataTemplate>
```

```csharp
class ColorEntry
{
    public string ColorName { get; set; }
    public Color Color { get; set; }

    public static SolidColorBrush Brushify(Color c)
    {
        return new SolidColorBrush(c);
    }

    public SolidColorBrush TextColor(Color c)
    {
        return new SolidColorBrush(((c.R * 0.299 + c.G * 0.587 + c.B * 0.114) > 150) ? Colors.Black : Colors.White);
    }
}

```

### <a name="function-syntax"></a><span data-ttu-id="a4070-197">関数の構文</span><span class="sxs-lookup"><span data-stu-id="a4070-197">Function Syntax</span></span>

``` Syntax
Text="{x:Bind MyModel.Order.CalculateShipping(MyModel.Order.Weight, MyModel.Order.ShipAddr.Zip, 'Contoso'), Mode=OneTime}"
             |      Path to function         |    Path argument   |       Path argument       | Const arg |  Bind Props
```

### <a name="path-to-the-function"></a><span data-ttu-id="a4070-198">関数へのパス</span><span class="sxs-lookup"><span data-stu-id="a4070-198">Path to the function</span></span>

<span data-ttu-id="a4070-199">関数へのパスは、他のプロパティ パスと同じように指定され、関数を見つけるためにドット (.)、インデクサー、またはキャストを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="a4070-199">The path to the function is specified like other property paths and can include dots (.), indexers or casts to locate the function.</span></span>

<span data-ttu-id="a4070-200">静的関数は、XMLNamespace:ClassName.MethodName 構文を使って指定できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-200">Static functions can be specified using XMLNamespace:ClassName.MethodName syntax.</span></span> <span data-ttu-id="a4070-201">たとえば、ページの先頭で **xmlns:sys="using:System"** が指定されているものとすると、**&lt;CalendarDatePicker Date="\{x:Bind sys:DateTime.Parse(TextBlock1.Text)\}" /&gt;** は DateTime.Parse 関数にマップします。</span><span class="sxs-lookup"><span data-stu-id="a4070-201">For example **&lt;CalendarDatePicker Date="\{x:Bind sys:DateTime.Parse(TextBlock1.Text)\}" /&gt;** will map to the DateTime.Parse function, assuming that **xmlns:sys="using:System"** is specified on the top of the page.</span></span>

<span data-ttu-id="a4070-202">モードが OneWay/TwoWay である場合、関数のパスでは変更の検出が実行され、それらのオブジェクトに変更があるとバインディングが再評価されます。</span><span class="sxs-lookup"><span data-stu-id="a4070-202">If the mode is OneWay/TwoWay, then the function path will have change detection performed on it, and the binding will be re-evaluated if there are changes to those objects.</span></span>

<span data-ttu-id="a4070-203">バインディングされる関数には以下のことが要求されます。</span><span class="sxs-lookup"><span data-stu-id="a4070-203">The function being bound to needs to:</span></span>

- <span data-ttu-id="a4070-204">コードとメタデータにアクセスできる必要があります。したがって、C# では internal/private を使用できますが、C++/CX ではメソッドをパブリック WinRT メソッドにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-204">Be accessible to the code and metadata – so internal / private work in C#, but C++/CX will need methods to be public WinRT methods</span></span>
- <span data-ttu-id="a4070-205">オーバーロードは引数の型ではなく数に基づき、同じ数の引数を持つ最初のオーバーロードとの一致が試みられます。</span><span class="sxs-lookup"><span data-stu-id="a4070-205">Overloading is based on the number of arguments, not type, and it will try to match to the first overload with that many arguments</span></span>
- <span data-ttu-id="a4070-206">引数の型は渡されるデータと一致する必要があります。縮小変換は行われません。</span><span class="sxs-lookup"><span data-stu-id="a4070-206">The argument types need to match the data being passed in – we don’t do narrowing conversions</span></span>
- <span data-ttu-id="a4070-207">関数の戻り値の型は、バインディングを使用しているプロパティの型と一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-207">The return type of the function needs to match the type of the property that is using the binding</span></span>

### <a name="function-arguments"></a><span data-ttu-id="a4070-208">関数の引数</span><span class="sxs-lookup"><span data-stu-id="a4070-208">Function arguments</span></span>

<span data-ttu-id="a4070-209">複数の関数引数をコンマ (,) で区切って指定できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-209">Multiple function arguments can be specified, separated by comma's (,)</span></span>

- <span data-ttu-id="a4070-210">バインディング パス – そのオブジェクトにバインドする場合と同じ構文です。</span><span class="sxs-lookup"><span data-stu-id="a4070-210">Binding Path – Same syntax as if you were binding directly to that object.</span></span>
  - <span data-ttu-id="a4070-211">モードが OneWay/TwoWay の場合は、変更検出が実行されて、オブジェクトが変化するとバインディングが再評価されます。</span><span class="sxs-lookup"><span data-stu-id="a4070-211">If the mode is OneWay/TwoWay then change detection will be performed and the binding re-evaluated upon object changes</span></span>
- <span data-ttu-id="a4070-212">引用符で囲まれた定数文字列 – 文字列として指定するには引用符が必要です。</span><span class="sxs-lookup"><span data-stu-id="a4070-212">Constant string enclosed in quotes – quotes are needed to designate it as a string.</span></span> <span data-ttu-id="a4070-213">文字列で引用符をエスケープするにはハット (^) を使用できます</span><span class="sxs-lookup"><span data-stu-id="a4070-213">Hat (^) can be used to escape quotes in strings</span></span>
- <span data-ttu-id="a4070-214">定数 - たとえば -123.456</span><span class="sxs-lookup"><span data-stu-id="a4070-214">Constant Number - for example -123.456</span></span>
- <span data-ttu-id="a4070-215">ブール値 – "x:True" または "x:False" と指定します</span><span class="sxs-lookup"><span data-stu-id="a4070-215">Boolean – specified as "x:True" or "x:False"</span></span>

### <a name="two-way-function-bindings"></a><span data-ttu-id="a4070-216">双方向の関数バインド</span><span class="sxs-lookup"><span data-stu-id="a4070-216">Two way function bindings</span></span>

<span data-ttu-id="a4070-217">双方向のバインディング シナリオでは、逆方向のバインドのために第 2 の関数を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-217">In a two-way binding scenario, a second function must be specified for the reverse direction of the binding.</span></span> <span data-ttu-id="a4070-218">これは、**BindBack** バインド プロパティを使って行います (例: **Text="\{x:Bind a.MyFunc(b), BindBack=a.MyFunc2\}"**)。</span><span class="sxs-lookup"><span data-stu-id="a4070-218">This is done using the **BindBack** binding property, for example **Text="\{x:Bind a.MyFunc(b), BindBack=a.MyFunc2\}"**.</span></span> <span data-ttu-id="a4070-219">関数が受け取る必要のある引数は 1 つで、モデルにプッシュバックする必要のある値です。</span><span class="sxs-lookup"><span data-stu-id="a4070-219">The function should take one argument which is the value that needs to be pushed back to the model.</span></span>

## <a name="event-binding"></a><span data-ttu-id="a4070-220">イベント バインディング</span><span class="sxs-lookup"><span data-stu-id="a4070-220">Event Binding</span></span>

<span data-ttu-id="a4070-221">イベント バインディングは、コンパイル済みのバインドの固有の機能です。</span><span class="sxs-lookup"><span data-stu-id="a4070-221">Event binding is a unique feature for compiled binding.</span></span> <span data-ttu-id="a4070-222">これにより、バインディングを使用するイベントのハンドラーを指定でき、それをコード ビハインドのメソッドにする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="a4070-222">It enables you to specify the handler for an event using a binding, rather than it having to be a method on the code behind.</span></span> <span data-ttu-id="a4070-223">たとえば、**Click="{x:Bind rootFrame.GoForward}"** などです。</span><span class="sxs-lookup"><span data-stu-id="a4070-223">For example: **Click="{x:Bind rootFrame.GoForward}"**.</span></span>

<span data-ttu-id="a4070-224">イベントの場合、対象のメソッドをオーバーロードしてはならず、以下の条件も満たしている必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-224">For events, the target method must not be overloaded and must also:</span></span>

- <span data-ttu-id="a4070-225">イベントのシグネチャが一致している。</span><span class="sxs-lookup"><span data-stu-id="a4070-225">Match the signature of the event.</span></span>
- <span data-ttu-id="a4070-226">または、パラメーターを持たない。</span><span class="sxs-lookup"><span data-stu-id="a4070-226">OR have no parameters.</span></span>
- <span data-ttu-id="a4070-227">または、イベント パラメーターの型から割り当て可能な型のパラメーターを同じ数だけ持つ。</span><span class="sxs-lookup"><span data-stu-id="a4070-227">OR have the same number of parameters of types that are assignable from the types of the event parameters.</span></span>

<span data-ttu-id="a4070-228">生成されたコード ビハインドでは、コンパイル済みのバインドは、イベントを処理してモデルのメソッドにルーティングします。また、イベントが発生すると、バインド式のパスを評価します。</span><span class="sxs-lookup"><span data-stu-id="a4070-228">In generated code-behind, compiled binding handles the event and routes it to the method on the model, evaluating the path of the binding expression when the event occurs.</span></span> <span data-ttu-id="a4070-229">つまり、プロパティ バインディングとは異なり、モデルの変更を追跡しません。</span><span class="sxs-lookup"><span data-stu-id="a4070-229">This means that, unlike property bindings, it doesn’t track changes to the model.</span></span>

<span data-ttu-id="a4070-230">プロパティ パスの文字列構文について詳しくは、ここで説明した **{x:Bind}** に対する違いに注意して、「[プロパティ パス構文](property-path-syntax.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-230">For more info about the string syntax for a property path, see [Property-path syntax](property-path-syntax.md), keeping in mind the differences described here for **{x:Bind}**.</span></span>

## <a name="properties-that-you-can-set-with-xbind"></a><span data-ttu-id="a4070-231"> {x:Bind} で設定できるプロパティ</span><span class="sxs-lookup"><span data-stu-id="a4070-231">Properties that you can set with {x:Bind}</span></span>

<span data-ttu-id="a4070-232">**{x:Bind}** は、*bindingProperties* プレースホルダー構文で示されます。これは、マークアップ拡張で設定可能な読み取り/書き込みプロパティが複数あるためです。</span><span class="sxs-lookup"><span data-stu-id="a4070-232">**{x:Bind}** is illustrated with the *bindingProperties* placeholder syntax because there are multiple read/write properties that can be set in the markup extension.</span></span> <span data-ttu-id="a4070-233">プロパティは、*propName*=*value* ペアをコンマで区切ることにより、任意の順序で設定できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-233">The properties can be set in any order with comma-separated *propName*=*value* pairs.</span></span> <span data-ttu-id="a4070-234">バインド式に改行を含めることはできないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="a4070-234">Note that you cannot include line breaks in the binding expression.</span></span> <span data-ttu-id="a4070-235">プロパティによっては、型変換をサポートしていない型が必要なものがあります。そのため、これらのプロパティでは、**{x:Bind}** 内で入れ子にされた独自のマークアップ拡張が必要です。</span><span class="sxs-lookup"><span data-stu-id="a4070-235">Some of the properties require types that don't have a type conversion, so these require markup extensions of their own nested within the **{x:Bind}**.</span></span>

<span data-ttu-id="a4070-236">これらのプロパティは、[**Binding**](https://msdn.microsoft.com/library/windows/apps/br209820) クラスのプロパティとほぼ同じように機能します。</span><span class="sxs-lookup"><span data-stu-id="a4070-236">These properties work in much the same way as the properties of the [**Binding**](https://msdn.microsoft.com/library/windows/apps/br209820) class.</span></span>

| <span data-ttu-id="a4070-237">プロパティ</span><span class="sxs-lookup"><span data-stu-id="a4070-237">Property</span></span> | <span data-ttu-id="a4070-238">説明</span><span class="sxs-lookup"><span data-stu-id="a4070-238">Description</span></span> |
|----------|-------------|
| **<span data-ttu-id="a4070-239">Path</span><span class="sxs-lookup"><span data-stu-id="a4070-239">Path</span></span>** | <span data-ttu-id="a4070-240">上記の「[プロパティ パス](#property-path)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-240">See the [Property path](#property-path) section above.</span></span> |
| **<span data-ttu-id="a4070-241">Converter</span><span class="sxs-lookup"><span data-stu-id="a4070-241">Converter</span></span>** | <span data-ttu-id="a4070-242">バインド エンジンによって呼び出されるコンバーター オブジェクトを指定します。</span><span class="sxs-lookup"><span data-stu-id="a4070-242">Specifies the converter object that is called by the binding engine.</span></span> <span data-ttu-id="a4070-243">コンバーターは XAML で設定できますが、リソース ディクショナリ内のオブジェクトへの [{StaticResource} マークアップ拡張](staticresource-markup-extension.md) 参照で割り当てたオブジェクト インスタンスを参照する場合に限られます。</span><span class="sxs-lookup"><span data-stu-id="a4070-243">The converter can be set in XAML, but only if you refer to an object instance that you've assigned in a [{StaticResource} markup extension](staticresource-markup-extension.md) reference to that object in the resource dictionary.</span></span> |
| **<span data-ttu-id="a4070-244">ConverterLanguage</span><span class="sxs-lookup"><span data-stu-id="a4070-244">ConverterLanguage</span></span>** | <span data-ttu-id="a4070-245">コンバーターで使うカルチャを指定します </span><span class="sxs-lookup"><span data-stu-id="a4070-245">Specifies the culture to be used by the converter.</span></span> <span data-ttu-id="a4070-246">(**ConverterLanguage** を設定する場合は **Converter** も設定する必要があります)。カルチャは、標準ベースの識別子として設定できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-246">(If you're setting **ConverterLanguage** you should also be setting **Converter**.) The culture is set as a standards-based identifier.</span></span> <span data-ttu-id="a4070-247">詳しくは、「[**ConverterLanguage**](https://msdn.microsoft.com/library/windows/apps/hh701880)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-247">For more info, see [**ConverterLanguage**](https://msdn.microsoft.com/library/windows/apps/hh701880).</span></span> |
| **<span data-ttu-id="a4070-248">ConverterParameter</span><span class="sxs-lookup"><span data-stu-id="a4070-248">ConverterParameter</span></span>** | <span data-ttu-id="a4070-249">コンバーター ロジックで使うことができるコンバーター パラメーターを指定します </span><span class="sxs-lookup"><span data-stu-id="a4070-249">Specifies the converter parameter that can be used in converter logic.</span></span> <span data-ttu-id="a4070-250">(**ConverterParameter** を設定する場合は **Converter** も設定する必要があります)。 ほとんどのコンバーターは、渡された値から変換に必要なすべての情報を取得するという単純なロジックを使っており、**ConverterParameter** 値を必要としません。</span><span class="sxs-lookup"><span data-stu-id="a4070-250">(If you're setting **ConverterParameter** you should also be setting **Converter**.) Most converters use simple logic that get all the info they need from the passed value to convert, and don't need a **ConverterParameter** value.</span></span> <span data-ttu-id="a4070-251">**ConverterParameter** パラメーターは、**ConverterParameter** で渡された値を利用する複数のロジックを持つ、ある程度高度なコンバーターを実装するために存在します。</span><span class="sxs-lookup"><span data-stu-id="a4070-251">The **ConverterParameter** parameter is for moderately advanced converter implementations that have more than one logic that keys off what's passed in **ConverterParameter**.</span></span> <span data-ttu-id="a4070-252">また、文字列以外の値を使うコンバーターも作成できますが、一般的ではありません。詳しくは、「[**ConverterParameter**](https://msdn.microsoft.com/library/windows/apps/br209827)」の「注釈」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-252">You can write a converter that uses values other than strings but this is uncommon, see Remarks in [**ConverterParameter**](https://msdn.microsoft.com/library/windows/apps/br209827) for more info.</span></span> |
| **<span data-ttu-id="a4070-253">FallbackValue</span><span class="sxs-lookup"><span data-stu-id="a4070-253">FallbackValue</span></span>** | <span data-ttu-id="a4070-254">ソースまたはパスを解決できない場合に表示する値を指定します。</span><span class="sxs-lookup"><span data-stu-id="a4070-254">Specifies a value to display when the source or path cannot be resolved.</span></span> |
| **<span data-ttu-id="a4070-255">Mode</span><span class="sxs-lookup"><span data-stu-id="a4070-255">Mode</span></span>** | <span data-ttu-id="a4070-256">"OneTime"、"OneWay"、"TwoWay" のいずれかの文字列として、バインド モードを指定します。</span><span class="sxs-lookup"><span data-stu-id="a4070-256">Specifies the binding mode, as one of these strings: "OneTime", "OneWay", or "TwoWay".</span></span> <span data-ttu-id="a4070-257">既定は "OneTime" です。</span><span class="sxs-lookup"><span data-stu-id="a4070-257">The default is "OneTime".</span></span> <span data-ttu-id="a4070-258">これは、**{Binding}** の既定値 (ほとんどの場合は "OneWay") とは異なる点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="a4070-258">Note that this differs from the default for **{Binding}**, which is "OneWay" in most cases.</span></span> |
| **<span data-ttu-id="a4070-259">TargetNullValue</span><span class="sxs-lookup"><span data-stu-id="a4070-259">TargetNullValue</span></span>** | <span data-ttu-id="a4070-260">ソース値が解決されるが、明示的に **null** である場合に表示する値を設定します。</span><span class="sxs-lookup"><span data-stu-id="a4070-260">Specifies a value to display when the source value resolves but is explicitly **null**.</span></span> |
| **<span data-ttu-id="a4070-261">BindBack</span><span class="sxs-lookup"><span data-stu-id="a4070-261">BindBack</span></span>** | <span data-ttu-id="a4070-262">双方向バインディングの逆方向に使う関数を指定します。</span><span class="sxs-lookup"><span data-stu-id="a4070-262">Specifies a function to use for the reverse direction of a two-way binding.</span></span> |
| **<span data-ttu-id="a4070-263">UpdateSourceTrigger</span><span class="sxs-lookup"><span data-stu-id="a4070-263">UpdateSourceTrigger</span></span>** | <span data-ttu-id="a4070-264">コントロールから双方向バインディングのモデルに変更を戻すタイミングを指定します。</span><span class="sxs-lookup"><span data-stu-id="a4070-264">Specifies when to push changes back from the control to the model in TwoWay bindings.</span></span> <span data-ttu-id="a4070-265">TextBox.Text を除くすべてのプロパティの既定値は PropertyChanged です。TextBox.Text の既定値は LostFocus です。</span><span class="sxs-lookup"><span data-stu-id="a4070-265">The default for all properties except TextBox.Text is PropertyChanged, TextBox.Text is LostFocus.</span></span>|

> [!NOTE]
> <span data-ttu-id="a4070-266">マークアップを **{Binding}** から **{x:Bind}** に変換する場合は、**Mode** プロパティの既定値の違いに注意してください。</span><span class="sxs-lookup"><span data-stu-id="a4070-266">If you're converting markup from **{Binding}** to **{x:Bind}**, then be aware of the differences in default values for the **Mode** property.</span></span>
 
> <span data-ttu-id="a4070-267">マークアップ ツリーの特定のセグメントで x:Bind の既定のモードを変更するには、[**x:DefaultBindMode**](https://docs.microsoft.com/windows/uwp/xaml-platform/x-defaultbindmode-attribute) を使用できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-267">[**x:DefaultBindMode**](https://docs.microsoft.com/windows/uwp/xaml-platform/x-defaultbindmode-attribute) can be used to change the default mode for x:Bind for a specific segment of the markup tree.</span></span> <span data-ttu-id="a4070-268">選択されたモードは、バインドの一部として明示的にモードが指定されている場合を除いて、対象の要素とその子に対するすべての x:Bind 式に適用されます。</span><span class="sxs-lookup"><span data-stu-id="a4070-268">The mode selected will apply any x:Bind expressions on that element and its children, that do not explicitly specify a mode as part of the binding.</span></span> <span data-ttu-id="a4070-269">OneTime は、OneWay より重要です。OneWay を使うと、接続して変更検出を処理するために生成されるコードが多くなるためです。</span><span class="sxs-lookup"><span data-stu-id="a4070-269">OneTime is more performant than OneWay as using OneWay will cause more code to be generated to hookup and handle the change detection.</span></span>

## <a name="remarks"></a><span data-ttu-id="a4070-270">注釈</span><span class="sxs-lookup"><span data-stu-id="a4070-270">Remarks</span></span>

<span data-ttu-id="a4070-271">**{x:Bind}** は、その利点を得るために、生成されたコードを使用するので、コンパイル時に型情報が必要です。</span><span class="sxs-lookup"><span data-stu-id="a4070-271">Because **{x:Bind}** uses generated code to achieve its benefits, it requires type information at compile time.</span></span> <span data-ttu-id="a4070-272">つまり、型が事前にわかっていない場合は、プロパティにバインドできません。</span><span class="sxs-lookup"><span data-stu-id="a4070-272">This means that you cannot bind to properties where you do not know the type ahead of time.</span></span> <span data-ttu-id="a4070-273">このため、**{x:Bind}** は、型が **Object** で、実行時に変更されることもある **DataContext** プロパティと共に使用することはできません。</span><span class="sxs-lookup"><span data-stu-id="a4070-273">Because of this, you cannot use **{x:Bind}** with the **DataContext** property, which is of type **Object**, and is also subject to change at run time.</span></span>

<span data-ttu-id="a4070-274">**{x:Bind}** をデータ テンプレートと共に使用するときは、以下の例に示すように **x:DataType** 値を設定し、バインド先の型を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-274">When using **{x:Bind}** with data templates, you must indicate the type being bound to by setting an **x:DataType** value, as shown in the example below.</span></span> <span data-ttu-id="a4070-275">型をインターフェイスまたは基底クラス型に設定することもでき、完全な式を指定するために必要な場合は、キャストを使用できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-275">You can also set the type to an interface or base class type, and then use casts if necessary to formulate a full expression.</span></span>

<span data-ttu-id="a4070-276">コンパイル済みバインドは、コード生成によって異なります。</span><span class="sxs-lookup"><span data-stu-id="a4070-276">Compiled bindings depend on code generation.</span></span> <span data-ttu-id="a4070-277">そのため、リソース ディクショナリで **{x:Bind}** を使う場合、リソース ディクショナリにはコード ビハインド クラスが必要です。</span><span class="sxs-lookup"><span data-stu-id="a4070-277">So if you use **{x:Bind}** in a resource dictionary then the resource dictionary needs to have a code-behind class.</span></span> <span data-ttu-id="a4070-278">コード例については、「[リソース ディクショナリと {x:Bind}](../data-binding/data-binding-in-depth.md#resource-dictionaries-with-x-bind)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-278">See [Resource dictionaries with {x:Bind}](../data-binding/data-binding-in-depth.md#resource-dictionaries-with-x-bind) for a code example.</span></span>

<span data-ttu-id="a4070-279">コンパイル済みバインドを含むページやユーザー コントロールでは、生成されたコードに "Bindings" プロパティが含まれます。</span><span class="sxs-lookup"><span data-stu-id="a4070-279">Pages and user controls that include Compiled bindings will have a "Bindings" property in the generated code.</span></span> <span data-ttu-id="a4070-280">これには次のメソッドが含まれます。</span><span class="sxs-lookup"><span data-stu-id="a4070-280">This includes the following methods:</span></span>

- <span data-ttu-id="a4070-281">**Update()** - すべてのコンパイル済みバインドの値を更新します。</span><span class="sxs-lookup"><span data-stu-id="a4070-281">**Update()** - This will update the values of all compiled bindings.</span></span> <span data-ttu-id="a4070-282">すべての 1 方向/双方向バインディングには、変更を検出するためにフックされたリスナーがあります。</span><span class="sxs-lookup"><span data-stu-id="a4070-282">Any one-way/Two-Way bindings will have the listeners hooked up to detect changes.</span></span>
- <span data-ttu-id="a4070-283">**Initialize()** - バインディングがまだ初期化されていない場合、Update() を呼び出してバインディングを初期化します。</span><span class="sxs-lookup"><span data-stu-id="a4070-283">**Initialize()** - If the bindings have not already been initialized, then it will call Update() to initialize the bindings</span></span>
- <span data-ttu-id="a4070-284">**StopTracking()** - 1 方向と双方向のバインディングに作成されたすべてのリスナーをフック解除します。</span><span class="sxs-lookup"><span data-stu-id="a4070-284">**StopTracking()** - This will unhook all listeners created for one-way and two-way bindings.</span></span> <span data-ttu-id="a4070-285">Update() メソッドを使って再初期化できます。</span><span class="sxs-lookup"><span data-stu-id="a4070-285">They can be re-initialized using the Update() method.</span></span>

> [!NOTE]
> <span data-ttu-id="a4070-286">Windows 10、バージョン1607 以降では、XAML フレームワークにブール値と Visibility 値のコンバーターが組み込まれています。</span><span class="sxs-lookup"><span data-stu-id="a4070-286">Starting in Windows 10, version 1607, the XAML framework provides a built in Boolean to Visibility converter.</span></span> <span data-ttu-id="a4070-287">コンバーターは、**Visible** 列挙値に対して **true** を、**Collapsed** に対して **false** をマッピングします。これにより、コンバーターを作成せずに Visibility プロパティをブール値にバインドできます。</span><span class="sxs-lookup"><span data-stu-id="a4070-287">The converter maps **true** to the **Visible** enumeration value and **false** to **Collapsed** so you can bind a Visibility property to a Boolean without creating a converter.</span></span> <span data-ttu-id="a4070-288">これは、関数バインドの機能ではないことに注意してください。プロパティのバインドにすぎません。</span><span class="sxs-lookup"><span data-stu-id="a4070-288">Note that this is not a feature of function binding, only property binding.</span></span> <span data-ttu-id="a4070-289">組み込みのコンバーターを使用するには、アプリの最小のターゲット SDK バージョンが 14393 以降である必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-289">To use the built in converter, your app's minimum target SDK version must be 14393 or later.</span></span> <span data-ttu-id="a4070-290">アプリがそれよりも前のバージョンの Windows 10 をターゲットとしている場合は使うことができません。</span><span class="sxs-lookup"><span data-stu-id="a4070-290">You can't use it when your app targets earlier versions of Windows 10.</span></span> <span data-ttu-id="a4070-291">ターゲット バージョンについて詳しくは、「[バージョン アダプティブ コード](https://msdn.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-291">For more info about target versions, see [Version adaptive code](https://msdn.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code).</span></span>

<span data-ttu-id="a4070-292">**ヒント:** [**Path**](https://msdn.microsoft.com/library/windows/apps/br209830) や [**ConverterParameter**](https://msdn.microsoft.com/library/windows/apps/br209827) のように、値に 1 つの中かっこを指定する必要がある場合は、`\{` のように円記号 (バックスラッシュ) を中かっこの前に付けます。</span><span class="sxs-lookup"><span data-stu-id="a4070-292">**Tip**   If you need to specify a single curly brace for a value, such as in [**Path**](https://msdn.microsoft.com/library/windows/apps/br209830) or [**ConverterParameter**](https://msdn.microsoft.com/library/windows/apps/br209827), precede it with a backslash: `\{`.</span></span> <span data-ttu-id="a4070-293">別の方法として、エスケープする必要がある中かっこを含む文字列全体を `ConverterParameter='{Mix}'` のように別の種類の引用符で囲みます。</span><span class="sxs-lookup"><span data-stu-id="a4070-293">Alternatively, enclose the entire string that contains the braces that need escaping in a secondary quotation set, for example `ConverterParameter='{Mix}'`.</span></span>

<span data-ttu-id="a4070-294">[**Converter**](https://msdn.microsoft.com/library/windows/apps/br209826)、[**ConverterLanguage**](https://msdn.microsoft.com/library/windows/apps/hh701880)、**ConverterLanguage** はいずれも、バインド ソースの値または型を、バインディング ターゲットのプロパティと互換性のある型または値に変換するシナリオに関係があります。</span><span class="sxs-lookup"><span data-stu-id="a4070-294">[**Converter**](https://msdn.microsoft.com/library/windows/apps/br209826), [**ConverterLanguage**](https://msdn.microsoft.com/library/windows/apps/hh701880) and **ConverterLanguage** are all related to the scenario of converting a value or type from the binding source into a type or value that is compatible with the binding target property.</span></span> <span data-ttu-id="a4070-295">例や詳しい情報については、「[データ バインディングの詳細](https://msdn.microsoft.com/library/windows/apps/mt210946)」の「データの変換」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-295">For more info and examples, see the "Data conversions" section of [Data binding in depth](https://msdn.microsoft.com/library/windows/apps/mt210946).</span></span>

<span data-ttu-id="a4070-296">**{x:Bind}** は、マークアップ拡張のみです。このようなバインディングをプログラムで作成したり操作したりする方法はありません。</span><span class="sxs-lookup"><span data-stu-id="a4070-296">**{x:Bind}** is a markup extension only, with no way to create or manipulate such bindings programmatically.</span></span> <span data-ttu-id="a4070-297">マークアップ拡張について詳しくは、「[XAML の概要](xaml-overview.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a4070-297">For more info about markup extensions, see [XAML overview](xaml-overview.md).</span></span>

## <a name="examples"></a><span data-ttu-id="a4070-298">例</span><span class="sxs-lookup"><span data-stu-id="a4070-298">Examples</span></span>

```XML
<Page x:Class="QuizGame.View.HostView" ... >
    <Button Content="{x:Bind Path=ViewModel.NextButtonText, Mode=OneWay}" ... />
</Page>
```

<span data-ttu-id="a4070-299">この例の XAML では、**{x:Bind}** が **ListView.ItemTemplate** プロパティと共に使用されています。</span><span class="sxs-lookup"><span data-stu-id="a4070-299">This example XAML uses **{x:Bind}** with a **ListView.ItemTemplate** property.</span></span> <span data-ttu-id="a4070-300">**x:DataType** 値の宣言に注意してください。</span><span class="sxs-lookup"><span data-stu-id="a4070-300">Note the declaration of an **x:DataType** value.</span></span>

```XML
  <DataTemplate x:Key="SimpleItemTemplate" x:DataType="data:SampleDataGroup">
    <StackPanel Orientation="Vertical" Height="50">
      <TextBlock Text="{x:Bind Title}"/>
      <TextBlock Text="{x:Bind Description}"/>
    </StackPanel>
  </DataTemplate>
```
