---
title: 深度/ステンシル機能の構成
description: ここでは、深度/ステンシル バッファーと、出力結合ステージの深度/ステンシル ステートを設定する手順について説明します。
ms.assetid: B3F6CDAA-93ED-4DC1-8E69-972C557C7920
keywords:
- 深度/ステンシル機能の構成
author: michaelfromredmond
ms.author: mithom
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 3c15ff6aa43540b61b410525e6bb20a0de3da821
ms.sourcegitcommit: e38b334edb82bf2b1474ba686990f4299b8f59c7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/15/2018
ms.locfileid: "6833410"
---
# <a name="span-iddirect3dconceptsconfiguringdepth-stencilfunctionalityspanconfiguring-depth-stencil-functionality"></a><span data-ttu-id="db330-104"><span id="direct3dconcepts.configuring_depth-stencil_functionality"></span>深度/ステンシル機能の構成</span><span class="sxs-lookup"><span data-stu-id="db330-104"><span id="direct3dconcepts.configuring_depth-stencil_functionality"></span>Configuring depth-stencil functionality</span></span>


<span data-ttu-id="db330-105">ここでは、深度/ステンシル バッファーと、出力結合ステージの深度/ステンシル ステートを設定する手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="db330-105">This section covers the steps for setting up the depth-stencil buffer, and depth-stencil state for the output-merger stage.</span></span>

<span data-ttu-id="db330-106">深度/ステンシル バッファーおよび対応する深度/ステンシル ステートの使用方法を理解したら、[高度なステンシル技法](#advanced-stencil-techniques)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="db330-106">Once you know how to use the depth-stencil buffer and the corresponding depth-stencil state, refer to [advanced-stencil techniques](#advanced-stencil-techniques).</span></span>

## <a name="span-idcreatedepthstencilstatespanspan-idcreatedepthstencilstatespanspan-idcreatedepthstencilstatespancreate-depth-stencil-state"></a><span data-ttu-id="db330-107"><span id="Create_Depth_Stencil_State"></span><span id="create_depth_stencil_state"></span><span id="CREATE_DEPTH_STENCIL_STATE"></span>深度/ステンシル ステートの作成</span><span class="sxs-lookup"><span data-stu-id="db330-107"><span id="Create_Depth_Stencil_State"></span><span id="create_depth_stencil_state"></span><span id="CREATE_DEPTH_STENCIL_STATE"></span>Create Depth-Stencil State</span></span>


<span data-ttu-id="db330-108">深度/ステンシル ステートは、出力結合ステージで、[深度/ステンシル テスト](https://msdn.microsoft.com/library/windows/desktop/bb205120)を実行する方法を指定します。</span><span class="sxs-lookup"><span data-stu-id="db330-108">The depth-stencil state tells the output-merger stage how to perform the [depth-stencil test](https://msdn.microsoft.com/library/windows/desktop/bb205120).</span></span> <span data-ttu-id="db330-109">深度/ステンシル テストは、特定のピクセルを描画するかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="db330-109">The depth-stencil test determines whether or not a given pixel should be drawn.</span></span>

## <a name="span-idbinddepthstenciltotheomstagespanspan-idbinddepthstenciltotheomstagespanspan-idbinddepthstenciltotheomstagespanbind-depth-stencil-data-to-the-om-stage"></a><span data-ttu-id="db330-110"><span id="Bind_Depth_Stencil_to_the_OM_Stage"></span><span id="bind_depth_stencil_to_the_om_stage"></span><span id="BIND_DEPTH_STENCIL_TO_THE_OM_STAGE"></span>深度/ステンシル データの OM ステージへのバインド</span><span class="sxs-lookup"><span data-stu-id="db330-110"><span id="Bind_Depth_Stencil_to_the_OM_Stage"></span><span id="bind_depth_stencil_to_the_om_stage"></span><span id="BIND_DEPTH_STENCIL_TO_THE_OM_STAGE"></span>Bind Depth-Stencil Data to the OM Stage</span></span>


<span data-ttu-id="db330-111">深度/ステンシル ステートをバインドします。</span><span class="sxs-lookup"><span data-stu-id="db330-111">Bind the depth-stencil state.</span></span>

<span data-ttu-id="db330-112">ビューを使用して、深度/ステンシル リソースをバインドします。</span><span class="sxs-lookup"><span data-stu-id="db330-112">Bind the depth-stencil resource using a view.</span></span>

<span data-ttu-id="db330-113">レンダー ターゲットは、すべて同じタイプのリソースである必要があります。</span><span class="sxs-lookup"><span data-stu-id="db330-113">Render targets must all be the same type of resource.</span></span> <span data-ttu-id="db330-114">マルチサンプル アンチエイリアシングを使用する場合、バインドされたすべてのレンダー ターゲットおよび深度バッファーのサンプル カウントが同じでなければなりません。</span><span class="sxs-lookup"><span data-stu-id="db330-114">If multisample antialiasing is used, all bound render targets and depth buffers must have the same sample counts.</span></span>

<span data-ttu-id="db330-115">バッファーをレンダー ターゲットとして使用する場合、深度/ステンシル テストと複数のレンダー ターゲットはサポートされません。</span><span class="sxs-lookup"><span data-stu-id="db330-115">When a buffer is used as a render target, depth-stencil testing and multiple render targets are not supported.</span></span>

-   <span data-ttu-id="db330-116">最大 8 個のレンダー ターゲットを同時にバインド可能です。</span><span class="sxs-lookup"><span data-stu-id="db330-116">As many as 8 render targets can be bound simultaneously.</span></span>
-   <span data-ttu-id="db330-117">レンダー ターゲットはすべて、すべての次元 (幅、高さ、3D の場合は奥行き、\*Array 型の場合は配列サイズ) でサイズが同じでなければなりません。</span><span class="sxs-lookup"><span data-stu-id="db330-117">All render targets must have the same size in all dimensions (width and height, and depth for 3D or array size for \*Array types).</span></span>
-   <span data-ttu-id="db330-118">各レンダー ターゲットでデータ形式が異なっていてもかまいません。</span><span class="sxs-lookup"><span data-stu-id="db330-118">Each render target may have a different data format.</span></span>
-   <span data-ttu-id="db330-119">書き込みマスクは、レンダー ターゲットに書き込まれるデータを制御します。</span><span class="sxs-lookup"><span data-stu-id="db330-119">Write masks control what data gets written to a render target.</span></span> <span data-ttu-id="db330-120">出力書き込みマスクは、レンダー ターゲット単位および成分レベル単位で、レンダー ターゲットに書き込まれるデータを制御します。</span><span class="sxs-lookup"><span data-stu-id="db330-120">The output write masks control on a per-render target, per-component level what data gets written to the render target(s).</span></span>

## <a name="span-idadvancedstenciltechniquesspanspan-idadvancedstenciltechniquesspanspan-idadvancedstenciltechniquesspanspan-idadvanced-stencil-techniquesspanadvanced-stencil-techniques"></a><span data-ttu-id="db330-121"><span id="Advanced_Stencil_Techniques"></span><span id="advanced_stencil_techniques"></span><span id="ADVANCED_STENCIL_TECHNIQUES"></span><span id="advanced-stencil-techniques"></span>高度なステンシル技法</span><span class="sxs-lookup"><span data-stu-id="db330-121"><span id="Advanced_Stencil_Techniques"></span><span id="advanced_stencil_techniques"></span><span id="ADVANCED_STENCIL_TECHNIQUES"></span><span id="advanced-stencil-techniques"></span>Advanced Stencil Techniques</span></span>


<span data-ttu-id="db330-122">深度/ステンシル バッファーのステンシル部分は、合成、デカール、および輪郭処理などのレンダリング エフェクトを作成するために使用できます。</span><span class="sxs-lookup"><span data-stu-id="db330-122">The stencil portion of the depth-stencil buffer can be used for creating rendering effects such as compositing, decaling, and outlining.</span></span>

-   [<span data-ttu-id="db330-123">合成</span><span class="sxs-lookup"><span data-stu-id="db330-123">Compositing</span></span>](#compositing)
-   [<span data-ttu-id="db330-124">デカール</span><span class="sxs-lookup"><span data-stu-id="db330-124">Decaling</span></span>](#decaling)
-   [<span data-ttu-id="db330-125">輪郭とシルエット</span><span class="sxs-lookup"><span data-stu-id="db330-125">Outlines and Silhouettes</span></span>](#outlines-and-silhouettes)
-   [<span data-ttu-id="db330-126">2 面ステンシル</span><span class="sxs-lookup"><span data-stu-id="db330-126">Two-Sided Stencil</span></span>](#two-sided-stencil)
-   [<span data-ttu-id="db330-127">深度/ステンシル バッファーをテクスチャとして読み取る</span><span class="sxs-lookup"><span data-stu-id="db330-127">Reading the Depth-Stencil Buffer as a Texture</span></span>](#reading-the-depth-stencil-buffer-as-a-texture)

### <a name="span-idcompositingspanspan-idcompositingspanspan-idcompositingspancompositing"></a><span data-ttu-id="db330-128"><span id="Compositing"></span><span id="compositing"></span><span id="COMPOSITING"></span>合成</span><span class="sxs-lookup"><span data-stu-id="db330-128"><span id="Compositing"></span><span id="compositing"></span><span id="COMPOSITING"></span>Compositing</span></span>

<span data-ttu-id="db330-129">ステンシル バッファーを使えば、アプリケーションは 2D または 3D 画像を 3D シーンに合成できます。</span><span class="sxs-lookup"><span data-stu-id="db330-129">Your application can use the stencil buffer to composite 2D or 3D images onto a 3D scene.</span></span> <span data-ttu-id="db330-130">ステンシル バッファーのマスクを使って、レンダー ターゲット サーフェスの領域をオクルードします。</span><span class="sxs-lookup"><span data-stu-id="db330-130">A mask in the stencil buffer is used to occlude an area of the rendering target surface.</span></span> <span data-ttu-id="db330-131">次に、テキストやビットマップなどの格納 2D 情報をオクルードされた領域に書き込むことができます。</span><span class="sxs-lookup"><span data-stu-id="db330-131">Stored 2D information, such as text or bitmaps, can then be written to the occluded area.</span></span> <span data-ttu-id="db330-132">別の方法として、アプリケーションでは追加 3D プリミティブをレンダー ターゲット サーフェスのステンシル マスクされた領域にレンダリングできます。</span><span class="sxs-lookup"><span data-stu-id="db330-132">Alternately, your application can render additional 3D primitives to the stencil-masked region of the rendering target surface.</span></span> <span data-ttu-id="db330-133">この場合、シーン全体をレンダリングすることもできます。</span><span class="sxs-lookup"><span data-stu-id="db330-133">It can even render an entire scene.</span></span>

<span data-ttu-id="db330-134">ゲームでは、複数の 3D シーンを合成することがよくあります。</span><span class="sxs-lookup"><span data-stu-id="db330-134">Games often composite multiple 3D scenes together.</span></span> <span data-ttu-id="db330-135">たとえば、ドライビング ゲームでは通常バックミラーを表示します。</span><span class="sxs-lookup"><span data-stu-id="db330-135">For instance, driving games typically display a rear-view mirror.</span></span> <span data-ttu-id="db330-136">バックミラーには、運転者の背後の 3D シーンの表示が含まれます。</span><span class="sxs-lookup"><span data-stu-id="db330-136">The mirror contains the view of the 3D scene behind the driver.</span></span> <span data-ttu-id="db330-137">したがって、バックミラーは、本質的には運転者の前方の風景と合成された 第 2 の 3D シーンと言えます。</span><span class="sxs-lookup"><span data-stu-id="db330-137">It is essentially a second 3D scene composited with the driver's forward view.</span></span>

### <a name="span-iddecalingspanspan-iddecalingspanspan-iddecalingspandecaling"></a><span data-ttu-id="db330-138"><span id="Decaling"></span><span id="decaling"></span><span id="DECALING"></span>デカール</span><span class="sxs-lookup"><span data-stu-id="db330-138"><span id="Decaling"></span><span id="decaling"></span><span id="DECALING"></span>Decaling</span></span>

<span data-ttu-id="db330-139">Direct3D アプリケーションでは、デカールを使用して、レンダー ターゲット サーフェスに描画される特定のプリミティブ イメージのピクセルを制御します。</span><span class="sxs-lookup"><span data-stu-id="db330-139">Direct3D applications use decaling to control which pixels from a particular primitive image are drawn to the rendering target surface.</span></span> <span data-ttu-id="db330-140">アプリケーションはプリミティブのイメージにデカールを適用して、同一平面上のポリゴンを適切にレンダリングできるようにします。</span><span class="sxs-lookup"><span data-stu-id="db330-140">Applications apply decals to the images of primitives to enable coplanar polygons to render correctly.</span></span>

<span data-ttu-id="db330-141">たとえば、道路にタイヤの跡と黄色い線を付ける場合、その跡は道路の上に直接表示する必要があります。</span><span class="sxs-lookup"><span data-stu-id="db330-141">For instance, when applying tire marks and yellow lines to a roadway, the markings should appear directly on top of the road.</span></span> <span data-ttu-id="db330-142">ただし、タイヤ跡と道路の z 値は同一です。</span><span class="sxs-lookup"><span data-stu-id="db330-142">However, the z values of the markings and the road are the same.</span></span> <span data-ttu-id="db330-143">したがって、深度バッファーでは、これら 2 つを明確に分離できない場合があります。</span><span class="sxs-lookup"><span data-stu-id="db330-143">Therefore, the depth buffer might not produce a clean separation between the two.</span></span> <span data-ttu-id="db330-144">背面のプリミティブの一部のピクセルが前面のプリミティブの手前にレンダリングされたり、その逆になったりする場合があります。</span><span class="sxs-lookup"><span data-stu-id="db330-144">Some pixels in the back primitive may be rendered on top of the front primitive and vice versa.</span></span> <span data-ttu-id="db330-145">出力されるイメージは、フレームが変わるたびにちらついているように見えます。</span><span class="sxs-lookup"><span data-stu-id="db330-145">The resulting image appears to shimmer from frame to frame.</span></span> <span data-ttu-id="db330-146">この現象は、z ファイティングまたはフリマリングと呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="db330-146">This effect is called z-fighting or flimmering.</span></span>

<span data-ttu-id="db330-147">この問題を解決するには、ステンシルを使用して、デカールが表示される背面プリミティブのセクションをマスクします。</span><span class="sxs-lookup"><span data-stu-id="db330-147">To solve this problem, use a stencil to mask the section of the back primitive where the decal will appear.</span></span> <span data-ttu-id="db330-148">z バッファリングをオフにし、レンダー ターゲット サーフェスのマスク オフされた領域に前面プリミティブのイメージをレンダリングします。</span><span class="sxs-lookup"><span data-stu-id="db330-148">Turn off z-buffering and render the image of the front primitive into the masked-off area of the render-target surface.</span></span>

<span data-ttu-id="db330-149">複数のテクスチャ ブレンディングを使用することで、この問題を解決できます。</span><span class="sxs-lookup"><span data-stu-id="db330-149">Multiple texture blending can be used to solve this problem.</span></span>

### <a name="span-idoutlinesandsilhouettesspanspan-idoutlinesandsilhouettesspanspan-idoutlinesandsilhouettesspanspan-idoutlines-and-silhouettesoutlines-and-silhouettes"></a><span data-ttu-id="db330-150"><span id="Outlines_and_Silhouettes"></span><span id="outlines_and_silhouettes"></span><span id="OUTLINES_AND_SILHOUETTES"></span><span id="outlines-and-silhouettes">輪郭とシルエット</span><span class="sxs-lookup"><span data-stu-id="db330-150"><span id="Outlines_and_Silhouettes"></span><span id="outlines_and_silhouettes"></span><span id="OUTLINES_AND_SILHOUETTES"></span><span id="outlines-and-silhouettes">Outlines and Silhouettes</span></span>

<span data-ttu-id="db330-151">輪郭処理やシルエット処理など、より抽象的なエフェクトにステンシル バッファーを使用することができます。</span><span class="sxs-lookup"><span data-stu-id="db330-151">You can use the stencil buffer for more abstract effects, such as outlining and silhouetting.</span></span>

<span data-ttu-id="db330-152">アプリケーションに 2 つのレンダリング パスがある場合、一方はステンシル マスクを生成するためのもので、もう一方はイメージにステンシル マスクを適用するためのものとすると、2 番目のパスのプリミティブが多少小さいときは、出力されるイメージがプリミティブの輪郭のみになります。</span><span class="sxs-lookup"><span data-stu-id="db330-152">If your application does two render passes - one to generate the stencil mask and second to apply the stencil mask to the image, but with the primitives slightly smaller on the second pass - the resulting image will contain only the primitive's outline.</span></span> <span data-ttu-id="db330-153">その場合、ステンシルでマスクされたイメージの領域を単色で塗りつぶすことで、プリミティブが浮き上がって見えるようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="db330-153">The application can then fill the stencil-masked area of the image with a solid color, giving the primitive an embossed look.</span></span>

<span data-ttu-id="db330-154">ステンシル マスクが、レンダリングするプリミティブと同じサイズおよび形状の場合、出力されるイメージではプリミティブの位置が穴になります。</span><span class="sxs-lookup"><span data-stu-id="db330-154">If the stencil mask is the same size and shape as the primitive you are rendering, the resulting image contains a hole where the primitive should be.</span></span> <span data-ttu-id="db330-155">その場合、穴を黒で塗りつぶすことで、プリミティブのシルエットを作成できます。</span><span class="sxs-lookup"><span data-stu-id="db330-155">Your application can then fill the hole with black to produce a silhouette of the primitive.</span></span>

### <a name="span-idtwosidedstencilspanspan-idtwosidedstencilspanspan-idtwosidedstencilspantwo-sided-stencil"></a><span data-ttu-id="db330-156"><span id="Two_Sided_Stencil"></span><span id="two_sided_stencil"></span><span id="TWO_SIDED_STENCIL"></span>2 面ステンシル</span><span class="sxs-lookup"><span data-stu-id="db330-156"><span id="Two_Sided_Stencil"></span><span id="two_sided_stencil"></span><span id="TWO_SIDED_STENCIL"></span>Two-Sided Stencil</span></span>

<span data-ttu-id="db330-157">シャドウ ボリュームは、ステンシル バッファーで影を描画するために使用します。</span><span class="sxs-lookup"><span data-stu-id="db330-157">Shadow Volumes are used for drawing shadows with the stencil buffer.</span></span> <span data-ttu-id="db330-158">オクルーディング ジオメトリによってキャストされたシャドウ ボリュームは、シルエットの縁を計算し、ライトと反対側の 3D ボリューム セットに押し出すことによって計算されます。</span><span class="sxs-lookup"><span data-stu-id="db330-158">The application computes the shadow volumes cast by occluding geometry, by computing the silhouette edges and extruding them away from the light into a set of 3D volumes.</span></span> <span data-ttu-id="db330-159">これらのボリュームはその後、ステンシル バッファーに 2 回レンダリングされます。</span><span class="sxs-lookup"><span data-stu-id="db330-159">These volumes are then rendered twice into the stencil buffer.</span></span>

<span data-ttu-id="db330-160">最初のレンダリングでは、前向きのポリゴンが描画され、ステンシル バッファーの値が増加します。</span><span class="sxs-lookup"><span data-stu-id="db330-160">The first render draws forward-facing polygons, and increments the stencil-buffer values.</span></span> <span data-ttu-id="db330-161">2 回目のレンダリングでは、シャドウ ボリュームの後ろ向きのポリゴンが描画され、ステンシル バッファーの値が減少します。</span><span class="sxs-lookup"><span data-stu-id="db330-161">The second render draws the back-facing polygons of the shadow volume, and decrements the stencil buffer values.</span></span>

<span data-ttu-id="db330-162">通常、増加したり減少のすべての値をキャンセル互いします。ただし、シーンでは、通常のジオメトリが z バッファー テストで不合格、シャドウ ボリュームをレンダリングするピクセルのいくつかの原因とレンダリングされています。</span><span class="sxs-lookup"><span data-stu-id="db330-162">Normally, all incremented and decremented values cancel each other out. However, the scene was already rendered with normal geometry causing some pixels to fail the z-buffer test as the shadow volume is rendered.</span></span> <span data-ttu-id="db330-163">ステンシル バッファーに残された値は、シャドウのピクセルに対応します。</span><span class="sxs-lookup"><span data-stu-id="db330-163">Values left in the stencil buffer correspond to pixels that are in the shadow.</span></span> <span data-ttu-id="db330-164">ステンシル バッファーの残りの内容は、すべてを覆う大きな黒のクワッドをシーンにアルファ ブレンディングするために、マスクとして使用されます。</span><span class="sxs-lookup"><span data-stu-id="db330-164">These remaining stencil-buffer contents are used as a mask, to alpha-blend a large, all-encompassing black quad into the scene.</span></span> <span data-ttu-id="db330-165">マスクとして機能するステンシル バッファーを使用すると、シャドウ内のピクセルが暗くなります。</span><span class="sxs-lookup"><span data-stu-id="db330-165">With the stencil buffer acting as a mask, the result is to darken pixels that are in the shadows.</span></span>

<span data-ttu-id="db330-166">これは、シャドウ ジオメトリが光源ごとに 2 回描画されることを意味するため、GPU の頂点処理のスループットに影響します。</span><span class="sxs-lookup"><span data-stu-id="db330-166">This means that the shadow geometry is drawn twice per light source, hence putting pressure on the vertex throughput of the GPU.</span></span> <span data-ttu-id="db330-167">2 面ステンシル機能は、この状況を軽減することを目的として設計されています。</span><span class="sxs-lookup"><span data-stu-id="db330-167">The two-sided stencil feature has been designed to mitigate this situation.</span></span> <span data-ttu-id="db330-168">この方法には、(次の) 2 組のステンシル ステートがあります。一方は前向きの三角形のそれぞれに設定され、もう一方は後ろ向きの三角形に設定されます。</span><span class="sxs-lookup"><span data-stu-id="db330-168">In this approach, there are two sets of stencil state (named below), one set each for the front-facing triangles and the other for the back-facing triangles.</span></span> <span data-ttu-id="db330-169">このようにして、光源ごとにシャドウ ボリューム単位で 1 つのパスのみが描画されます。</span><span class="sxs-lookup"><span data-stu-id="db330-169">This way, only a single pass is drawn per shadow volume, per light.</span></span>

### <a name="span-idreadingthedepth-stencilbufferasatexturespanspan-idreadingthedepth-stencilbufferasatexturespanspan-idreadingthedepth-stencilbufferasatexturespanspan-idreading-the-depth-stencil-buffer-as-a-texturespanreading-the-depth-stencil-buffer-as-a-texture"></a><span data-ttu-id="db330-170"><span id="Reading_the_Depth-Stencil_Buffer_as_a_Texture"></span><span id="reading_the_depth-stencil_buffer_as_a_texture"></span><span id="READING_THE_DEPTH-STENCIL_BUFFER_AS_A_TEXTURE"></span><span id="reading-the-depth-stencil-buffer-as-a-texture"></span>深度/ステンシル バッファーをテクスチャとして読み取る</span><span class="sxs-lookup"><span data-stu-id="db330-170"><span id="Reading_the_Depth-Stencil_Buffer_as_a_Texture"></span><span id="reading_the_depth-stencil_buffer_as_a_texture"></span><span id="READING_THE_DEPTH-STENCIL_BUFFER_AS_A_TEXTURE"></span><span id="reading-the-depth-stencil-buffer-as-a-texture"></span>Reading the Depth-Stencil Buffer as a Texture</span></span>

<span data-ttu-id="db330-171">アクティブでない深度/ステンシル バッファーを、シェーダーでテクスチャとして読み取ることができます。</span><span class="sxs-lookup"><span data-stu-id="db330-171">An inactive depth-stencil buffer can be read by a shader as a texture.</span></span> <span data-ttu-id="db330-172">深度/ステンシル バッファーをテクスチャとして読み取るアプリケーションでは 2 つのパスでレンダリングします。最初のパスでは深度/ステンシル バッファーに書き込み、2 番目のパスではそのバッファーから読み取ります。</span><span class="sxs-lookup"><span data-stu-id="db330-172">An application that reads a depth-stencil buffer as a texture renders in two passes, the first pass writes to the depth-stencil buffer and the second pass reads from the buffer.</span></span> <span data-ttu-id="db330-173">これにより、シェーダーはそれまでにバッファーに書き込んだ深度またはステンシルの値を、現在レンダリング中のピクセルの値と比較できます。</span><span class="sxs-lookup"><span data-stu-id="db330-173">This allows a shader to compare depth or stencil values previously written to the buffer against the value for the pixel currrently being rendered.</span></span> <span data-ttu-id="db330-174">この比較の結果を使用して、シャドー マッピングやソフト パーティクルなどのエフェクトをパーティクル システムで作成できます。</span><span class="sxs-lookup"><span data-stu-id="db330-174">The result of the comparison can be used to create effects such as shadow mapping or soft particles in a particle system.</span></span>

## <a name="span-idrelated-topicsspanrelated-topics"></a><span data-ttu-id="db330-175"><span id="related-topics"></span>関連トピック</span><span class="sxs-lookup"><span data-stu-id="db330-175"><span id="related-topics"></span>Related topics</span></span>


[<span data-ttu-id="db330-176">出力結合 (OM) ステージ</span><span class="sxs-lookup"><span data-stu-id="db330-176">Output Merger (OM) stage</span></span>](output-merger-stage--om-.md)

[<span data-ttu-id="db330-177">グラフィックス パイプライン</span><span class="sxs-lookup"><span data-stu-id="db330-177">Graphics pipeline</span></span>](graphics-pipeline.md)

[<span data-ttu-id="db330-178">出力結合 (OM) ステージ</span><span class="sxs-lookup"><span data-stu-id="db330-178">Output-Merger Stage</span></span>](https://msdn.microsoft.com/library/windows/desktop/bb205120)
