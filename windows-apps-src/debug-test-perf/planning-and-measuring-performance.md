---
ms.assetid: A37ADD4A-2187-4767-9C7D-EDE8A90AA215
title: パフォーマンスの計画
description: ユーザーは、高い応答性と自然な使用感、そしてバッテリーが消耗しないことをアプリに期待しています。
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 6388158a7b1c4fd3fa3e0ab17dcc86b7ef2d7c0e
ms.sourcegitcommit: d7613c791107f74b6a3dc12a372d9de916c0454b
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/05/2018
ms.locfileid: "8734495"
---
# <a name="planning-for-performance"></a><span data-ttu-id="2802a-104">パフォーマンスの計画</span><span class="sxs-lookup"><span data-stu-id="2802a-104">Planning for performance</span></span>



<span data-ttu-id="2802a-105">ユーザーは、高い応答性と自然な使用感、そしてバッテリーが消耗しないことをアプリに期待しています。</span><span class="sxs-lookup"><span data-stu-id="2802a-105">Users expect their apps to remain responsive, to feel natural, and not to drain their battery.</span></span> <span data-ttu-id="2802a-106">技術的には、パフォーマンスは機能要件ではありませんが、パフォーマンスを機能として扱うことで、ユーザーの期待に沿うことができます。</span><span class="sxs-lookup"><span data-stu-id="2802a-106">Technically, performance is a non-functional requirement but treating performance as a feature will help you deliver on your users' expectations.</span></span> <span data-ttu-id="2802a-107">鍵となる要因は、目標の明確化と測定の実施です。</span><span class="sxs-lookup"><span data-stu-id="2802a-107">Specifying goals, and measuring, are key factors.</span></span> <span data-ttu-id="2802a-108">パフォーマンスが重要なシナリオを決定し、優れたパフォーマンスとは何を意味するかを定義します。</span><span class="sxs-lookup"><span data-stu-id="2802a-108">Determine what your performance-critical scenarios are; define what good performance mean.</span></span> <span data-ttu-id="2802a-109">次に、プロジェクトの初期とライフサイクル全体で十分な回数の測定を行って、目標を達成できることを確認します。</span><span class="sxs-lookup"><span data-stu-id="2802a-109">Then measure early and often enough throughout the lifecycle of your project to be confident you'll hit your goals.</span></span>

## <a name="specifying-goals"></a><span data-ttu-id="2802a-110">目標を明確にする</span><span class="sxs-lookup"><span data-stu-id="2802a-110">Specifying goals</span></span>

<span data-ttu-id="2802a-111">ユーザー エクスペリエンスは、優れたパフォーマンスを定義する基本的な方法です。</span><span class="sxs-lookup"><span data-stu-id="2802a-111">The user experience is a basic way to define good performance.</span></span> <span data-ttu-id="2802a-112">アプリの起動時間は、アプリのパフォーマンスに対するユーザーの認識に影響を与える可能性があります。</span><span class="sxs-lookup"><span data-stu-id="2802a-112">An app's startup time can influence a user's perception of its performance.</span></span> <span data-ttu-id="2802a-113">ユーザーは、アプリの起動時間が 1 秒未満は優秀、5 秒未満は良好、5 秒を超えると貧弱であると考えることがあります。</span><span class="sxs-lookup"><span data-stu-id="2802a-113">A user might consider an app launch time of less than one second to be excellent, less than 5 seconds to be good, and greater than 5 seconds to be poor.</span></span>

<span data-ttu-id="2802a-114">その他のメトリック (メモリなど) がユーザー エクスペリエンスに与える影響はそれほど明確ではありません。</span><span class="sxs-lookup"><span data-stu-id="2802a-114">Other metrics have a less obvious impact on user experience, for example memory.</span></span> <span data-ttu-id="2802a-115">アプリが使うメモリの量が増えると、中断しているか非アクティブになっているアプリが終了する可能性が高くなります。</span><span class="sxs-lookup"><span data-stu-id="2802a-115">The chances of an app being terminated while either suspended or inactive rise with the amount of memory used by the active app.</span></span> <span data-ttu-id="2802a-116">一般に、メモリの使用量が高くなるとシステム上のすべてのアプリのエクスペリエンスが低下するため、メモリの消費量に関する目標を設定することは妥当なことです。</span><span class="sxs-lookup"><span data-stu-id="2802a-116">It's a general rule that high memory usage degrades the experience for all apps on the system, so having a goal on memory consumption is reasonable.</span></span> <span data-ttu-id="2802a-117">ユーザーが認識するアプリの大まかなサイズ (大、中、小) を考慮します。</span><span class="sxs-lookup"><span data-stu-id="2802a-117">Take into consideration the rough size of your app as perceived by users: small, medium, or large.</span></span> <span data-ttu-id="2802a-118">パフォーマンスに関する期待は、この認識と関連性があります。</span><span class="sxs-lookup"><span data-stu-id="2802a-118">Expectations around performance will correlate to this perception.</span></span> <span data-ttu-id="2802a-119">たとえば、たくさんのメディアは使わない小さいアプリであれば、消費するメモリが 100 MB を超えないようにします。</span><span class="sxs-lookup"><span data-stu-id="2802a-119">For example, you might want a small app that doesn't use a lot of media to consume less than 100MB of memory.</span></span>

<span data-ttu-id="2802a-120">初期目標を設定して後で修正するほうが、目標をまったく持たないことよりもましです。</span><span class="sxs-lookup"><span data-stu-id="2802a-120">It's better to set an initial goal, and then revise it later, than not to have a goal at all.</span></span> <span data-ttu-id="2802a-121">アプリのパフォーマンス目標は具体的かつ測定可能である必要があり、ユーザーまたはアプリがタスクを完了させるまでにかかる時間 (時間)、ユーザーの操作に応えてアプリが自身を再描画する割合と継続性 (滑らかな動作)、アプリがバッテリー電源を含むシステム リソースを節約する度合い (効率性) という 3 つのカテゴリに分類する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2802a-121">Your app's performance goals should be specific and measurable and they should fall into three categories: how long it takes users, or the app, to complete tasks (time); the rate and continuity with which the app redraws itself in response to user interaction (fluidity); and how well the app conserves system resources, including battery power (efficiency).</span></span>

## <a name="time"></a><span data-ttu-id="2802a-122">時間</span><span class="sxs-lookup"><span data-stu-id="2802a-122">Time</span></span>

<span data-ttu-id="2802a-123">ユーザーがアプリでタスクを完了するためにかかる経過時間の容認できる範囲 (*インタラクション クラス*) を考えます。</span><span class="sxs-lookup"><span data-stu-id="2802a-123">Think of the acceptable ranges of elapsed time (*interaction classes*) it takes for users to complete their tasks in your app.</span></span> <span data-ttu-id="2802a-124">各インタラクション クラスに対して、ラベル、認識されるユーザーの感情、理想時間、および最大時間を割り当てます。</span><span class="sxs-lookup"><span data-stu-id="2802a-124">For each interaction class assign a label, a perceived user sentiment, and ideal and maximum durations.</span></span> <span data-ttu-id="2802a-125">いくつかの提案を次に示します。</span><span class="sxs-lookup"><span data-stu-id="2802a-125">Here are some suggestions.</span></span>

| <span data-ttu-id="2802a-126">インタラクション クラスのラベル</span><span class="sxs-lookup"><span data-stu-id="2802a-126">Interaction class label</span></span> | <span data-ttu-id="2802a-127">ユーザーの体感</span><span class="sxs-lookup"><span data-stu-id="2802a-127">User perception</span></span>                 | <span data-ttu-id="2802a-128">理想時間</span><span class="sxs-lookup"><span data-stu-id="2802a-128">Ideal</span></span>            | <span data-ttu-id="2802a-129">最大時間</span><span class="sxs-lookup"><span data-stu-id="2802a-129">Maximum</span></span>          | <span data-ttu-id="2802a-130">例</span><span class="sxs-lookup"><span data-stu-id="2802a-130">Examples</span></span>                                                                     |
|-------------------------|---------------------------------|------------------|------------------|------------------------------------------------------------------------------|
| <span data-ttu-id="2802a-131">Fast (高速)</span><span class="sxs-lookup"><span data-stu-id="2802a-131">Fast</span></span>                    | <span data-ttu-id="2802a-132">ほとんど遅延を感じない</span><span class="sxs-lookup"><span data-stu-id="2802a-132">Minimally noticeable delay</span></span>      | <span data-ttu-id="2802a-133">100 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="2802a-133">100 milliseconds</span></span> | <span data-ttu-id="2802a-134">200 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="2802a-134">200 milliseconds</span></span> | <span data-ttu-id="2802a-135">アプリ バーを起動する、ボタンを押す (最初の応答)</span><span class="sxs-lookup"><span data-stu-id="2802a-135">Bring up the app bar; press a button (first response)</span></span>                        |
| <span data-ttu-id="2802a-136">Typical (標準)</span><span class="sxs-lookup"><span data-stu-id="2802a-136">Typical</span></span>                 | <span data-ttu-id="2802a-137">速いが、高速ではない</span><span class="sxs-lookup"><span data-stu-id="2802a-137">Quick, but not fast</span></span>             | <span data-ttu-id="2802a-138">300 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="2802a-138">300 milliseconds</span></span> | <span data-ttu-id="2802a-139">500 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="2802a-139">500 milliseconds</span></span> | <span data-ttu-id="2802a-140">サイズ変更、セマンティック ズーム</span><span class="sxs-lookup"><span data-stu-id="2802a-140">Resize; semantic zoom</span></span>                                                        |
| <span data-ttu-id="2802a-141">Responsive (応答)</span><span class="sxs-lookup"><span data-stu-id="2802a-141">Responsive</span></span>              | <span data-ttu-id="2802a-142">速くはないが、反応はよい</span><span class="sxs-lookup"><span data-stu-id="2802a-142">Not quick, but feels responsive</span></span> | <span data-ttu-id="2802a-143">500 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="2802a-143">500 milliseconds</span></span> | <span data-ttu-id="2802a-144">1 秒</span><span class="sxs-lookup"><span data-stu-id="2802a-144">1 second</span></span>         | <span data-ttu-id="2802a-145">別のページに移動する、中断状態からアプリを再開する</span><span class="sxs-lookup"><span data-stu-id="2802a-145">Navigate to a different page; resume the app from a suspended state</span></span>          |
| <span data-ttu-id="2802a-146">Launch (起動)</span><span class="sxs-lookup"><span data-stu-id="2802a-146">Launch</span></span>                  | <span data-ttu-id="2802a-147">操作に干渉する</span><span class="sxs-lookup"><span data-stu-id="2802a-147">Competitive experience</span></span>          | <span data-ttu-id="2802a-148">1 秒</span><span class="sxs-lookup"><span data-stu-id="2802a-148">1 second</span></span>         | <span data-ttu-id="2802a-149">3 秒</span><span class="sxs-lookup"><span data-stu-id="2802a-149">3 seconds</span></span>        | <span data-ttu-id="2802a-150">アプリを初めて起動する、アプリを終了後にもう一度起動する</span><span class="sxs-lookup"><span data-stu-id="2802a-150">Launch the app for the first time or after it has been previously terminated</span></span> |
| <span data-ttu-id="2802a-151">Continuous (継続)</span><span class="sxs-lookup"><span data-stu-id="2802a-151">Continuous</span></span>              | <span data-ttu-id="2802a-152">反応がよいと感じない</span><span class="sxs-lookup"><span data-stu-id="2802a-152">No longer feels responsive</span></span>      | <span data-ttu-id="2802a-153">500 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="2802a-153">500 milliseconds</span></span> | <span data-ttu-id="2802a-154">5 秒</span><span class="sxs-lookup"><span data-stu-id="2802a-154">5 seconds</span></span>        | <span data-ttu-id="2802a-155">インターネットからファイルをダウンロードする</span><span class="sxs-lookup"><span data-stu-id="2802a-155">Download a file from the Internet</span></span>                                            |
| <span data-ttu-id="2802a-156">Captive (占有)</span><span class="sxs-lookup"><span data-stu-id="2802a-156">Captive</span></span>                 | <span data-ttu-id="2802a-157">遅い、ユーザーが切り替えを検討する可能性がある</span><span class="sxs-lookup"><span data-stu-id="2802a-157">Long; user could switch away</span></span>    | <span data-ttu-id="2802a-158">500 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="2802a-158">500 milliseconds</span></span> | <span data-ttu-id="2802a-159">10 秒</span><span class="sxs-lookup"><span data-stu-id="2802a-159">10 seconds</span></span>       | <span data-ttu-id="2802a-160">ストアから複数のアプリをインストールする</span><span class="sxs-lookup"><span data-stu-id="2802a-160">Install multiple apps from the Store</span></span>                                         |

 

<span data-ttu-id="2802a-161">これで、インタラクション クラスをアプリのパフォーマンスのシナリオに割り当てることができます。</span><span class="sxs-lookup"><span data-stu-id="2802a-161">You can now assign interaction classes to your app's performance scenarios.</span></span> <span data-ttu-id="2802a-162">各シナリオに、アプリを参照した時点、ユーザー エクスペリエンスの一部、およびインタラクション クラスを割り当てることができます。</span><span class="sxs-lookup"><span data-stu-id="2802a-162">You can assign the app's point-in-time reference, a portion of the user experience, and an interaction class to each scenario.</span></span> <span data-ttu-id="2802a-163">次に示すのは、サンプルのレシピ紹介アプリのための提案です。</span><span class="sxs-lookup"><span data-stu-id="2802a-163">Here are some suggestions for an example food and dining app.</span></span>


<!-- DHALE: used HTML table here b/c WDCML src used rowspans -->
<table>
<tr><th><span data-ttu-id="2802a-164">シナリオ</span><span class="sxs-lookup"><span data-stu-id="2802a-164">Scenario</span></span></th><th><span data-ttu-id="2802a-165">時点</span><span class="sxs-lookup"><span data-stu-id="2802a-165">Time point</span></span></th><th><span data-ttu-id="2802a-166">ユーザー エクスペリエンス</span><span class="sxs-lookup"><span data-stu-id="2802a-166">User experience</span></span></th><th><span data-ttu-id="2802a-167">インタラクション クラス</span><span class="sxs-lookup"><span data-stu-id="2802a-167">Interaction class</span></span></th></tr>
<tr><td rowspan="3"><span data-ttu-id="2802a-168">レシピ ページに移動する</span><span class="sxs-lookup"><span data-stu-id="2802a-168">Navigate to recipe page</span></span> </td><td><span data-ttu-id="2802a-169">最初の応答</span><span class="sxs-lookup"><span data-stu-id="2802a-169">First response</span></span></td><td><span data-ttu-id="2802a-170">ページの切り替えアニメーションが始まった</span><span class="sxs-lookup"><span data-stu-id="2802a-170">Page transition animation started</span></span></td><td><span data-ttu-id="2802a-171">Fast (高速) (100 から 200 ミリ秒)</span><span class="sxs-lookup"><span data-stu-id="2802a-171">Fast (100-200 milliseconds)</span></span></td></tr>
<tr><td><span data-ttu-id="2802a-172">応答中</span><span class="sxs-lookup"><span data-stu-id="2802a-172">Responsive</span></span></td><td><span data-ttu-id="2802a-173">材料のリストが読み込まれた、画像は表示されていない</span><span class="sxs-lookup"><span data-stu-id="2802a-173">Ingredients list loaded; no images</span></span></td><td><span data-ttu-id="2802a-174">Responsive (応答) (500 ミリ秒から 1 秒)</span><span class="sxs-lookup"><span data-stu-id="2802a-174">Responsive (500 milliseconds - 1 second)</span></span></td></tr>
<tr><td><span data-ttu-id="2802a-175">ページが表示された</span><span class="sxs-lookup"><span data-stu-id="2802a-175">Visible complete</span></span></td><td><span data-ttu-id="2802a-176">すべてのコンテンツが読み込まれた、画像が表示された</span><span class="sxs-lookup"><span data-stu-id="2802a-176">All content loaded; images shown</span></span></td><td><span data-ttu-id="2802a-177">Continuous (継続) (500 ミリ秒から 5 秒)</span><span class="sxs-lookup"><span data-stu-id="2802a-177">Continuous (500 milliseconds - 5 seconds)</span></span></td></tr>
<tr><td rowspan="2"><span data-ttu-id="2802a-178">レシピを検索する</span><span class="sxs-lookup"><span data-stu-id="2802a-178">Search for recipe</span></span></td><td><span data-ttu-id="2802a-179">最初の応答</span><span class="sxs-lookup"><span data-stu-id="2802a-179">First response</span></span></td><td><span data-ttu-id="2802a-180">検索ボタンをクリックした</span><span class="sxs-lookup"><span data-stu-id="2802a-180">Search button clicked</span></span></td><td><span data-ttu-id="2802a-181">Fast (高速) (100 から 200 ミリ秒)</span><span class="sxs-lookup"><span data-stu-id="2802a-181">Fast (100 - 200 milliseconds)</span></span></td></tr>
<tr><td><span data-ttu-id="2802a-182">ページが表示された</span><span class="sxs-lookup"><span data-stu-id="2802a-182">Visible complete</span></span></td><td><span data-ttu-id="2802a-183">ローカル レシピのタイトル一覧が表示された</span><span class="sxs-lookup"><span data-stu-id="2802a-183">List of local recipe titles shown</span></span></td><td><span data-ttu-id="2802a-184">Typical (標準) (300 から 500 ミリ秒)</span><span class="sxs-lookup"><span data-stu-id="2802a-184">Typical (300 - 500 milliseconds)</span></span></td></tr>
</table>

<span data-ttu-id="2802a-185">ライブ コンテンツを表示する場合は、コンテンツの更新目標も考慮します。</span><span class="sxs-lookup"><span data-stu-id="2802a-185">If you're displaying live content then also consider content freshness goals.</span></span> <span data-ttu-id="2802a-186">目標は、コンテンツを数秒ごとに更新することですか。</span><span class="sxs-lookup"><span data-stu-id="2802a-186">Is the goal to refresh content every few seconds?</span></span> <span data-ttu-id="2802a-187">それとも、数分ごと、数時間ごと、1 日に 1 回の更新で、ユーザー エクスペリエンスは許容できる範囲ですか。</span><span class="sxs-lookup"><span data-stu-id="2802a-187">Or is refreshing content every few minutes, every few hours, or even once a day an acceptable user experience?</span></span>

<span data-ttu-id="2802a-188">目標を明確にすることで、アプリのテスト、分析、最適化を実行しやすくなります。</span><span class="sxs-lookup"><span data-stu-id="2802a-188">With your goals specified, you are now better able to test, analyze, and optimize your app.</span></span>

## <a name="fluidity"></a><span data-ttu-id="2802a-189">滑らかな動作</span><span class="sxs-lookup"><span data-stu-id="2802a-189">Fluidity</span></span>

<span data-ttu-id="2802a-190">アプリの具体的で測定可能な滑らかな動作の目標には、以下が含まれます。</span><span class="sxs-lookup"><span data-stu-id="2802a-190">Specific measurable fluidity goals for your app might include:</span></span>

-   <span data-ttu-id="2802a-191">画面の再描画で中断 (エラー) が発生しない。</span><span class="sxs-lookup"><span data-stu-id="2802a-191">No screen redraw stops-and-starts (glitches).</span></span>
-   <span data-ttu-id="2802a-192">アニメーションは 1 秒あたり 60 フレームでレンダリングする (FPS)。</span><span class="sxs-lookup"><span data-stu-id="2802a-192">Animations render at 60 frames per second (FPS).</span></span>
-   <span data-ttu-id="2802a-193">ユーザーがパンまたはスクロールしたとき、アプリは 1 秒あたり 3 ～ 6 ページ分のコンテンツを表示する。</span><span class="sxs-lookup"><span data-stu-id="2802a-193">When a user pans/scrolls, the app presents 3-6 pages of content per second.</span></span>

## <a name="efficiency"></a><span data-ttu-id="2802a-194">効率性</span><span class="sxs-lookup"><span data-stu-id="2802a-194">Efficiency</span></span>

<span data-ttu-id="2802a-195">アプリの具体的で測定可能な効率性の目標には、以下が含まれます。</span><span class="sxs-lookup"><span data-stu-id="2802a-195">Specific measurable efficiency goals for your app might include:</span></span>

-   <span data-ttu-id="2802a-196">アプリのプロセスで、常に CPU の割合が *N* 以下であり、メモリ使用量 (MB 単位) が *M* 以下である。</span><span class="sxs-lookup"><span data-stu-id="2802a-196">For your app's process, CPU percentage is at or below *N* and memory usage in MB is at or below *M* at all times.</span></span>
-   <span data-ttu-id="2802a-197">アプリがアクティブでないとき、*N* と *M* は、アプリのプロセスでは 0 である。</span><span class="sxs-lookup"><span data-stu-id="2802a-197">When the app is inactive, *N* and *M* are zero for your app's process.</span></span>
-   <span data-ttu-id="2802a-198">アプリはバッテリー電源で *X* 時間アクティブに使用でき、アプリがアクティブでないとき、デバイスは充電状態を *Y* 時間保持する。</span><span class="sxs-lookup"><span data-stu-id="2802a-198">Your app can be used actively for *X* hours on battery power; when your app is inactive, the device retains its charge for *Y* hours.</span></span>

## <a name="design-your-app-for-performance"></a><span data-ttu-id="2802a-199">アプリのパフォーマンスを設計する</span><span class="sxs-lookup"><span data-stu-id="2802a-199">Design your app for performance</span></span>

<span data-ttu-id="2802a-200">パフォーマンスの目標を使って、アプリの設計に役立てることができます。</span><span class="sxs-lookup"><span data-stu-id="2802a-200">You can now use your performance goals to influence your app's design.</span></span> <span data-ttu-id="2802a-201">サンプルのレシピ紹介アプリで、ユーザーがレシピ ページに移動した後、レシピの名前が最初に表示され、少し遅れて材料が表示され、さらに遅れて画像が表示されるように、[項目を徐々に更新](optimize-gridview-and-listview.md#update-items-incrementally)します。</span><span class="sxs-lookup"><span data-stu-id="2802a-201">Using the example food and dining app, after the user navigates to the recipe page, you might choose to [update items incrementally](optimize-gridview-and-listview.md#update-items-incrementally) so that the recipe's name is rendered first, displaying the ingredients is deferred, and displaying images is deferred further.</span></span> <span data-ttu-id="2802a-202">これで、パンまたはスクロール中の応答と滑らかな UI が保たれ、操作のペースが落ちて UI スレッドが追い付けるようになった後で完全なレンダリングを実行できます。</span><span class="sxs-lookup"><span data-stu-id="2802a-202">This maintains responsiveness and a fluid UI while panning/scrolling, with the full fidelity rendering taking place after the interaction slows to a pace that allow the UI thread to catch up.</span></span> <span data-ttu-id="2802a-203">他にも次の局面を検討します。</span><span class="sxs-lookup"><span data-stu-id="2802a-203">Here are some other aspects to consider.</span></span>

**<span data-ttu-id="2802a-204">UI</span><span class="sxs-lookup"><span data-stu-id="2802a-204">UI</span></span>**

-   <span data-ttu-id="2802a-205">[XAML マークアップを最適化](optimize-xaml-loading.md)することで、アプリの UI の各ページ (特に最初のページ) の解析と読み込みの時間とメモリの効率を最大化します。</span><span class="sxs-lookup"><span data-stu-id="2802a-205">Maximize parse and load time and memory efficiency for each page of your app's UI (especially the initial page) by [optimizing your XAML markup](optimize-xaml-loading.md).</span></span> <span data-ttu-id="2802a-206">簡単に言うと、必要になるまで UI とコードの読み込みを遅らせます。</span><span class="sxs-lookup"><span data-stu-id="2802a-206">In a nutshell, defer loading UI and code until it's needed.</span></span>
-   <span data-ttu-id="2802a-207">[**ListView**](https://msdn.microsoft.com/library/windows/apps/BR242878) と [**GridView**](https://msdn.microsoft.com/library/windows/apps/BR242705) では、すべての項目を同じサイズにし、できるだけ多くの [ListView と GridView の最適化手法](optimize-gridview-and-listview.md)を使います。</span><span class="sxs-lookup"><span data-stu-id="2802a-207">For [**ListView**](https://msdn.microsoft.com/library/windows/apps/BR242878) and [**GridView**](https://msdn.microsoft.com/library/windows/apps/BR242705), make all the items the same size and use as many [ListView and GridView optimization techniques](optimize-gridview-and-listview.md) as you can.</span></span>
-   <span data-ttu-id="2802a-208">UI は、コード内で命令を使って構築するのではなく、フレームワークが読み込んでチャンクで再利用できるマークアップ形式で宣言します。</span><span class="sxs-lookup"><span data-stu-id="2802a-208">Declare UI in the form of markup, which the framework can load and re-use in chunks, rather than constructing it imperatively in code.</span></span>
-   <span data-ttu-id="2802a-209">ユーザーが必要とするまで UI 要素の作成を遅らせます。</span><span class="sxs-lookup"><span data-stu-id="2802a-209">Delay creating UI elements until the user needs them.</span></span> <span data-ttu-id="2802a-210">[**x:Load**](../xaml-platform/x-load-attribute.md) 属性をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="2802a-210">See the [**x:Load**](../xaml-platform/x-load-attribute.md) attribute.</span></span>
-   <span data-ttu-id="2802a-211">ストーリーボードに設定されたアニメーションよりテーマ切り替えやテーマ アニメーションを優先的に使います。</span><span class="sxs-lookup"><span data-stu-id="2802a-211">Prefer theme transitions and animations to storyboarded animations.</span></span> <span data-ttu-id="2802a-212">詳しくは、「[アニメーションの概要](https://msdn.microsoft.com/library/windows/apps/Mt187350)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="2802a-212">For more info, see [Animations overview](https://msdn.microsoft.com/library/windows/apps/Mt187350).</span></span> <span data-ttu-id="2802a-213">ストーリーボードに設定されたアニメーションでは、画面を定期的に更新して CPU とグラフィックス パイプラインを常にアクティブにしておく必要があることを忘れないようにします。</span><span class="sxs-lookup"><span data-stu-id="2802a-213">Remember that storyboarded animations require constant updates to the screen, and keep the CPU and graphics pipeline active.</span></span> <span data-ttu-id="2802a-214">バッテリーを節約するために、ユーザーがアプリを操作していない場合はアニメーションを実行しないようにします。</span><span class="sxs-lookup"><span data-stu-id="2802a-214">To preserve the battery, don't have animations running if the user is not interacting with the app.</span></span>
-   <span data-ttu-id="2802a-215">読み込む画像は、[**GetThumbnailAsync**](https://msdn.microsoft.com/library/windows/apps/BR227210) メソッドを使って、そのときのビューに適したサイズで読み込む必要があります。</span><span class="sxs-lookup"><span data-stu-id="2802a-215">Images you load should be loaded at a size that is appropriate for the view in which you are presenting it, using the [**GetThumbnailAsync**](https://msdn.microsoft.com/library/windows/apps/BR227210) method.</span></span>

**<span data-ttu-id="2802a-216">CPU、メモリ、電源</span><span class="sxs-lookup"><span data-stu-id="2802a-216">CPU, memory, and power</span></span>**

-   <span data-ttu-id="2802a-217">優先度の低い作業は、優先度の低いスレッドやコアで実行するようにスケジュールを設定します。</span><span class="sxs-lookup"><span data-stu-id="2802a-217">Schedule lower-priority work to run on lower-priority threads and/or cores.</span></span> <span data-ttu-id="2802a-218">[非同期プログラミング](https://msdn.microsoft.com/library/windows/apps/Mt187335)、[**Dispatcher**](https://msdn.microsoft.com/library/windows/apps/BR209054) プロパティ、[**CoreDispatcher**](https://msdn.microsoft.com/library/windows/apps/BR208211) クラスをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="2802a-218">See [Asynchronous programming](https://msdn.microsoft.com/library/windows/apps/Mt187335), the [**Dispatcher**](https://msdn.microsoft.com/library/windows/apps/BR209054) property, and the [**CoreDispatcher**](https://msdn.microsoft.com/library/windows/apps/BR208211) class.</span></span>
-   <span data-ttu-id="2802a-219">一時停止中のメモリ使用量の多いリソース (メディアなど) を解放することで、アプリのメモリ使用量を最小限に抑えます。</span><span class="sxs-lookup"><span data-stu-id="2802a-219">Minimize your app's memory footprint by releasing expensive resources (such as media) on suspend.</span></span>
-   <span data-ttu-id="2802a-220">コードのワーキング セットを最小限に抑えます。</span><span class="sxs-lookup"><span data-stu-id="2802a-220">Minimize your code's working set.</span></span>
-   <span data-ttu-id="2802a-221">イベント ハンドラーを登録解除し、UI 要素を逆参照して、できるだけメモリ リークを避けます。</span><span class="sxs-lookup"><span data-stu-id="2802a-221">Avoid memory leaks by unregistering event handlers and dereferencing UI elements whenever possible.</span></span>
-   <span data-ttu-id="2802a-222">バッテリーを節約するために、データをポーリングする頻度、センサーを照会する頻度、またはアイドル状態の CPU に作業をスケジュールする頻度を控えめにします。</span><span class="sxs-lookup"><span data-stu-id="2802a-222">For the sake of the battery, be conservative with how often you poll for data, query a sensor, or schedule work on the CPU when it is idle.</span></span>

**<span data-ttu-id="2802a-223">データ アクセス</span><span class="sxs-lookup"><span data-stu-id="2802a-223">Data access</span></span>**

-   <span data-ttu-id="2802a-224">可能であれば、コンテンツをプリフェッチします。</span><span class="sxs-lookup"><span data-stu-id="2802a-224">If possible, prefetch content.</span></span> <span data-ttu-id="2802a-225">自動的プリフェッチについては、[**ContentPrefetcher**](https://msdn.microsoft.com/library/windows/apps/Dn279042) クラスをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="2802a-225">For automatic prefetching, see the [**ContentPrefetcher**](https://msdn.microsoft.com/library/windows/apps/Dn279042) class.</span></span> <span data-ttu-id="2802a-226">手動プリフェッチについては、[**Windows.ApplicationModel.Background**](https://msdn.microsoft.com/library/windows/apps/BR224847) 名前空間と [**MaintenanceTrigger**](https://msdn.microsoft.com/library/windows/apps/Hh700517) クラスをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="2802a-226">For manual prefetching, see the [**Windows.ApplicationModel.Background**](https://msdn.microsoft.com/library/windows/apps/BR224847) namespace and the [**MaintenanceTrigger**](https://msdn.microsoft.com/library/windows/apps/Hh700517) class.</span></span>
-   <span data-ttu-id="2802a-227">可能であれば、アクセスするときに負荷がかかるコンテンツはキャッシュしておきます。</span><span class="sxs-lookup"><span data-stu-id="2802a-227">If possible, cache content that's expensive to access.</span></span> <span data-ttu-id="2802a-228">[**LocalFolder**](https://msdn.microsoft.com/library/windows/apps/BR241621) プロパティと [**LocalSettings**](https://msdn.microsoft.com/library/windows/apps/BR241622) プロパティをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="2802a-228">See the [**LocalFolder**](https://msdn.microsoft.com/library/windows/apps/BR241621) and [**LocalSettings**](https://msdn.microsoft.com/library/windows/apps/BR241622) properties.</span></span>
-   <span data-ttu-id="2802a-229">キャッシュが失われた場合は、できるだけ早くプレース ホルダー UI を表示して、アプリがコンテンツを読み込み中であることを示します。</span><span class="sxs-lookup"><span data-stu-id="2802a-229">For cache misses, show a placeholder UI as quickly as possible that indicates that the app is still loading content.</span></span> <span data-ttu-id="2802a-230">ユーザーに不快感を与えないような方法で、プレースホルダーからライブ コンテンツに切り替えます。</span><span class="sxs-lookup"><span data-stu-id="2802a-230">Transition from placeholder to live content in a way that is not jarring to the user.</span></span> <span data-ttu-id="2802a-231">たとえば、アプリがライブ コンテンツを読み込む際に、ユーザーの指またはマウス ポインターの下にあるコンテンツの位置を変更しないようにします。</span><span class="sxs-lookup"><span data-stu-id="2802a-231">For example, don't change the position of content under the user's finger or mouse pointer as the app loads live content.</span></span>

**<span data-ttu-id="2802a-232">アプリの起動と再開</span><span class="sxs-lookup"><span data-stu-id="2802a-232">App launch and resume</span></span>**

-   <span data-ttu-id="2802a-233">アプリのスプラッシュ画面の表示を遅らせ、必要ない場合は拡張しません。</span><span class="sxs-lookup"><span data-stu-id="2802a-233">Defer the app's splash screen, and don't extend the app's splash screen unless necessary.</span></span> <span data-ttu-id="2802a-234">詳しくは、「[高速で滑らかな起動エクスペリエンスを作り上げる](http://go.microsoft.com/fwlink/p/?LinkId=317595)」と「[スプラッシュ画面の表示時間の延長](https://msdn.microsoft.com/library/windows/apps/Mt187309)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="2802a-234">For details, see [Creating a fast and fluid app launch experience](http://go.microsoft.com/fwlink/p/?LinkId=317595) and [Display a splash screen for more time](https://msdn.microsoft.com/library/windows/apps/Mt187309).</span></span>
-   <span data-ttu-id="2802a-235">スプラッシュ画面が消えた直後に発生するアニメーションは無効にします。アプリの起動が遅くなるように感じられるためです。</span><span class="sxs-lookup"><span data-stu-id="2802a-235">Disable animations that occur immediately after the splash screen is dismissed, as these will only lead to a perception of delay in app launch time.</span></span>

**<span data-ttu-id="2802a-236">アダプティブ UI と向き</span><span class="sxs-lookup"><span data-stu-id="2802a-236">Adaptive UI, and orientation</span></span>**

-   <span data-ttu-id="2802a-237">[**VisualStateManager**](https://msdn.microsoft.com/library/windows/apps/BR209021) クラスを使います。</span><span class="sxs-lookup"><span data-stu-id="2802a-237">Use the [**VisualStateManager**](https://msdn.microsoft.com/library/windows/apps/BR209021) class.</span></span>
-   <span data-ttu-id="2802a-238">必要な処理だけをすぐに完了し、負荷の大きなアプリの作業は後回しにします。処理を完了し、アプリの UI がトリミングされた状態で表示されるまでに 200 ～ 800 ミリ秒かかります。</span><span class="sxs-lookup"><span data-stu-id="2802a-238">Complete only required work immediately, deferring intensive app work until later—your app has between 200 and 800 milliseconds to complete work before the user sees your app's UI in a cropped state.</span></span>

<span data-ttu-id="2802a-239">パフォーマンス関連の設計が整ったら、アプリのコーディングを始めることができます。</span><span class="sxs-lookup"><span data-stu-id="2802a-239">With your performance-related designs in place, you can start coding your app.</span></span>

## <a name="instrument-for-performance"></a><span data-ttu-id="2802a-240">パフォーマンスを計測する</span><span class="sxs-lookup"><span data-stu-id="2802a-240">Instrument for performance</span></span>

<span data-ttu-id="2802a-241">アプリをコーディングする際に、アプリの実行中のある時点におけるメッセージやイベントをログに記録するコードを追加します。</span><span class="sxs-lookup"><span data-stu-id="2802a-241">As you code, add code that logs messages and events at certain points while your app runs.</span></span> <span data-ttu-id="2802a-242">アプリを後でテストする際に、Windows Performance Recorder や Windows Performance Analyzer (どちらも [Windows Performance Toolkit](https://msdn.microsoft.com/library/windows/apps/xaml/hh162945.aspx) に含まれています) などのプロファイリング ツールを使って、アプリのパフォーマンスに関するレポートを作成して閲覧できます。</span><span class="sxs-lookup"><span data-stu-id="2802a-242">Later, when you're testing your app, you can use profiling tools such as Windows Performance Recorder and Windows Performance Analyzer (both are included in the [Windows Performance Toolkit](https://msdn.microsoft.com/library/windows/apps/xaml/hh162945.aspx)) to create and view a report about your app's performance.</span></span> <span data-ttu-id="2802a-243">このレポートでメッセージやイベントを確認して、レポートの結果を簡単に解析できます。</span><span class="sxs-lookup"><span data-stu-id="2802a-243">In this report, you can look for these messages and events to help you more easily analyze the report's results.</span></span>

<span data-ttu-id="2802a-244">ユニバーサル Windows プラットフォーム (UWP) には、[Windows イベント トレーシング (ETW)](https://msdn.microsoft.com/library/windows/desktop/Bb968803) と連動するログ記録 API が用意されており、イベント ログの記録とトレースを行う高機能なソリューションを提供します。</span><span class="sxs-lookup"><span data-stu-id="2802a-244">The Universal Windows Platform (UWP) provides logging APIs, backed by [Event Tracing for Windows (ETW)](https://msdn.microsoft.com/library/windows/desktop/Bb968803), that together offer a rich event logging and tracing solution.</span></span> <span data-ttu-id="2802a-245">これらの API は [**Windows.Foundation.Diagnostics**](https://msdn.microsoft.com/library/windows/apps/BR206677) 名前空間の一部であり、[**FileLoggingSession**](https://msdn.microsoft.com/library/windows/apps/Dn264138) クラス、[**LoggingActivity**](https://msdn.microsoft.com/library/windows/apps/Dn264195) クラス、[**LoggingChannel**](https://msdn.microsoft.com/library/windows/apps/Dn264202) クラス、および [**LoggingSession**](https://msdn.microsoft.com/library/windows/apps/Dn264217) クラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="2802a-245">The APIs, which are part of the [**Windows.Foundation.Diagnostics**](https://msdn.microsoft.com/library/windows/apps/BR206677) namespace, include the [**FileLoggingSession**](https://msdn.microsoft.com/library/windows/apps/Dn264138), [**LoggingActivity**](https://msdn.microsoft.com/library/windows/apps/Dn264195), [**LoggingChannel**](https://msdn.microsoft.com/library/windows/apps/Dn264202), and [**LoggingSession**](https://msdn.microsoft.com/library/windows/apps/Dn264217) classes.</span></span>

<span data-ttu-id="2802a-246">アプリ実行中の特定の時点でレポートにメッセージを記録するには、**LoggingChannel** オブジェクトを作成し、オブジェクトの [**LogMessage**](https://msdn.microsoft.com/library/windows/apps/windows.foundation.diagnostics.loggingchannel.logmessage.aspx) メソッドを、次のように呼び出します。</span><span class="sxs-lookup"><span data-stu-id="2802a-246">To log a message in the report at a specific point while the app is running, create a **LoggingChannel** object, and then call the object's [**LogMessage**](https://msdn.microsoft.com/library/windows/apps/windows.foundation.diagnostics.loggingchannel.logmessage.aspx) method, like this.</span></span>

```csharp
// using Windows.Foundation.Diagnostics;
// ...

LoggingChannel myLoggingChannel = new LoggingChannel("MyLoggingChannel");

myLoggingChannel.LogMessage(LoggingLevel.Information, "Here' s my logged message.");

// ...
```

<span data-ttu-id="2802a-247">アプリ実行中の特定の期間にわたってレポートに開始イベントと停止イベントを記録するには、**LoggingActivity** オブジェクトを作成し、オブジェクトの [**LoggingActivity**](https://msdn.microsoft.com/library/windows/apps/windows.foundation.diagnostics.loggingactivity.loggingactivity.aspx) コンストラクターを次のように呼び出します。</span><span class="sxs-lookup"><span data-stu-id="2802a-247">To log start and stop events in the report over a period of time while the app is running, create a **LoggingActivity** object, and then call the object's [**LoggingActivity**](https://msdn.microsoft.com/library/windows/apps/windows.foundation.diagnostics.loggingactivity.loggingactivity.aspx) constructor, like this.</span></span>

```csharp
// using Windows.Foundation.Diagnostics;
// ...

LoggingActivity myLoggingActivity;

// myLoggingChannel is defined and initialized in the previous code example.
using (myLoggingActivity = new LoggingActivity("MyLoggingActivity"), myLoggingChannel))
{   // After this logging activity starts, a start event is logged.
    
    // Add code here to do something of interest.
    
}   // After this logging activity ends, an end event is logged.

// ...
```

<span data-ttu-id="2802a-248">「[ログの例](http://go.microsoft.com/fwlink/p/?LinkId=529576)」もご覧ください。</span><span class="sxs-lookup"><span data-stu-id="2802a-248">Also see the [Logging sample](http://go.microsoft.com/fwlink/p/?LinkId=529576).</span></span>

<span data-ttu-id="2802a-249">アプリをインストルメント化したら、アプリのパフォーマンスのテストと測定を実行できます。</span><span class="sxs-lookup"><span data-stu-id="2802a-249">With your app instrumented, you can test and measure your app's performance.</span></span>

## <a name="test-and-measure-against-performance-goals"></a><span data-ttu-id="2802a-250">アプリをテストしてパフォーマンスの目標と照らし合わせる</span><span class="sxs-lookup"><span data-stu-id="2802a-250">Test and measure against performance goals</span></span>

<span data-ttu-id="2802a-251">パフォーマンスの計画の一部として、開発のどの時点でパフォーマンスを測定するかを定義することがあります。</span><span class="sxs-lookup"><span data-stu-id="2802a-251">Part of your performance plan is to define the points during development where you'll measure performance.</span></span> <span data-ttu-id="2802a-252">測定の目的は、それを実行する時点 (プロトタイプ中、開発中、展開中) に応じて変化します。</span><span class="sxs-lookup"><span data-stu-id="2802a-252">This serves different purposes depending on whether you're measuring during prototyping, development, or deployment.</span></span> <span data-ttu-id="2802a-253">プロトタイプの初期段階でのパフォーマンスの測定は非常に有益である可能性があるため、意味のある作業を実行するコードができたら、すぐに測定することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="2802a-253">Measuring performance during the early stages of prototyping can be tremendously valuable, so we recommend that you do so as soon as you have code that does meaningful work.</span></span> <span data-ttu-id="2802a-254">早いうちに測定しておくと、アプリのどの部分のコストが重要かがわかり、設計の決定事項に関する情報も得られます。</span><span class="sxs-lookup"><span data-stu-id="2802a-254">Early measurements give you a good idea of where the important costs are in your app, and inform design decisions.</span></span> <span data-ttu-id="2802a-255">その結果、拡張しやすい高パフォーマンスのアプリを作成できます。</span><span class="sxs-lookup"><span data-stu-id="2802a-255">This results in high performing and scaling apps.</span></span> <span data-ttu-id="2802a-256">一般に、設計の変更が後になればなるほど、より多くのコストがかかります。</span><span class="sxs-lookup"><span data-stu-id="2802a-256">It's generally costlier to change designs later than earlier.</span></span> <span data-ttu-id="2802a-257">製品サイクルの後半でパフォーマンスを測定すると、十分な対応ができず、高いパフォーマンスが得られない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="2802a-257">Measuring performance late in the product cycle can result in last-minute hacks and poor performance.</span></span>

<span data-ttu-id="2802a-258">次の手法とツールを使ってアプリのパフォーマンスをテストして、元のパフォーマンスの目標と比較します。</span><span class="sxs-lookup"><span data-stu-id="2802a-258">Use these techniques and tools to test how your app stacks up against your original performance goals.</span></span>

-   <span data-ttu-id="2802a-259">さまざまなハードウェア構成 (オールインワン PC、デスクトップ PC、ノート PC、タブレット) でテストを行います。</span><span class="sxs-lookup"><span data-stu-id="2802a-259">Test against a wide variety of hardware configurations including all-in-one and desktop PCs, laptops, ultrabooks, and tablets and other mobile devices.</span></span>
-   <span data-ttu-id="2802a-260">さまざまな画面サイズでテストを行います。</span><span class="sxs-lookup"><span data-stu-id="2802a-260">Test against a wide variety of screen sizes.</span></span> <span data-ttu-id="2802a-261">画面サイズが大きいとより多くのコンテンツを表示できますが、すべてのコンテンツを表示するとパフォーマンスに悪影響が出る可能性があります。</span><span class="sxs-lookup"><span data-stu-id="2802a-261">While wider screen sizes can show much more content, bringing in all of that extra content can negatively impact performance.</span></span>
-   <span data-ttu-id="2802a-262">テストに影響する可変状態をできるだけ取り除きます。</span><span class="sxs-lookup"><span data-stu-id="2802a-262">Eliminate as many testing variables as you can.</span></span>
    -   <span data-ttu-id="2802a-263">テスト デバイスのバックグラウンド アプリを停止します。</span><span class="sxs-lookup"><span data-stu-id="2802a-263">Turn off background apps on the testing device.</span></span> <span data-ttu-id="2802a-264">これを行うには、Windows で、[スタート] メニューの **[設定]**、**[個人設定]**、**[ロック画面]** の順に選択します。</span><span class="sxs-lookup"><span data-stu-id="2802a-264">To do this, in Windows, select **Settings** from the Start menu &gt; **Personalization** &gt; **Lock screen**.</span></span> <span data-ttu-id="2802a-265">アクティブなアプリを選択し、**[なし]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="2802a-265">Select each active app and select **None**.</span></span>
    -   <span data-ttu-id="2802a-266">テスト デバイスに展開する前に、リリース構成でビルドすることで、アプリをネイティブ コードにコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="2802a-266">Compile your app to native code by building it in release configuration before deploying it to the testing device.</span></span>
    -   <span data-ttu-id="2802a-267">自動メンテナンスがテスト デバイスのパフォーマンスに影響しないようにするため、メンテナンスを手動でトリガーして完了するまで待ちます。</span><span class="sxs-lookup"><span data-stu-id="2802a-267">To ensure that automatic maintenance does not affect the performance of the testing device, trigger it manually and wait for it to complete.</span></span> <span data-ttu-id="2802a-268">Windows の [スタート] メニューで、**[セキュリティとメンテナンス]** を検索します。</span><span class="sxs-lookup"><span data-stu-id="2802a-268">In Windows, in the Start menu search for **Security and Maintenance**.</span></span> <span data-ttu-id="2802a-269">**[メンテナンス]** 領域の **[自動メンテナンス]** で、**[メンテナンスの開始]** を選択し、状態が **[メンテナンスは進行中です]** から別の状態に変化するまで待ちます。</span><span class="sxs-lookup"><span data-stu-id="2802a-269">In the **Maintenance** area, under **Automatic Maintenance**, select **Start maintenance** and wait for the status to change from **Maintenance in progress**.</span></span>
    -   <span data-ttu-id="2802a-270">一貫性のある測定結果が得られるように、アプリを複数回実行して、テストのランダム要素を排除します。</span><span class="sxs-lookup"><span data-stu-id="2802a-270">Run the app multiple times to help eliminate random testing variables and help ensure consistent measurements.</span></span>
-   <span data-ttu-id="2802a-271">低電力での利用可能性をテストします。</span><span class="sxs-lookup"><span data-stu-id="2802a-271">Test for reduced power availability.</span></span> <span data-ttu-id="2802a-272">ユーザーのデバイスは、開発用のコンピューターに比べ、大幅に低電力である可能性があります。</span><span class="sxs-lookup"><span data-stu-id="2802a-272">Your users' device might have significantly less power than your development machine.</span></span> <span data-ttu-id="2802a-273">Windows は、モバイル デバイスなどの低電力デバイスでの動作を考慮して設計されています。</span><span class="sxs-lookup"><span data-stu-id="2802a-273">Windows was designed with low-power devices, such as mobile devices, in mind.</span></span> <span data-ttu-id="2802a-274">プラットフォームで動作するアプリが、これらのデバイスでも高いパフォーマンスを発揮できるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="2802a-274">Apps that run on the platform should ensure they perform well on these devices.</span></span> <span data-ttu-id="2802a-275">経験則として、低電力デバイスでの実行速度はデスクトップ コンピューターの約 1/4 であると考えられるため、これに応じて目標を設定します。</span><span class="sxs-lookup"><span data-stu-id="2802a-275">As a heuristic, expect that a low power device runs at about a quarter the speed of a desktop computer, and set your goals accordingly.</span></span>
-   <span data-ttu-id="2802a-276">アプリのパフォーマンスを測定するには、Microsoft Visual Studio や Windows Performance Analyzer のようなツールを組み合わせて使います。</span><span class="sxs-lookup"><span data-stu-id="2802a-276">Use a combination of tools like Microsoft Visual Studio and Windows Performance Analyzer to measure app performance.</span></span> <span data-ttu-id="2802a-277">Visual Studio は、ソース コードのリンク設定など、アプリに焦点を当てた分析を行うように設計されています。</span><span class="sxs-lookup"><span data-stu-id="2802a-277">Visual Studio is designed to provide app-focused analysis, such as source code linking.</span></span> <span data-ttu-id="2802a-278">Windows Performance Analyzer は、システム情報、タッチ操作イベントに関する情報、ディスクの入出力 (I/O) に関する情報、グラフィックス処理ユニット (GPU) のコストに関する情報の提供など、システムに焦点を当てた分析を行うように設計されています。</span><span class="sxs-lookup"><span data-stu-id="2802a-278">Windows Performance Analyzer is designed to provide system-focused analysis, such as providing system info, info about touch manipulation events, and info about disk input/output (I/O) and graphics processing unit (GPU) cost.</span></span> <span data-ttu-id="2802a-279">どちらのツールでも、トレースをキャプチャしてエクスポートし、共有トレースと事後検証トレースを再開することができます。</span><span class="sxs-lookup"><span data-stu-id="2802a-279">Both tools provide trace capture and export, and can reopen shared and post-mortem traces.</span></span>
-   <span data-ttu-id="2802a-280">認定のため、ストアにアプリを提出する前に、 [Windows アプリ認定キットのテスト](windows-app-certification-kit-tests.md)の「パフォーマンス テスト」セクションで説明されて、パフォーマンスに関連するテスト_ケースをテスト プランに組み込むことを確認して、"パフォーマンスと[UWP アプリのテスト_ケース](https://msdn.microsoft.com/library/windows/apps/Dn275879)の安定性」セクションです。</span><span class="sxs-lookup"><span data-stu-id="2802a-280">Before you submit your app to the Store for certification, be sure to incorporate into your test plans the performance-related test cases as described in the "Performance tests" section of [Windows App Certification Kit tests](windows-app-certification-kit-tests.md) and in the "Performance and stability" section of [UWP app test cases](https://msdn.microsoft.com/library/windows/apps/Dn275879).</span></span>

<span data-ttu-id="2802a-281">詳しくは、次のリソースとプロファイリング ツールをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="2802a-281">For more info, see these resources and profiling tools.</span></span>

-   [<span data-ttu-id="2802a-282">Windows Performance Analyzer</span><span class="sxs-lookup"><span data-stu-id="2802a-282">Windows Performance Analyzer</span></span>](https://msdn.microsoft.com/library/windows/apps/xaml/hh448170.aspx)
-   [<span data-ttu-id="2802a-283">Windows Performance Toolkit</span><span class="sxs-lookup"><span data-stu-id="2802a-283">Windows Performance Toolkit</span></span>](https://msdn.microsoft.com/library/windows/apps/xaml/hh162945.aspx)
-   [<span data-ttu-id="2802a-284">Visual Studio 診断ツールを使用してパフォーマンスを分析する</span><span class="sxs-lookup"><span data-stu-id="2802a-284">Analyze performance using Visual Studio diagnostic tools</span></span>](https://msdn.microsoft.com/library/windows/apps/xaml/hh696636.aspx)
-   <span data-ttu-id="2802a-285">//build/ セッション「[XAML Performance (XAML のパフォーマンス)](https://channel9.msdn.com/Events/Build/2015/3-698)」</span><span class="sxs-lookup"><span data-stu-id="2802a-285">The //build/ session [XAML Performance](https://channel9.msdn.com/Events/Build/2015/3-698)</span></span>
-   <span data-ttu-id="2802a-286">//build/ セッション「[New XAML Tools in Visual Studio 2015 (Visual Studio 2015 の新しい XAML ツール)](https://channel9.msdn.com/Events/Build/2015/2-697)」</span><span class="sxs-lookup"><span data-stu-id="2802a-286">The //build/ session [New XAML Tools in Visual Studio 2015](https://channel9.msdn.com/Events/Build/2015/2-697)</span></span>

## <a name="respond-to-the-performance-test-results"></a><span data-ttu-id="2802a-287">パフォーマンス テストの結果に対応する</span><span class="sxs-lookup"><span data-stu-id="2802a-287">Respond to the performance test results</span></span>

<span data-ttu-id="2802a-288">アプリのパフォーマンス テストの結果を分析したら、次のような変更が必要かどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="2802a-288">After you analyze your performance test results, determine if any changes are needed, for example:</span></span>

-   <span data-ttu-id="2802a-289">現在の設計の決定事項のいずれかを変更する必要があるか。またはコードを最適化する必要があるか。</span><span class="sxs-lookup"><span data-stu-id="2802a-289">Should you change any of your app design decisions, or optimize your code?</span></span>
-   <span data-ttu-id="2802a-290">コードに対してインストルメンテーションを追加、削除、または変更する必要があるか。</span><span class="sxs-lookup"><span data-stu-id="2802a-290">Should you add, remove, or change any of the instrumentation in the code?</span></span>
-   <span data-ttu-id="2802a-291">パフォーマンス目標のいずれかを変更する必要があるか。</span><span class="sxs-lookup"><span data-stu-id="2802a-291">Should you revise any of your performance goals?</span></span>

<span data-ttu-id="2802a-292">変更が必要な場合は、変更を行った後でインストルメント化に戻り、テストを繰り返します。</span><span class="sxs-lookup"><span data-stu-id="2802a-292">If any changes are needed, make them and then go back to instrumenting or testing and repeat.</span></span>

## <a name="optimizing"></a><span data-ttu-id="2802a-293">最適化</span><span class="sxs-lookup"><span data-stu-id="2802a-293">Optimizing</span></span>

<span data-ttu-id="2802a-294">アプリのパフォーマンスが重要なコード パスのみ最適化します。この場所に最も多くの時間を費やします。</span><span class="sxs-lookup"><span data-stu-id="2802a-294">Optimize only the performance-critical code paths in your app: those where most time is spent.</span></span> <span data-ttu-id="2802a-295">プロファイリングによって、どの場所がこれに該当するかがわかります。</span><span class="sxs-lookup"><span data-stu-id="2802a-295">Profiling will tell you which.</span></span> <span data-ttu-id="2802a-296">多くの場合、優れた設計のソフトウェアを作成することと、最高レベルの最適化を実現したコードを記述することは、両立しません。</span><span class="sxs-lookup"><span data-stu-id="2802a-296">Often, there is a trade-off between creating software that follows good design practices and writing code that performs at the highest optimization.</span></span> <span data-ttu-id="2802a-297">一般的に、パフォーマンスがそれほど重視されない領域では、開発者の生産性や優れたソフトウェア設計を優先することが適切です。</span><span class="sxs-lookup"><span data-stu-id="2802a-297">It is generally better to prioritize developer productivity and good software design in areas where performance is not a concern.</span></span>