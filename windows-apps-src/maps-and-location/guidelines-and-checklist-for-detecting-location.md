---
Description: このトピックでは、ユーザーの位置にアクセスする必要があるアプリを構築する際のパフォーマンス ガイドラインを説明します。
title: 位置認識アプリのガイドライン
ms.assetid: 16294DD6-5D12-4062-850A-DB5837696B4D
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, UWP, 位置, 地図, 位置情報
ms.localizationpriority: medium
ms.openlocfilehash: b92d74332bb13a11adc25cb33c0d026e14a5b9e9
ms.sourcegitcommit: ac7f3422f8d83618f9b6b5615a37f8e5c115b3c4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/29/2019
ms.locfileid: "66371662"
---
# <a name="guidelines-for-location-aware-apps"></a><span data-ttu-id="d3fb7-104">位置認識アプリのガイドライン</span><span class="sxs-lookup"><span data-stu-id="d3fb7-104">Guidelines for location-aware apps</span></span>




<span data-ttu-id="d3fb7-105">**重要な API**</span><span class="sxs-lookup"><span data-stu-id="d3fb7-105">**Important APIs**</span></span>

-   [<span data-ttu-id="d3fb7-106">**地理的位置情報**</span><span class="sxs-lookup"><span data-stu-id="d3fb7-106">**Geolocation**</span></span>](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation)
-   [<span data-ttu-id="d3fb7-107">**Geolocator**</span><span class="sxs-lookup"><span data-stu-id="d3fb7-107">**Geolocator**</span></span>](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator)

<span data-ttu-id="d3fb7-108">このトピックでは、ユーザーの位置にアクセスする必要があるアプリを構築する際のパフォーマンス ガイドラインを説明します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-108">This topic describes performance guidelines for apps that require access to a user's location.</span></span>

## <a name="recommendations"></a><span data-ttu-id="d3fb7-109">推奨事項</span><span class="sxs-lookup"><span data-stu-id="d3fb7-109">Recommendations</span></span>


-   <span data-ttu-id="d3fb7-110">location オブジェクトは、アプリで位置データが必要になった場合にのみ使用を開始します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-110">Start using the location object only when the app requires location data.</span></span>

    <span data-ttu-id="d3fb7-111">ユーザーの位置情報にアクセスする前に、[**RequestAccessAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.requestaccessasync) を呼び出します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-111">Call the [**RequestAccessAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.requestaccessasync) before accessing the user’s location.</span></span> <span data-ttu-id="d3fb7-112">このときに、アプリをフォアグラウンドで実行し、**RequestAccessAsync** を UI スレッドから呼び出す必要があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-112">At that time, your app must be in the foreground and **RequestAccessAsync** must be called from the UI thread.</span></span> <span data-ttu-id="d3fb7-113">位置情報に対するアクセス許可をユーザーがアプリに与えるまで、アプリは位置情報にアクセスできません。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-113">Until the user grants your app permission to their location, your app can't access location data.</span></span>

-   <span data-ttu-id="d3fb7-114">アプリで位置情報が必須でない場合は、位置情報を必要とするタスクをユーザーが完了することを試みるまではその情報にアクセスしないでください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-114">If location isn't essential to your app, don't access it until the user tries to complete a task that requires it.</span></span> <span data-ttu-id="d3fb7-115">たとえば、ソーシャル ネットワーキング アプリに、[位置情報を使ってチェックイン] というボタンがある場合、アプリは、ユーザーがそのボタンをクリックするまでは位置情報にアクセスしないようにします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-115">For example, if a social networking app has a button for "Check in with my location," the app shouldn't access location until the user clicks the button.</span></span> <span data-ttu-id="d3fb7-116">アプリのメイン機能で位置情報が必要な場合は、すぐにアクセスしても問題ありません。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-116">It's okay to immediately access location if it is required for your app's main function.</span></span>

-   <span data-ttu-id="d3fb7-117">[  **Geolocator**](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator) オブジェクトの初めての使用はフォアグラウンド アプリのメイン UI スレッドで行い、ユーザーから同意を得るためのプロンプトをトリガーする必要があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-117">The first use of the [**Geolocator**](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator) object must be made on the main UI thread of the foreground app, to trigger the consent prompt to the user.</span></span> <span data-ttu-id="d3fb7-118">**Geolocator** の初めての使用とは、[**getGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) を初めて呼び出すとき、または [**positionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) イベントのハンドラーを初めて登録するときです。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-118">The first use of the **Geolocator** can be either the first call to [**getGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) or the first registration of a handler for the [**positionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) event.</span></span>

-   <span data-ttu-id="d3fb7-119">位置データがどのように使われるかをユーザーに知らせてください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-119">Tell the user how location data will be used.</span></span>
-   <span data-ttu-id="d3fb7-120">ユーザーが現在の位置を手動で更新できる UI を用意します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-120">Provide UI to enable users to manually refresh their location.</span></span>
-   <span data-ttu-id="d3fb7-121">位置データの取得中は、進行状況バーまたは進行状況リングを表示します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-121">Display a progress bar or ring while waiting to get location data.</span></span> <!--For info on the available progress controls and how to use them, see [**Guidelines for progress controls**](guidelines-and-checklist-for-progress-controls.md).-->
-   <span data-ttu-id="d3fb7-122">位置情報サービスが無効または利用不可になっている場合は、適切なエラー メッセージまたはダイアログを表示します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-122">Show appropriate error messages or dialogs when location services are disabled or not available.</span></span>

    <span data-ttu-id="d3fb7-123">位置情報の設定でアプリからユーザーの位置情報へのアクセスを許可していない場合は、**設定**アプリ内にある**位置情報に関するプライバシー設定**への使いやすいリンクを示すことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-123">If the location settings don't allow your app to access the user's location, we recommend providing a convenient link to the **location privacy settings** in the **Settings** app.</span></span> <span data-ttu-id="d3fb7-124">たとえば、ハイパーリンク コントロールを使うか、`ms-settings:privacy-location` URI を使用して [**LaunchUriAsync**](https://docs.microsoft.com/uwp/api/windows.system.launcher.launchuriasync) メソッドを呼び出すことでコードから**設定**アプリを起動します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-124">For example, you could use a Hyperlink control or call the [**LaunchUriAsync**](https://docs.microsoft.com/uwp/api/windows.system.launcher.launchuriasync) method to launch the **Settings** app from code using the `ms-settings:privacy-location` URI.</span></span> <span data-ttu-id="d3fb7-125">詳しくは、「[Windows 設定アプリの起動](https://docs.microsoft.com/windows/uwp/launch-resume/launch-settings-app)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-125">For more info, see [Launch the Windows Settings app](https://docs.microsoft.com/windows/uwp/launch-resume/launch-settings-app).</span></span>

-   <span data-ttu-id="d3fb7-126">位置情報へのアクセスをユーザーが無効にしたときに、キャッシュされた位置データをクリアし、[**Geolocator**](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator) を解放します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-126">Clear cached location data and release the [**Geolocator**](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator) when the user disables access to location info.</span></span>

    <span data-ttu-id="d3fb7-127">ユーザーが設定を使って位置情報へのアクセスをオフにした場合に、[**Geolocator**](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator) オブジェクトを解放します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-127">Release the [**Geolocator**](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator) object if the user turns off access to location info through Settings.</span></span> <span data-ttu-id="d3fb7-128">アプリが受信し、**アクセス\_DENIED**任意の場所 API 呼び出しの結果。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-128">The app will then receive **ACCESS\_DENIED** results for any location API calls.</span></span> <span data-ttu-id="d3fb7-129">アプリで位置データを保存またはキャッシュしている場合は、ユーザーが位置情報へのアクセスを無効にするときにすべてのキャッシュ データをクリアします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-129">If your app saves or caches location data, clear any cached data when the user revokes access to location info.</span></span> <span data-ttu-id="d3fb7-130">位置情報サービス経由で位置データを利用できないときに位置情報を手動で入力するための代替手段を用意してください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-130">Provide an alternate way to manually enter location info when location data is not available via location services.</span></span>

-   <span data-ttu-id="d3fb7-131">位置情報サービスを再び有効にするための UI を用意します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-131">Provide UI for reenabling location services.</span></span> <span data-ttu-id="d3fb7-132">たとえば、更新ボタンを再インスタンス化を提供、 [ **Geolocator** ](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator)オブジェクトおよびロケーション情報をもう一度取得を試みます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-132">For example, provide a refresh button that reinstantiates the [**Geolocator**](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator) object and tries to get location info again.</span></span>

    <span data-ttu-id="d3fb7-133">位置情報サービスを再び有効にするための UI を提供する—</span><span class="sxs-lookup"><span data-stu-id="d3fb7-133">Have your app provide UI for reenabling location services—</span></span>

    -   <span data-ttu-id="d3fb7-134">ユーザーが位置情報を無効にした後に再び有効にした場合、アプリには通知されません。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-134">If the user reenables location access after disabling it, there is no notification to the app.</span></span> <span data-ttu-id="d3fb7-135">[  **status**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.statuschangedeventargs.status) プロパティは変更されず、[**statusChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.statuschanged) イベントも発生しません。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-135">The [**status**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.statuschangedeventargs.status) property does not change and there is no [**statusChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.statuschanged) event.</span></span> <span data-ttu-id="d3fb7-136">アプリで、新しい [**Geolocator**](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator) オブジェクトを作成し、[**getGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) を呼び出して更新された位置情報データを取得するか、[**positionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) イベントの受信登録をもう一度行います。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-136">Your app should create a new [**Geolocator**](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator) object and call [**getGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) to try to get updated location data, or subscribe again to [**positionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) events.</span></span> <span data-ttu-id="d3fb7-137">位置情報が再び有効になったことを確認できたら、位置情報サービスが無効であることをユーザーに通知するために表示していた UI をクリアし、新しい状態に対して適切に対応します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-137">If the status then indicates that location has been reenabled, clear any UI by which your app previously notified the user that location services were disabled, and respond appropriately to the new status.</span></span>
    -   <span data-ttu-id="d3fb7-138">アプリをアクティブ化するとき、位置情報が必要な機能をユーザーが明示的に使おうとしたときなど、状況に応じて必要と思われる任意の時点で、位置情報データを取得し直すことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-138">Your app should also try again to get location data upon activation, or when the user explicitly tries to use functionality that requires location info, or at any other scenario-appropriate time.</span></span>

<span data-ttu-id="d3fb7-139">**[パフォーマンス]**</span><span class="sxs-lookup"><span data-stu-id="d3fb7-139">**Performance**</span></span>

-   <span data-ttu-id="d3fb7-140">アプリで位置情報の更新を受け取る必要がない場合は、位置情報の要求を 1 回だけ使います。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-140">Use one-time location requests if your app doesn't need to receive location updates.</span></span> <span data-ttu-id="d3fb7-141">たとえば、写真に位置情報タグを追加するアプリでは、位置情報更新イベントを受け取る必要はありません。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-141">For example, an app that adds a location tag to a photo doesn't need to receive location update events.</span></span> <span data-ttu-id="d3fb7-142">このようなアプリでは、[**getGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) を使って位置情報を要求します。詳しくは、「[現在の位置情報の取得](https://docs.microsoft.com/windows/uwp/maps-and-location/get-location)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-142">Instead, it should request location using [**getGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync), as described in [Get current location](https://docs.microsoft.com/windows/uwp/maps-and-location/get-location).</span></span>

    <span data-ttu-id="d3fb7-143">1 回限りの位置情報の要求を行う場合は、次の値を設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-143">When you make a one-time location request, you should set the following values.</span></span>

    -   <span data-ttu-id="d3fb7-144">[  **DesiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy) または [**DesiredAccuracyInMeters**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracyinmeters) を設定して、アプリから要求される精度を指定します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-144">Specify the accuracy requested by your app by setting the [**DesiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy) or the [**DesiredAccuracyInMeters**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracyinmeters).</span></span> <span data-ttu-id="d3fb7-145">これらのパラメーターを使用する場合の推奨事項については、以下をご覧ください</span><span class="sxs-lookup"><span data-stu-id="d3fb7-145">See below for recommendations on using these parameters</span></span>
    -   <span data-ttu-id="d3fb7-146">[  **GetGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) の最大保存期間のパラメーターを設定して、アプリで有用な位置情報を取得できる期間を指定します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-146">Set the max age parameter of [**GetGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) to specify how long ago a location can have been obtained to be useful for your app.</span></span> <span data-ttu-id="d3fb7-147">アプリで数秒または数分前の位置を使用できる場合は、ほとんどすぐに位置を受け取って、デバイスの電力を節約することができます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-147">If your app can use a position that is a few seconds or minutes old, your app can receive a position almost immediately and contribute to saving device power.</span></span>
    -   <span data-ttu-id="d3fb7-148">[  **GetGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) のタイムアウト パラメーターを設定します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-148">Set the timeout parameter of [**GetGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync).</span></span> <span data-ttu-id="d3fb7-149">これが、アプリが返される位置またはエラーを待機することができる長さです。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-149">This is how long your app can wait for a position or an error to be returned.</span></span> <span data-ttu-id="d3fb7-150">ユーザーへの応答性とアプリが必要とする精度のバランスを理解する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-150">You will need to figure out the trade-offs between responsiveness to the user and accuracy your app needs.</span></span>
-   <span data-ttu-id="d3fb7-151">頻繁に位置を更新する必要がある場合は、連続的な位置情報のセッションを使います。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-151">Use continuous location session when frequent position updates are required.</span></span> <span data-ttu-id="d3fb7-152">特定のしきい値を超えた移動を検出する場合、または発生時に絶えず位置情報の更新を取得する場合は、[**positionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) イベントと [**statusChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.statuschanged) イベントを使います。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-152">Use [**positionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) and [**statusChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.statuschanged) events for detecting movement past a specific threshold or for continuous location updates as they occur.</span></span>

    <span data-ttu-id="d3fb7-153">位置情報の更新を要求すると、[**DesiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy) または [**DesiredAccuracyInMeters**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracyinmeters) を設定して、アプリから要求される精度を指定できます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-153">When requesting location updates, you may want to specify the accuracy requested by your app by setting the [**DesiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy) or the [**DesiredAccuracyInMeters**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracyinmeters).</span></span> <span data-ttu-id="d3fb7-154">また、[**MovementThreshold**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.movementthreshold)  または [**ReportInterval**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.reportinterval) を使って、位置情報の更新が必要な頻度を設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-154">You should also set the frequency at which the location updates are needed, by using the [**MovementThreshold**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.movementthreshold) or the [**ReportInterval**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.reportinterval).</span></span>

    -   <span data-ttu-id="d3fb7-155">移動しきい値を指定します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-155">Specify the movement threshold.</span></span> <span data-ttu-id="d3fb7-156">アプリによっては、ユーザーの移動距離が大きいときにだけ位置情報を更新すれば済むものがあります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-156">Some apps need location updates only when the user has moved a large distance.</span></span> <span data-ttu-id="d3fb7-157">たとえば、地域のニュースや天気予報の更新情報を提供するアプリでは、ユーザーの位置が別の都市に変わらない限り位置情報を更新する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-157">For example, an app that provides local news or weather updates may not need location updates unless the user's location has changed to a different city.</span></span> <span data-ttu-id="d3fb7-158">このような場合は、[**MovementThreshold**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.movementthreshold) プロパティを設定して、位置情報更新イベントの発生条件となる最小の移動距離を調整します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-158">In this case, you adjust the minimum required movement for a location update event by setting the [**MovementThreshold**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.movementthreshold) property.</span></span> <span data-ttu-id="d3fb7-159">このプロパティには [**PositionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) イベントをフィルター処理する効果があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-159">This has the effect of filtering out [**PositionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) events.</span></span> <span data-ttu-id="d3fb7-160">これらのイベントは、位置の変化が移動しきい値を超えたときにのみ発生します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-160">These events are raised only when the change in position exceeds the movement threshold.</span></span>

    -   <span data-ttu-id="d3fb7-161">アプリのエクスペリエンスと整合し、システム リソースの使用が最小限に抑えられる [**reportInterval**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.reportinterval) を使います。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-161">Use [**reportInterval**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.reportinterval) that aligns with your app experience and that minimizes the use of system resources.</span></span> <span data-ttu-id="d3fb7-162">たとえば、天気予報アプリでは、15 分ごとにデータを更新するだけでよいと思われます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-162">For example, a weather app may require a data update only every 15 minutes.</span></span> <span data-ttu-id="d3fb7-163">リアルタイムのナビゲーション アプリを除くほとんどのアプリでは、位置情報の更新について、高い精度のストリームを常に必要とするわけではありません。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-163">Most apps, other than real-time navigation apps, don't require a highly accurate, constant stream of location updates.</span></span> <span data-ttu-id="d3fb7-164">最大限の精度のデータ ストリームを必要としない場合や、頻繁に更新する必要がない場合は、**ReportInterval** プロパティを設定して、アプリで位置情報を更新する必要がある最小の頻度を指定します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-164">If your app doesn't require the most accurate stream of data possible, or requires updates infrequently, set the **ReportInterval** property to indicate the minimum frequency of location updates that your app needs.</span></span> <span data-ttu-id="d3fb7-165">これにより、必要なときにだけ位置情報を計算することで、位置情報の提供元の電力を節約できます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-165">The location source can then conserve power by calculating location only when needed.</span></span>

        <span data-ttu-id="d3fb7-166">リアルタイムのデータを必要とするアプリでは、最短の間隔を指定せずに、[**ReportInterval**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.reportinterval) を 0 に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-166">Apps that do require real-time data should set [**ReportInterval**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.reportinterval) to 0, to indicate that no minimum interval is specified.</span></span> <span data-ttu-id="d3fb7-167">既定のレポート間隔は、1 秒またはハードウェアでサポートされる最短間隔 (短い方) です。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-167">The default report interval is 1 second or as frequent as the hardware can support – whichever is shorter.</span></span>

        <span data-ttu-id="d3fb7-168">位置データを提供するデバイスでは、さまざまなアプリから要求されるレポート間隔を追跡し、要求された最短の間隔でデータをレポートする場合があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-168">Devices that provide location data may track the report interval requested by different apps, and provide data reports at the smallest requested interval.</span></span> <span data-ttu-id="d3fb7-169">これにより、精度の要件が最も高いアプリに必要なデータを提供できます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-169">The app with the greatest need for accuracy thus receives the data it needs.</span></span> <span data-ttu-id="d3fb7-170">そのため、別のアプリで要求された更新頻度の方が高い場合は、要求した頻度よりも頻繁に更新が生成されることがあります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-170">Therefore, it's possible that the location provider will generate updates at a higher frequency than your app requested, if another app has requested more frequent updates.</span></span>

        <span data-ttu-id="d3fb7-171">**注**  場所のソースが特定のレポート間隔の要求を許可するという保証はありません。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-171">**Note**  It isn't guaranteed that the location source will honor the request for the given report interval.</span></span> <span data-ttu-id="d3fb7-172">位置情報取得機能デバイスによってはレポート間隔を追跡しないものもありますが、追跡されるものとして指定しておくことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-172">Not all location provider devices track the report interval, but you should still provide it for those that do.</span></span>

    -   <span data-ttu-id="d3fb7-173">電力を節約するには、[**desiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy) プロパティを設定して、アプリで高い精度のデータが必要かどうかを位置情報プラットフォームに示します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-173">To help conserve power, set the [**desiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy) property to indicate to the location platform whether your app needs high-accuracy data.</span></span> <span data-ttu-id="d3fb7-174">高い精度のデータを必要とするアプリがなければ、GPS 位置情報取得機能を無効にして電力を節約できます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-174">If no apps require high-accuracy data, the system can save power by not turning on GPS providers.</span></span>

        -   <span data-ttu-id="d3fb7-175">GPS でデータを取得するには、[**desiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy) を **HIGH** に設定します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-175">Set [**desiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy) to **HIGH** to enable the GPS to acquire data.</span></span>
        -   <span data-ttu-id="d3fb7-176">ターゲティング広告のためにのみ位置情報を使うアプリは、消費電力を最小限に抑えるため、[**desiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy) を **Default** に設定します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-176">Set [**desiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy) to **Default** and use only a single-shot call pattern to minimize power consumption if your app uses location info solely for ad targeting.</span></span>

        <span data-ttu-id="d3fb7-177">精度についてアプリに特定のニーズがある場合は、[**DesiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy) を使う代わりに [**DesiredAccuracyInMeters**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracyinmeters) プロパティを使うこともあります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-177">If your app has specific needs around accuracy, you may want to use the [**DesiredAccuracyInMeters**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracyinmeters) property instead of using [**DesiredAccuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.desiredaccuracy).</span></span> <span data-ttu-id="d3fb7-178">これは、通常、位置情報を移動体通信ビーコン、Wi-Fi ビーコンや衛星に基づいて取得できる Windows Phone に特に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-178">This is particularly useful on Windows Phone, where position can usually be obtained based on cellular beacons, Wi-Fi beacons and satellites.</span></span> <span data-ttu-id="d3fb7-179">より具体的な精度値を選ぶと、システムが位置情報を提供する際に最も低い消費電力で適切なテクノロジを識別するために役立ちます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-179">Picking a more specific accuracy value will help the system identify the right technologies to use with the lowest power cost when providing a position.</span></span>

        <span data-ttu-id="d3fb7-180">次に、例を示します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-180">For example:</span></span>

        -   <span data-ttu-id="d3fb7-181">アプリが広告の調整、天気、ニュースなどのための位置情報を取得している場合は、一般に 5000 m の精度で十分です。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-181">If your app is obtaining location for ads tuning, weather, news, etc, an accuracy of 5000 meter is generally enough.</span></span>
        -   <span data-ttu-id="d3fb7-182">近所の取引の近くにあるアプリを表示している場合は 300 メーターの精度は結果を提供する一般的です。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-182">If your app is displaying nearby deals in the neighborhood, an accuracy of 300 meter is generally good to provide results.</span></span>
        -   <span data-ttu-id="d3fb7-183">ユーザーがお勧めの近くのレストランを探している場合は、ブロック内の位置を取得する必要がありますので、100 m の精度で十分です。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-183">If the user is looking for recommendations to nearby restaurants, we likely want to get a position within a block, so an accuracy of 100 meters is sufficient.</span></span>
        -   <span data-ttu-id="d3fb7-184">ユーザーが自身の位置を共有しようとしている場合は、アプリには約 10 m の精度が必要です。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-184">If the user is trying to share his position, the app should request an accuracy of about 10 meters.</span></span>
    -   <span data-ttu-id="d3fb7-185">アプリに特定の精度の要件がある場合は [**Geocoordinate.accuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geocoordinate.accuracy) プロパティを使います。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-185">Use the [**Geocoordinate.accuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geocoordinate.accuracy) property if your app has specific accuracy requirements.</span></span> <span data-ttu-id="d3fb7-186">たとえば、ナビゲーション アプリでは、**Geocoordinate.accuracy** プロパティを使って、利用可能な位置情報データがアプリの要件を満たしているかどうかを調べます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-186">For example, navigation apps should use the **Geocoordinate.accuracy** property to determine whether the available location data meets the app's requirements.</span></span>

-   <span data-ttu-id="d3fb7-187">起動時の待ち時間を考慮します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-187">Consider start-up delay.</span></span> <span data-ttu-id="d3fb7-188">アプリで初めて位置データを要求したとき、位置情報取得機能が起動するまでに 1 ～ 2 秒の待ち時間が発生することがあります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-188">The first time an app requests location data, there might be a short delay (1-2 seconds) while the location provider starts up.</span></span> <span data-ttu-id="d3fb7-189">アプリの UI を設計するときは、この点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-189">Consider this in the design of your app's UI.</span></span> <span data-ttu-id="d3fb7-190">たとえば、[**GetGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) の呼び出しを保留している他のタスクがブロックされないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-190">For instance, you may want to avoid blocking other tasks pending the completion of the call to [**GetGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync).</span></span>

-   <span data-ttu-id="d3fb7-191">バックグラウンドの動作を考慮します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-191">Consider background behavior.</span></span> <span data-ttu-id="d3fb7-192">アプリにフォーカスがない場合、バックグラウンドで中断されている間は位置情報更新イベントを受け取りません。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-192">If your app doesn't have focus, it won't receive location update events while it's suspended in the background.</span></span> <span data-ttu-id="d3fb7-193">位置情報の更新をログに記録して追跡する場合は、この点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-193">If your app tracks location updates by logging them, be aware of this.</span></span> <span data-ttu-id="d3fb7-194">アプリにフォーカスが戻った後は、新しいイベントだけを受け取ります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-194">When the app regains focus, it receives only new events.</span></span> <span data-ttu-id="d3fb7-195">アプリが非アクティブだったときに発生した更新は取得されません。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-195">It does not get any updates that occurred when it was inactive.</span></span>

-   <span data-ttu-id="d3fb7-196">ロー センサーとフュージョン センサーを効率的に使います。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-196">Use raw and fusion sensors efficiently.</span></span> <span data-ttu-id="d3fb7-197">センサーには、*ロー センサー*と*フュージョン センサー*の 2 種類があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-197">There are two types of sensors: *raw* and *fusion*.</span></span>

    -   <span data-ttu-id="d3fb7-198">ロー センサーには、加速度計、ジャイロメーター、磁力計が含まれます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-198">Raw sensors include the accelerometer, gyrometer, and magnetometer.</span></span>
    -   <span data-ttu-id="d3fb7-199">フュージョン センサーには、向き、傾斜計、コンパスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-199">Fusion sensors include orientation, inclinometer, and compass.</span></span> <span data-ttu-id="d3fb7-200">フュージョン センサーは、ロー センサーの組み合わせからデータを取得します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-200">Fusion sensors get their data from combinations of the raw sensors.</span></span>

    <span data-ttu-id="d3fb7-201">Windows ランタイム Api は、これらのセンサー、磁力計以外のすべてにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-201">The Windows Runtime APIs can access all of these sensors except for the magnetometer.</span></span> <span data-ttu-id="d3fb7-202">フュージョン センサーの方がロー センサーよりも正確で安定していますが、より多くの電力を使います。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-202">Fusion sensors are more accurate and stable than raw sensors, but they use more power.</span></span> <span data-ttu-id="d3fb7-203">用途に適したセンサーを使う必要があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-203">You should use the right sensors for the right purpose.</span></span> <span data-ttu-id="d3fb7-204">詳しくは、「[センサー](https://docs.microsoft.com/windows/uwp/devices-sensors/sensors)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-204">For more info, see [Sensors](https://docs.microsoft.com/windows/uwp/devices-sensors/sensors).</span></span>

<span data-ttu-id="d3fb7-205">**コネクト スタンバイ**</span><span class="sxs-lookup"><span data-stu-id="d3fb7-205">**Connected standby**</span></span>
- <span data-ttu-id="d3fb7-206">PC がコネクト スタンバイ状態にある場合、[**Geolocator**](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator) オブジェクトはいつでもインスタンス化できます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-206">When the PC is in connected standby state, [**Geolocator**](https://docs.microsoft.com/uwp/api/Windows.Devices.Geolocation.Geolocator) objects can always be instantiated.</span></span> <span data-ttu-id="d3fb7-207">しかし、**Geolocator** オブジェクトは集約する対象のセンサーを見つけることができず、[**GetGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) の呼び出しは 7 秒後にタイムアウトします。[**PositionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) イベント リスナーの呼び出しは行われず、[**StatusChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.statuschanged) イベント リスナーは 1 回呼び出され、そのステータスは **NoData** となります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-207">However, the **Geolocator** object will not find any sensors to aggregate and therefore calls to [**GetGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) will time out after 7 seconds, [**PositionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) event listeners will never be called, and [**StatusChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.statuschanged) event listeners will be called once with the **NoData** status.</span></span>

## <a name="additional-usage-guidance"></a><span data-ttu-id="d3fb7-208">その他の使い方のガイダンス</span><span class="sxs-lookup"><span data-stu-id="d3fb7-208">Additional usage guidance</span></span>


### <a name="detecting-changes-in-location-settings"></a><span data-ttu-id="d3fb7-209">位置情報設定の変更を検出する</span><span class="sxs-lookup"><span data-stu-id="d3fb7-209">Detecting changes in location settings</span></span>

<span data-ttu-id="d3fb7-210">ユーザーは、**設定**アプリの**位置情報に関するプライバシー設定**を使って、位置情報機能を無効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-210">The user can turn off location functionality by using the **location privacy settings** in the **Settings** app.</span></span>

-   <span data-ttu-id="d3fb7-211">ユーザーが位置情報サービスを無効にしたり再び有効にしたことを検出するには、次の操作を行います。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-211">To detect when the user disables or reenables location services:</span></span>
    -   <span data-ttu-id="d3fb7-212">[  **StatusChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.statuschanged) イベントを処理します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-212">Handle the [**StatusChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.statuschanged) event.</span></span> <span data-ttu-id="d3fb7-213">**StatusChanged** イベントの引数である [**Status**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.statuschangedeventargs.status) プロパティの値は、ユーザーが位置情報サービスを無効にすると **Disabled** になります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-213">The [**Status**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.statuschangedeventargs.status) property of the argument to the **StatusChanged** event has the value **Disabled** if the user turns off location services.</span></span>
    -   <span data-ttu-id="d3fb7-214">[  **GetGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync) から返るエラー コードをチェックします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-214">Check the error codes returned from [**GetGeopositionAsync**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.getgeopositionasync).</span></span> <span data-ttu-id="d3fb7-215">場合は、ユーザーには、位置情報サービスが無効に、呼び出し**GetGeopositionAsync**で失敗する、**アクセス\_DENIED**エラーと[ **LocationStatus**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.locationstatus)プロパティの値を**無効**します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-215">If the user has disabled location services, calls to **GetGeopositionAsync** fail with an **ACCESS\_DENIED** error and the [**LocationStatus**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.locationstatus) property has the value **Disabled**.</span></span>
-   <span data-ttu-id="d3fb7-216">地図アプリのような、位置情報データが必須のアプリの場合は、必ず次の操作を実行してください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-216">If you have an app for which location data is essential—for example, a mapping app—, be sure to do the following:</span></span>
    -   <span data-ttu-id="d3fb7-217">ユーザーの位置情報が変わったときに更新情報を取得できるように、[**PositionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) イベントを処理します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-217">Handle the [**PositionChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.positionchanged) event to get updates if the user’s location changes.</span></span>
    -   <span data-ttu-id="d3fb7-218">前の説明に従って [**StatusChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.statuschanged) イベントを処理し、位置設定の変化を検出します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-218">Handle the [**StatusChanged**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geolocator.statuschanged) event as described previously, to detect changes in location settings.</span></span>

<span data-ttu-id="d3fb7-219">位置情報サービスからは、データが利用可能になったときにデータが返されます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-219">Note that the location service will return data as it becomes available.</span></span> <span data-ttu-id="d3fb7-220">最初に誤差の範囲が大きい位置情報を返し、より正確な情報が利用可能になったときに位置情報を更新する場合があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-220">It may first return a location with a larger error radius and then update the location with more accurate information as it becomes available.</span></span> <span data-ttu-id="d3fb7-221">ユーザーの位置情報を表示するアプリでは、通常、より正確な情報が利用可能になったときに位置情報を更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-221">Apps displaying the user's location would normally want to update the location as more accurate information becomes available.</span></span>

### <a name="graphical-representations-of-location"></a><span data-ttu-id="d3fb7-222">位置情報のグラフィック表示</span><span class="sxs-lookup"><span data-stu-id="d3fb7-222">Graphical representations of location</span></span>

<span data-ttu-id="d3fb7-223">アプリでは、[**Geocoordinate.accuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geocoordinate.accuracy) を使って、ユーザーの現在の位置情報を地図に明確に示すようにします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-223">Have your app use [**Geocoordinate.accuracy**](https://docs.microsoft.com/uwp/api/windows.devices.geolocation.geocoordinate.accuracy) to denote the user’s current location on the map clearly.</span></span> <span data-ttu-id="d3fb7-224">精度の幅は、主に、誤差の範囲が半径約 10 m、半径約 100 m、半径 1 km 超、という 3 種類があります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-224">There are three main bands for accuracy—an error radius of approximately 10 meters, an error radius of approximately 100 meters, and an error radius of greater than 1 kilometer.</span></span> <span data-ttu-id="d3fb7-225">精度情報を使うことにより、アプリでは、利用可能なデータの状況に応じて位置情報を正確に表示することができるようになります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-225">By using the accuracy information, you can ensure that your app displays location accurately in the context of the data available.</span></span> <span data-ttu-id="d3fb7-226">マップ コントロールを使用する方法に関する一般的な情報については、「[2D、3D、Streetside ビューでの地図の表示](https://docs.microsoft.com/windows/uwp/maps-and-location/display-maps)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-226">For general information about using the map control, see [Display maps with 2D, 3D, and Streetside views](https://docs.microsoft.com/windows/uwp/maps-and-location/display-maps).</span></span>

-   <span data-ttu-id="d3fb7-227">約 10 m 相当の精度 (GPS の解像度) の場合、位置情報は点またはピンで地図上に示すことができます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-227">For accuracy approximately equal to 10 meters (GPS resolution), location can be denoted by a dot or pin on the map.</span></span> <span data-ttu-id="d3fb7-228">この精度では、経度と緯度の座標、住所の番地も表示できます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-228">With this accuracy, latitude-longitude coordinates and street address can be shown as well.</span></span>

    ![約 10 m の GPS 精度で表示される地図の例。](images/10metererrorradius.png)

-   <span data-ttu-id="d3fb7-230">10 ～ 500 m (おおよそ 100 m) の精度の場合、位置情報は通常、Wi-Fi による解決で受信されています。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-230">For accuracy between 10 and 500 meters (approximately 100 meters), location is generally received through Wi-Fi resolution.</span></span> <span data-ttu-id="d3fb7-231">移動体通信から取得した位置情報は約 300 m の精度です。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-231">Location obtained from cellular has an accuracy of around 300 meters.</span></span> <span data-ttu-id="d3fb7-232">この場合、アプリでは誤差を含む範囲を表示することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-232">In such a case, we recommend that your app show an error radius.</span></span> <span data-ttu-id="d3fb7-233">道順を表示するアプリなど中心点が必要となる場合は、その中心点を誤差を表す範囲で囲むことができます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-233">For apps that show directions where a centering dot is required, such a dot can be shown with an error radius surrounding it.</span></span>

    ![約 100 m の Wi-Fi 精度で表示される地図の例。](images/100metererrorradius.png)

-   <span data-ttu-id="d3fb7-235">戻される精度が 1 km より大きい場合は、IP レベルの解決で位置情報を受信することになります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-235">If the accuracy returned is greater than 1 kilometer, you are probably receiving location info at IP-level resolution.</span></span> <span data-ttu-id="d3fb7-236">多くの場合、地図上に特定の地点をピンポイントで表示するためにはこのレベルの精度は低すぎます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-236">This level of accuracy is often too low to pinpoint a particular spot on a map.</span></span> <span data-ttu-id="d3fb7-237">アプリでは、地図を市のレベルまで、または誤差の範囲に応じて適切なエリア (たとえば、地域のレベル) までズームインすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-237">Your app should zoom in to the city level on the map, or to the appropriate area based on the error radius (for example, region level).</span></span>

    ![約 1 km の Wi-Fi 精度で表示される地図の例。](images/1000metererrorradius.png)

<span data-ttu-id="d3fb7-239">位置情報の精度が別の精度に切り替わるときは、異なるグラフィック表示が適切に遷移するようにします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-239">When location accuracy switches from one band of accuracy to another, provide a graceful transition between the different graphical representations.</span></span> <span data-ttu-id="d3fb7-240">このためには、次のようにします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-240">This can be done by:</span></span>

-   <span data-ttu-id="d3fb7-241">切り替え時のアニメーションをスムーズにし、切り替えを高速かつ滑らかに保ちます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-241">Making the transition animation smooth and keeping the transition fast and fluid.</span></span>
-   <span data-ttu-id="d3fb7-242">数回の連続的な報告があるのを待ってから、精度が変わったと判断します。これにより、不要なズームが頻繁に行われるのを防ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-242">Waiting for a few consecutive reports to confirm the change in accuracy, to help prevent unwanted and too-frequent zooms.</span></span>

### <a name="textual-representations-of-location"></a><span data-ttu-id="d3fb7-243">位置情報のテキスト表示</span><span class="sxs-lookup"><span data-stu-id="d3fb7-243">Textual representations of location</span></span>

<span data-ttu-id="d3fb7-244">天気アプリや地域情報アプリなどアプリの種類によっては、さまざまな精度の位置情報をテキストで表現することが必要になります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-244">Some types of apps—for example, a weather app or a local information app—need ways to represent location textually at the different bands of accuracy.</span></span> <span data-ttu-id="d3fb7-245">位置情報は、データが提供する精度レベルまでに抑えて、明確に表示するようにします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-245">Be sure to display the location clearly and only down to the level of accuracy provided in the data.</span></span>

-   <span data-ttu-id="d3fb7-246">精度が約 10 m 相当 (GPS の解像度) の場合、受信した位置情報データは相当に正確であるので、ごく近隣の地名のレベルで情報を伝えることができます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-246">For accuracy approximately equal to 10 meters (GPS resolution), the location data received is fairly accurate and so can be communicated to the level of the neighborhood name.</span></span> <span data-ttu-id="d3fb7-247">市の名前、都道府県の名前、国/地域の名前も使うことができます。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-247">City name, state or province name, and country/region name can also be used.</span></span>
-   <span data-ttu-id="d3fb7-248">精度が約 100 m 相当 (Wi-Fi の解像度) の場合、受信した位置情報データはある程度正確です。市の名前までの情報を表示することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-248">For accuracy approximately equal to 100 meters (Wi-Fi resolution), the location data received is moderately accurate and so we recommend that you display information down to the city name.</span></span> <span data-ttu-id="d3fb7-249">それより詳しい、近隣地域の地名の使用は避けてください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-249">Avoid using the neighborhood name.</span></span>
-   <span data-ttu-id="d3fb7-250">1 km 超の精度 (IP による解決) の場合は、都道府県の名前、または国/地域の名前のみ表示します。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-250">For accuracy greater than 1 kilometer (IP resolution), display only the state or province, or country/region name.</span></span>

### <a name="privacy-considerations"></a><span data-ttu-id="d3fb7-251">プライバシーに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="d3fb7-251">Privacy considerations</span></span>

<span data-ttu-id="d3fb7-252">ユーザーの地理的な位置情報は、個人を特定できる情報 (PII) に当たります。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-252">A user's geographic location is personally identifiable information (PII).</span></span> <span data-ttu-id="d3fb7-253">ユーザーのプライバシーの保護に関するガイダンスについては、次の Web サイトをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d3fb7-253">The following website provides guidance for protecting user privacy.</span></span>

-   [<span data-ttu-id="d3fb7-254">Microsoft のプライバシー</span><span class="sxs-lookup"><span data-stu-id="d3fb7-254">Microsoft Privacy</span></span>]( https://go.microsoft.com/fwlink/p/?LinkId=259692)

<!--For more info, see [Guidelines for privacy-aware apps](guidelines-for-enabling-sensitive-devices.md).-->

## <a name="related-topics"></a><span data-ttu-id="d3fb7-255">関連トピック</span><span class="sxs-lookup"><span data-stu-id="d3fb7-255">Related topics</span></span>

* [<span data-ttu-id="d3fb7-256">ジオフェンスのセットアップ</span><span class="sxs-lookup"><span data-stu-id="d3fb7-256">Set up a geofence</span></span>](https://docs.microsoft.com/windows/uwp/maps-and-location/set-up-a-geofence)
* [<span data-ttu-id="d3fb7-257">現在の場所を取得します</span><span class="sxs-lookup"><span data-stu-id="d3fb7-257">Get current location</span></span>](https://docs.microsoft.com/windows/uwp/maps-and-location/get-location)
* [<span data-ttu-id="d3fb7-258">2D、3D、Streetside ビューでの地図の表示</span><span class="sxs-lookup"><span data-stu-id="d3fb7-258">Display maps with 2D, 3D, and Streetside views</span></span>](https://docs.microsoft.com/windows/uwp/maps-and-location/display-maps)
<!--* [Design guidelines for privacy-aware apps](guidelines-for-enabling-sensitive-devices.md)-->
* [<span data-ttu-id="d3fb7-259">UWP の場所のサンプル (地理的位置情報)</span><span class="sxs-lookup"><span data-stu-id="d3fb7-259">UWP location sample (geolocation)</span></span>](https://go.microsoft.com/fwlink/p/?linkid=533278)
 

 
