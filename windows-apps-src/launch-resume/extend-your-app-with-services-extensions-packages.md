---
author: TylerMSFT
title: サービス、拡張機能、パッケージでアプリを拡張する
description: ユニバーサル Windows プラットフォーム (UWP) アプリが更新された際に実行されるバックグラウンド タスクの作成方法を説明します。
ms.author: twhitney
ms.date: 05/21/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: Windows 10, UWP, 拡張, コンポーネント化, アプリ サービス, パッケージ, 拡張機能
ms.localizationpriority: medium
ms.openlocfilehash: 2721f9d8f768cabb0e07c0cd2cfcfcbf9255cd70
ms.sourcegitcommit: 6618517dc0a4e4100af06e6d27fac133d317e545
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/28/2018
ms.locfileid: "1689618"
---
# <a name="extend-your-app-with-services-extensions-and-packages"></a><span data-ttu-id="95f45-104">サービス、拡張機能、パッケージでアプリを拡張する</span><span class="sxs-lookup"><span data-stu-id="95f45-104">Extend your app with services, extensions, and packages</span></span>

<span data-ttu-id="95f45-105">Windows 10 には、アプリの拡張とコンポーネント化に役立つさまざまなテクノロジがあります。</span><span class="sxs-lookup"><span data-stu-id="95f45-105">There are different technologies in Windows 10 that will help you extend and componentize your app.</span></span> <span data-ttu-id="95f45-106">次の表は、シナリオで使用する必要があるテクノロジを判断するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="95f45-106">This table should help you determine which technology you should use for your scenario.</span></span> <span data-ttu-id="95f45-107">その後で、シナリオとテクノロジについて簡単に説明します。</span><span class="sxs-lookup"><span data-stu-id="95f45-107">It is followed by a brief description of the scenarios and technologies.</span></span>


| <span data-ttu-id="95f45-108">シナリオ</span><span class="sxs-lookup"><span data-stu-id="95f45-108">Scenario</span></span>                           | <span data-ttu-id="95f45-109">リソース パッケージ</span><span class="sxs-lookup"><span data-stu-id="95f45-109">Resource package</span></span> | <span data-ttu-id="95f45-110">オプション パッケージ</span><span class="sxs-lookup"><span data-stu-id="95f45-110">Optional package</span></span> | <span data-ttu-id="95f45-111">アプリの拡張機能</span><span class="sxs-lookup"><span data-stu-id="95f45-111">App Extension</span></span>    | <span data-ttu-id="95f45-112">アプリ サービス</span><span class="sxs-lookup"><span data-stu-id="95f45-112">App service</span></span>      | <span data-ttu-id="95f45-113">ストリーミング インストール</span><span class="sxs-lookup"><span data-stu-id="95f45-113">Streaming Install</span></span> |
|------------------------------------|:----------------:|:----------------:|:----------------:|:----------------:|:-----------------:|
| <span data-ttu-id="95f45-114">サード パーティー コード プラグイン</span><span class="sxs-lookup"><span data-stu-id="95f45-114">3rd party code plug-ins</span></span>            |                  |                  | <span data-ttu-id="95f45-115">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-115">:heavy_check_mark:</span></span> |                  |                   |
| <span data-ttu-id="95f45-116">インプロセス コード プラグイン</span><span class="sxs-lookup"><span data-stu-id="95f45-116">In-proc code plug-ins</span></span>              |                  | <span data-ttu-id="95f45-117">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-117">:heavy_check_mark:</span></span> |                  |                  |                   |
| <span data-ttu-id="95f45-118">UX アセット (文字列/画像)</span><span class="sxs-lookup"><span data-stu-id="95f45-118">UX Assets (strings/images)</span></span>         | <span data-ttu-id="95f45-119">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-119">:heavy_check_mark:</span></span> | <span data-ttu-id="95f45-120">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-120">:heavy_check_mark:</span></span> | <span data-ttu-id="95f45-121">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-121">:heavy_check_mark:</span></span> |                  | <span data-ttu-id="95f45-122">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-122">:heavy_check_mark:</span></span> |
| <span data-ttu-id="95f45-123">オンデマンド コンテンツ</span><span class="sxs-lookup"><span data-stu-id="95f45-123">On demand content</span></span> <br/> <span data-ttu-id="95f45-124">(例: 追加の階層)</span><span class="sxs-lookup"><span data-stu-id="95f45-124">(e.g. additional Levels)</span></span> |    | <span data-ttu-id="95f45-125">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-125">:heavy_check_mark:</span></span> | <span data-ttu-id="95f45-126">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-126">:heavy_check_mark:</span></span> |                  | <span data-ttu-id="95f45-127">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-127">:heavy_check_mark:</span></span> |
| <span data-ttu-id="95f45-128">ライセンスと取得の分離</span><span class="sxs-lookup"><span data-stu-id="95f45-128">Separate licensing and acquisition</span></span> |                  | <span data-ttu-id="95f45-129">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-129">:heavy_check_mark:</span></span> | <span data-ttu-id="95f45-130">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-130">:heavy_check_mark:</span></span> | <span data-ttu-id="95f45-131">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-131">:heavy_check_mark:</span></span> |                   |
| <span data-ttu-id="95f45-132">アプリ内取得</span><span class="sxs-lookup"><span data-stu-id="95f45-132">In-app acquisition</span></span>                 |                  | <span data-ttu-id="95f45-133">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-133">:heavy_check_mark:</span></span> | <span data-ttu-id="95f45-134">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-134">:heavy_check_mark:</span></span> |                  |                   |
| <span data-ttu-id="95f45-135">インストール時間の最適化</span><span class="sxs-lookup"><span data-stu-id="95f45-135">Optimize install time</span></span>              | <span data-ttu-id="95f45-136">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-136">:heavy_check_mark:</span></span> | <span data-ttu-id="95f45-137">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-137">:heavy_check_mark:</span></span> | <span data-ttu-id="95f45-138">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-138">:heavy_check_mark:</span></span> |                  | <span data-ttu-id="95f45-139">:heavy_check_mark:</span><span class="sxs-lookup"><span data-stu-id="95f45-139">:heavy_check_mark:</span></span> |

## <a name="scenario-descriptions-rows-in-the-table"></a><span data-ttu-id="95f45-140">シナリオの説明 (テーブルの行)</span><span class="sxs-lookup"><span data-stu-id="95f45-140">Scenario descriptions (rows in the table)</span></span>

**<span data-ttu-id="95f45-141">サード パーティー プラグイン</span><span class="sxs-lookup"><span data-stu-id="95f45-141">3rd party plug-ins</span></span>**  

<span data-ttu-id="95f45-142">ストアからダウンロードしてアプリで実行できるコードです。</span><span class="sxs-lookup"><span data-stu-id="95f45-142">Code that you can download from the store and run from your app.</span></span> <span data-ttu-id="95f45-143">たとえば、Microsoft Edge ブラウザーの拡張機能などです。</span><span class="sxs-lookup"><span data-stu-id="95f45-143">For example, extensions for the Microsoft Edge browser.</span></span>

**<span data-ttu-id="95f45-144">インプロセス コード プラグイン</span><span class="sxs-lookup"><span data-stu-id="95f45-144">In-proc code plug-ins</span></span>**  

<span data-ttu-id="95f45-145">アプリのプロセス内で実行されるコードです。</span><span class="sxs-lookup"><span data-stu-id="95f45-145">Code that runs in-process with your app.</span></span> <span data-ttu-id="95f45-146">C++ でのみサポートされています。</span><span class="sxs-lookup"><span data-stu-id="95f45-146">Only C++ is supported.</span></span> <span data-ttu-id="95f45-147">コンテンツが含まれる場合もあります。</span><span class="sxs-lookup"><span data-stu-id="95f45-147">May also include content.</span></span> <span data-ttu-id="95f45-148">コードはプロセス内で実行されるため、より高いレベルの信頼が想定されます。</span><span class="sxs-lookup"><span data-stu-id="95f45-148">Because the code runs in-process, a higher level of trust is assumed.</span></span> <span data-ttu-id="95f45-149">サードパーティーのこの種の拡張機能は開かないようにすることもできます。</span><span class="sxs-lookup"><span data-stu-id="95f45-149">You may choose not to open up this kind of extensibility to a third-party.</span></span>

**<span data-ttu-id="95f45-150">UX アセット (文字列/画像)</span><span class="sxs-lookup"><span data-stu-id="95f45-150">UX Assets (string/images)</span></span>**  

<span data-ttu-id="95f45-151">ローカライズされた文字列、画像、その他の UI コンテンツなど、ロケールなどの要因を基準に分ける必要があるユーザー インターフェイス アセットです。</span><span class="sxs-lookup"><span data-stu-id="95f45-151">User interface assets such as localized strings, images, and any other UI content that you want to factor based on locale or any other reason.</span></span>

**<span data-ttu-id="95f45-152">オンデマンド コンテンツ</span><span class="sxs-lookup"><span data-stu-id="95f45-152">On demand content</span></span>**  

<span data-ttu-id="95f45-153">後でダウンロードするコンテンツです。</span><span class="sxs-lookup"><span data-stu-id="95f45-153">Content that you want to download at a later time.</span></span> <span data-ttu-id="95f45-154">たとえば、新しいレベル、スキン、機能をダウンロードできるアプリ内購入などです。</span><span class="sxs-lookup"><span data-stu-id="95f45-154">For example, in-app purchases that allow you to download new levels, skins, or functionality.</span></span>

**<span data-ttu-id="95f45-155">ライセンスと取得の分離</span><span class="sxs-lookup"><span data-stu-id="95f45-155">Separate licensing and acquisition</span></span>**  

<span data-ttu-id="95f45-156">アプリから独立してコンテンツのライセンス付与と取得を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="95f45-156">The ability to license and acquire the content independently of the app.</span></span>

**<span data-ttu-id="95f45-157">アプリ内取得</span><span class="sxs-lookup"><span data-stu-id="95f45-157">In-app acquisition</span></span>**  

<span data-ttu-id="95f45-158">アプリ内部からコンテンツを取得するための、プログラムによるサポートがあるかどうかを示します。</span><span class="sxs-lookup"><span data-stu-id="95f45-158">Indicates whether there is programmatic support to acquire the content from within the app.</span></span>

**<span data-ttu-id="95f45-159">インストール時間の最適化</span><span class="sxs-lookup"><span data-stu-id="95f45-159">Optimize install time</span></span>**

<span data-ttu-id="95f45-160">ストアからアプリを取得して実行を開始するまでにかかる時間を短縮する機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="95f45-160">Provides functionality to decrease the time it takes to acquire the app from the store and start running.</span></span>

## <a name="technology-descriptions-columns-in-the-table"></a><span data-ttu-id="95f45-161">テクノロジの説明 (テーブルの列)</span><span class="sxs-lookup"><span data-stu-id="95f45-161">Technology descriptions (columns in the table)</span></span>

**<span data-ttu-id="95f45-162">リソース パッケージ</span><span class="sxs-lookup"><span data-stu-id="95f45-162">Resource package</span></span>**

<span data-ttu-id="95f45-163">リソース パッケージは、アプリで複数のディスプレイ サイズとシステム言語に対応できるようにするアセットのみのパッケージです。</span><span class="sxs-lookup"><span data-stu-id="95f45-163">Resource packages are asset-only packages that allow your app to adapt to multiple display sizes and system languages.</span></span> <span data-ttu-id="95f45-164">リソース パッケージは、ユーザー言語、システム スケール、および DirectX 機能をターゲットにしており、さまざまなユーザー シナリオに合わせてアプリを調整できます。</span><span class="sxs-lookup"><span data-stu-id="95f45-164">The resource package targets user language, system scale, and DirectX features, allowing the app to be tailored to a variety of user scenarios.</span></span> <span data-ttu-id="95f45-165">アプリ パッケージには複数のリソースが含まれている可能性がありますが、OS はユーザー デバイスごとに適切なリソースだけをダウンロードするため、帯域幅とディスク領域が節約されます。</span><span class="sxs-lookup"><span data-stu-id="95f45-165">Although an app package can contain several resources, the OS will only download the relevant resources per user device, saving bandwidth and disk space.</span></span>

**<span data-ttu-id="95f45-166">オプション パッケージ</span><span class="sxs-lookup"><span data-stu-id="95f45-166">Optional package</span></span>**

<span data-ttu-id="95f45-167">オプション パッケージは、アプリ パッケージの元の機能を補完または拡張するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="95f45-167">Optional packages are used to either supplement or extend the original functionality of an app package.</span></span> <span data-ttu-id="95f45-168">アプリを公開した後に、しばらく経ってからオプション パッケージ公開したり、アプリとオプション パッケージの両方を同時に公開したりすることができます。</span><span class="sxs-lookup"><span data-stu-id="95f45-168">It's possible to publish an app, followed by publishing optional packages at a later time, or to publish both the app and optional packages simultaneously.</span></span> <span data-ttu-id="95f45-169">オプション パッケージを利用してアプリを拡張することによって、別のアプリ パッケージとしてコンテンツを配信して収益を得られるメリットがあります。</span><span class="sxs-lookup"><span data-stu-id="95f45-169">By extending your app via an optional package, you have the advantages of distributing and monetizing content as a separate app package.</span></span> <span data-ttu-id="95f45-170">オプション パッケージは一般的に、元のアプリ開発者によって開発されることを意図しています。それは、(アプリ拡張機能とは異なり) オプション パッケージがメイン アプリの ID を使用して実行されるためです。</span><span class="sxs-lookup"><span data-stu-id="95f45-170">Optional packages are typically intended to be developed by the original app developer, since they run with the identity of the main app (unlike app extensions).</span></span> <span data-ttu-id="95f45-171">オプション パッケージの定義方法に応じて、コード、アセット、またはコードとアセットの両方をオプション パッケージからメイン アプリに読み込むことができます。</span><span class="sxs-lookup"><span data-stu-id="95f45-171">Depending on how you define your optional package, you can load code, assets, or code and assets from your optional package to your main app.</span></span> <span data-ttu-id="95f45-172">個別に収益化、ライセンス付与、および配信できるコンテンツでアプリを強化することを検討している場合は、オプション パッケージが適切です。</span><span class="sxs-lookup"><span data-stu-id="95f45-172">If you're looking to enhance your app with content that can be monetized, licensed, and distributed separately, then optional packages might be the right choice for you.</span></span> <span data-ttu-id="95f45-173">実装の詳細については、「[オプション パッケージと関連セットの作成](https://docs.microsoft.com/windows/uwp/packaging/optional-packages)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="95f45-173">For implementation details, see [Optional packages and related set authoring](https://docs.microsoft.com/windows/uwp/packaging/optional-packages).</span></span>

**<span data-ttu-id="95f45-174">アプリの拡張機能</span><span class="sxs-lookup"><span data-stu-id="95f45-174">App Extension</span></span>**

<span data-ttu-id="95f45-175">[アプリの拡張機能](https://docs.microsoft.com/uwp/api/windows.applicationmodel.appextensions) で、他の UWP アプリから提供されるコンテンツをホストすることができます。</span><span class="sxs-lookup"><span data-stu-id="95f45-175">[App extensions](https://docs.microsoft.com/uwp/api/windows.applicationmodel.appextensions) enable your UWP app to host content provided by other UWP apps.</span></span> <span data-ttu-id="95f45-176">それらのアプリの読み取り専用コンテンツを検出、列挙し、アクセスすることもできます。</span><span class="sxs-lookup"><span data-stu-id="95f45-176">Discover, enumerate, and access read-only content from those apps.</span></span>

<span data-ttu-id="95f45-177">拡張機能がアプリでサポートされている場合、開発者はだれでもそのアプリの拡張機能を提出できます。</span><span class="sxs-lookup"><span data-stu-id="95f45-177">If an app supports extensions, any developer can submit an extension for the app.</span></span> <span data-ttu-id="95f45-178">したがって、ホスト アプリは事前にテストされていない拡張機能を読み込む際に、堅牢であることが求められます。</span><span class="sxs-lookup"><span data-stu-id="95f45-178">Thus, the host app needs to be robust when it loads an extension that it hasn't been pre-tested with.</span></span> <span data-ttu-id="95f45-179">拡張機能は信頼できないと見なされる必要があります。</span><span class="sxs-lookup"><span data-stu-id="95f45-179">Extensions should be considered untrusted.</span></span>

<span data-ttu-id="95f45-180">アプリケーションで拡張機能のコードを読み込むことはできません。</span><span class="sxs-lookup"><span data-stu-id="95f45-180">Applications cannot load code from extensions.</span></span> <span data-ttu-id="95f45-181">コードを実行する必要がある場合は、アプリ サービスを検討してください。</span><span class="sxs-lookup"><span data-stu-id="95f45-181">If you need code execution, consider App Services.</span></span>

**<span data-ttu-id="95f45-182">アプリ サービス</span><span class="sxs-lookup"><span data-stu-id="95f45-182">App Service</span></span>**

<span data-ttu-id="95f45-183">Windows アプリ サービスでは、UWP アプリからほかのユニバーサル Windows アプリにサービスを提供できるようにすることで、アプリ間通信を実現します。</span><span class="sxs-lookup"><span data-stu-id="95f45-183">Windows app services enable app-to-app communication by allowing your UWP app to provide services to other Universal Windows app.</span></span> <span data-ttu-id="95f45-184">アプリ サービスでは、同じデバイス上のアプリから呼び出せる UI を持たないサービスを作成できます。また、Windows 10 バージョン 1607 以降では、リモート デバイスからも呼び出せます。</span><span class="sxs-lookup"><span data-stu-id="95f45-184">App services let you create UI-less services that apps can call on the same device, and starting with Windows 10, version 1607, on remote devices.</span></span> <span data-ttu-id="95f45-185">詳しくは、「[アプリ サービスの作成と利用](https://docs.microsoft.com/windows/uwp/launch-resume/how-to-create-and-consume-an-app-service)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="95f45-185">See [Create and consume an app service](https://docs.microsoft.com/windows/uwp/launch-resume/how-to-create-and-consume-an-app-service) for details.</span></span>

<span data-ttu-id="95f45-186">アプリ サービスは、他の UWP アプリにサービスを提供する UWP アプリです。</span><span class="sxs-lookup"><span data-stu-id="95f45-186">App services are UWP apps that provide services to other UWP apps.</span></span> <span data-ttu-id="95f45-187">これは、デバイス上にある Web サービスのようなものです。</span><span class="sxs-lookup"><span data-stu-id="95f45-187">They are analogous to web services, on a device.</span></span> <span data-ttu-id="95f45-188">アプリ サービスは、バック グラウンド タスクとしてホスト アプリで実行され、そのサービスを他のアプリに提供することができます。</span><span class="sxs-lookup"><span data-stu-id="95f45-188">An app service runs as a background task in the host app and can provide its service to other apps.</span></span> <span data-ttu-id="95f45-189">たとえば、アプリ サービスによって、他のアプリで使用できるバー コード スキャナー サービスが提供される場合があります。</span><span class="sxs-lookup"><span data-stu-id="95f45-189">For example, an app service might provide a bar code scanner service that other apps could use.</span></span> <span data-ttu-id="95f45-190">また、アプリのエンタープライズ スイートに共通のスペル チェック アプリ サービスを備えておき、そのサービスを同じスイート内の他のアプリから利用可能にする場合もあるでしょう。</span><span class="sxs-lookup"><span data-stu-id="95f45-190">Or perhaps an Enterprise suite of apps has a common spell checking app service that is available to the other apps in the suite.</span></span>

**<span data-ttu-id="95f45-191">UWP アプリ ストリーミング インストール</span><span class="sxs-lookup"><span data-stu-id="95f45-191">UWP App Streaming install</span></span>**

<span data-ttu-id="95f45-192">ストリーミング インストールは、ユーザーにアプリを配信する方法を最適化する手段です。</span><span class="sxs-lookup"><span data-stu-id="95f45-192">Streaming Install is a way to optimize how your app is delivered to users.</span></span> <span data-ttu-id="95f45-193">アプリ全体がダウンロードされるのを待ってからユーザーが使用できるようになるのではなく、必要な部分がダウンロードされた時点で、そのアプリを利用できます。</span><span class="sxs-lookup"><span data-stu-id="95f45-193">Rather than waiting for the entire app to download before you can use it, users can engage with the app as soon as a required portion has been downloaded.</span></span> <span data-ttu-id="95f45-194">基本的なライセンス認証と起動に必要なセクションと、アプリの他の部分の追加コンテンツにアプリを分割するかどうかは、開発者の任意です。</span><span class="sxs-lookup"><span data-stu-id="95f45-194">It's up to you, as a developer, to segment your app into a required section for basic activation and launch and additional content for the rest of the app.</span></span> <span data-ttu-id="95f45-195">詳しい情報と実装の詳細については、「[UWP アプリ ストリーミング インストール](https://docs.microsoft.com/windows/uwp/packaging/streaming-install)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="95f45-195">See [UWP App Streaming Install](https://docs.microsoft.com/windows/uwp/packaging/streaming-install) for more information and implementation details.</span></span>

## <a name="see-also"></a><span data-ttu-id="95f45-196">関連項目</span><span class="sxs-lookup"><span data-stu-id="95f45-196">See Also</span></span>

[<span data-ttu-id="95f45-197">アプリ サービスの作成と利用</span><span class="sxs-lookup"><span data-stu-id="95f45-197">Create and consume an app service</span></span>](https://docs.microsoft.com/windows/uwp/launch-resume/how-to-create-and-consume-an-app-service)  
[<span data-ttu-id="95f45-198">オプション パッケージと関連セットの作成</span><span class="sxs-lookup"><span data-stu-id="95f45-198">Optional packages and related set authoring</span></span>](https://docs.microsoft.com/windows/uwp/packaging/optional-packages)  
[<span data-ttu-id="95f45-199">Windows.ApplicationModel.Extensions 名前空間</span><span class="sxs-lookup"><span data-stu-id="95f45-199">Windows.ApplicationModel.Extensions namespace</span></span>](https://docs.microsoft.com/uwp/api/windows.applicationmodel.appextensions)  
[<span data-ttu-id="95f45-200">UWP アプリ ストリーミング インストール</span><span class="sxs-lookup"><span data-stu-id="95f45-200">UWP App Streaming Install</span></span>](https://docs.microsoft.com/windows/uwp/packaging/streaming-install)  
[<span data-ttu-id="95f45-201">Windows.ApplicationModel.AppService 名前空間</span><span class="sxs-lookup"><span data-stu-id="95f45-201">Windows.ApplicationModel.AppService namespace</span></span>](https://docs.microsoft.com/uwp/api/Windows.ApplicationModel.AppService)    
