---
title: Xbox Live のきめ細かなレート制限
author: KevinAsgari
description: Xbox Live のきめ細かなレート制限のしくみと、タイトルがレート制限されないようにする方法について説明します。
ms.assetid: ceca4784-9fe3-47c2-94c3-eb582ddf47d6
ms.author: kevinasg
ms.date: 04/04/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: xbox live, xbox, ゲーム, uwp, windows 10, xbox one, スロットリング, レート制限
ms.localizationpriority: low
ms.openlocfilehash: 41b31504cfcdd3721dda8389d48b8e0cfb1d2a01
ms.sourcegitcommit: 6618517dc0a4e4100af06e6d27fac133d317e545
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/28/2018
---
# <a name="xbox-live-fine-grained-rate-limiting"></a><span data-ttu-id="279db-104">Xbox Live のきめ細かなレート制限</span><span class="sxs-lookup"><span data-stu-id="279db-104">Xbox Live fine grained rate limiting</span></span>

## <a name="introduction"></a><span data-ttu-id="279db-105">概要</span><span class="sxs-lookup"><span data-stu-id="279db-105">Introduction</span></span>

<span data-ttu-id="279db-106">この記事では、Xbox Live のきめ細かなレート制限 (Fine Grained Rate Limiting: FGRL) の概要を示します。</span><span class="sxs-lookup"><span data-stu-id="279db-106">This article provides an overview of Xbox Live fine grained rate limiting.</span></span> <span data-ttu-id="279db-107">この記事では、レート制限とは何かを要約することに加えて、制限が適用されているかどうかの判断や、制限が適用されている場合に活用できるツールやリソースの判断に役立つ情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="279db-107">In addition to summarizing what rate limiting is this paper also intends to help you determine if you are being limited, and If you are what tools and resources are at your disposal.</span></span>

## <a name="terminology-guide"></a><span data-ttu-id="279db-108">用語ガイド</span><span class="sxs-lookup"><span data-stu-id="279db-108">Terminology Guide</span></span>

| <span data-ttu-id="279db-109">用語</span><span class="sxs-lookup"><span data-stu-id="279db-109">Term</span></span>         | <span data-ttu-id="279db-110">定義</span><span class="sxs-lookup"><span data-stu-id="279db-110">Definition</span></span>                                                  |
|--------------|-----------------------------------------------------------------------------
| <span data-ttu-id="279db-111">FGRL</span><span class="sxs-lookup"><span data-stu-id="279db-111">FGRL</span></span>         | <span data-ttu-id="279db-112">きめ細かなレート制限</span><span class="sxs-lookup"><span data-stu-id="279db-112">Fine Grained Rate Limiting</span></span>                                                  
| <span data-ttu-id="279db-113">XSAPI</span><span class="sxs-lookup"><span data-stu-id="279db-113">XSAPI</span></span>        | <span data-ttu-id="279db-114">Xbox Services アプリケーション プログラム インターフェイス</span><span class="sxs-lookup"><span data-stu-id="279db-114">Xbox Services Application Program Interface</span></span>                                 
| <span data-ttu-id="279db-115">CU</span><span class="sxs-lookup"><span data-stu-id="279db-115">CU</span></span>           | <span data-ttu-id="279db-116">コンテンツ アップデート</span><span class="sxs-lookup"><span data-stu-id="279db-116">Content Update</span></span>                                                              
| <span data-ttu-id="279db-117">バースト</span><span class="sxs-lookup"><span data-stu-id="279db-117">Burst</span></span>        | <span data-ttu-id="279db-118">短い期間のうちに受け取った要求の量を表します</span><span class="sxs-lookup"><span data-stu-id="279db-118">Represents a volume of requests received in a short period of time</span></span>          
| <span data-ttu-id="279db-119">サステイン</span><span class="sxs-lookup"><span data-stu-id="279db-119">Sustain</span></span>      | <span data-ttu-id="279db-120">ある期間にわたって絶え間なく受信される大量の呼び出しを表します</span><span class="sxs-lookup"><span data-stu-id="279db-120">Represents a high volume of calls received constantly over a period of time</span></span>
| <span data-ttu-id="279db-121">ユーザー + タイトル</span><span class="sxs-lookup"><span data-stu-id="279db-121">User + Title</span></span> | <span data-ttu-id="279db-122">ユーザーとタイトルのペアリングを 1 つのエンティティとして表します</span><span class="sxs-lookup"><span data-stu-id="279db-122">Represents the pairing of a user and title as one entity</span></span>                    


## <a name="xbox-live-fine-grained-rate-limiting"></a><span data-ttu-id="279db-123">Xbox Live のきめ細かなレート制限</span><span class="sxs-lookup"><span data-stu-id="279db-123">Xbox Live Fine Grained Rate Limiting</span></span>

<span data-ttu-id="279db-124">**きめ細かなレート制限**は、さまざまなタイトル間で共有される Xbox Live リソースの**公平な使用**を促進するために導入されました。</span><span class="sxs-lookup"><span data-stu-id="279db-124">**Fine Grained Rate Limiting** was commissioned to promote **fair usage** of shared Xbox Live resources amongst different titles.</span></span> <span data-ttu-id="279db-125">このソリューションはほとんどの伝統的な制限システムに似ており、あるエンティティが所定の期間内に行った要求数のカウントをサービスに保持させます。</span><span class="sxs-lookup"><span data-stu-id="279db-125">This solution is like most traditional limiting systems which have a service keeping a count of the number of requests an entity has made in a given period of time.</span></span>

<span data-ttu-id="279db-126">サービスで指定された制限に達したエンティティは拒否状態に移行され、そのエンティティからのすべての着信要求が却下されるようになります。</span><span class="sxs-lookup"><span data-stu-id="279db-126">Entities that reach the services specified limit are then moved to a rejecting state where all incoming requests from the entity will be turned away.</span></span> <span data-ttu-id="279db-127">所定の期間が終了し、エンティティと関連付けられたカウントがリセットされてはじめて、エンティティはこの状態を脱することができます。</span><span class="sxs-lookup"><span data-stu-id="279db-127">Entities are only able to exit this state when the given period of time expires causing the entities associated count to reset.</span></span>

<span data-ttu-id="279db-128">きめ細かなレート制限では、前述したものと同じコア構造を使用しますが、1 つのエンティティを追跡する代わりに、FGRL は**ユーザーとタイトル**の組み合わせを追跡し、関連付けられたカウントを 1 つではなく **2 つの**異なる**制限**と比較します。</span><span class="sxs-lookup"><span data-stu-id="279db-128">Fine Grained Rate Limiting uses the same core mechanics mentioned above however instead of tracking one entity FGRL tracks the combination of **user and title** and compares the associated count to **two** different **limits** as oppose to one.</span></span> <span data-ttu-id="279db-129">FGRL の二重制限はサービスごとに施行されます。つまり、GameClips の要求カウントが Presence の要求カウントに影響を及ぼすことはありません。</span><span class="sxs-lookup"><span data-stu-id="279db-129">FGRL dual limits are enforced on each service meaning the request count for GameClips will not affect the request count for Presence.</span></span> <span data-ttu-id="279db-130">以下のセクションでは、ユーザーとタイトルのペアリング、二重制限、HTTP 429 制限応答オブジェクトについて詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="279db-130">The following sections will go into more detail about the user and title pairing, dual limiting, and the HTTP 429 limiting response object.</span></span>

## <a name="fair-usage"></a><span data-ttu-id="279db-131">公平な使用</span><span class="sxs-lookup"><span data-stu-id="279db-131">Fair Usage</span></span>

<span data-ttu-id="279db-132">どのようなゲームやアプリをユーザーがプレイしていても、同じ高品質のエクスペリエンスが個々のユーザーに提供されるべきだというのが Xbox Live の考えです。</span><span class="sxs-lookup"><span data-stu-id="279db-132">Xbox Live believes that each user should have the same high quality experience no matter what game/app he/she is playing.</span></span> <span data-ttu-id="279db-133">FGRL は次のシナリオを解決するために設計されています。</span><span class="sxs-lookup"><span data-stu-id="279db-133">FGRL is designed to solve the following scenario:</span></span>

<span data-ttu-id="279db-134">デベロッパー A がリリースしたタイトルはすべての Xbox Live ベスト プラクティスに従っており、サービスの最適な使用が保証されている一方で、デベロッパー B もタイトルをリリースしましたが、こちらのタイトルには未知のバグがあります。</span><span class="sxs-lookup"><span data-stu-id="279db-134">Developer A has just released a title that follows all the Xbox live best practices ensuring optimal use of services while Developer B has also just released a title however this one has an unknown bug.</span></span> <span data-ttu-id="279db-135">このバグによってタイトルおよび各ユーザーがプレゼンス情報を大量送信し、サービスの負荷が高まります。</span><span class="sxs-lookup"><span data-stu-id="279db-135">This bug causes the title and each user to spam presence which results in the service going under heavy load.</span></span> <span data-ttu-id="279db-136">サービスは速度が低下し、最終的には停止して、問題を引き起こしたのがデベロッパー B のバグであったにもかかわらず、デベロッパー A のユーザーのエクスペリエンスも損ないます。</span><span class="sxs-lookup"><span data-stu-id="279db-136">The service slows and eventually halts breaking the experience for developer A’s users even though it was developer B’s bug that caused the issue.</span></span> <span data-ttu-id="279db-137">FGRL が実装されていたならば、サービスは動作不良タイトルからの要求の受信を停止し、公平に分配されたサービス リソースをデベロッパー A のタイトルに供給できていたでしょう。</span><span class="sxs-lookup"><span data-stu-id="279db-137">If FGRL was implemented the service would have been able to stop receiving requests from the miss behaving title allowing it to serve Developer A’s title its fair slice of the resource pie.</span></span>

## <a name="title-and-user-granularity"></a><span data-ttu-id="279db-138">タイトルとユーザーの細分度</span><span class="sxs-lookup"><span data-stu-id="279db-138">Title and User granularity</span></span>

<span data-ttu-id="279db-139">タイトルとユーザーの組み合わせは、Xbox Live リソースの公平な使用を保証するための鍵として選ばれました。</span><span class="sxs-lookup"><span data-stu-id="279db-139">Title and User were chosen as the key to ensure fair usage of Xbox Live resources.</span></span> <span data-ttu-id="279db-140">ユーザーだけの追跡では、ユーザー エクスペリエンスが各タイトルの統合に翻弄されるシナリオが生まれます。</span><span class="sxs-lookup"><span data-stu-id="279db-140">Tracking just the user would create a scenario in which the user experience would be at the mercy of each titles integration.</span></span> <span data-ttu-id="279db-141">たとえば、ほとんどのタイトルでは People サービスを既に使用していますが、公平な使用という目的のために、5 分間で 100 回までは要求を許容する、きめ細かなレート制限を People サービスに対して設定するとします。</span><span class="sxs-lookup"><span data-stu-id="279db-141">For example, most titles use the people service already so for the sake of this example, let’s say Fine Grained Rate Limiting was set up on the people service allowing no more than 100 requests in 5 minutes.</span></span> <span data-ttu-id="279db-142">ユーザーがプレイするゲームで 1 分間に 100 回の要求を行った場合、制限を超過し、ユーザーは People サービスに対してそれ以上の要求ができなくなります。同じ期間中にユーザーがホーム画面に戻ってフレンド リストをクリックしますが、既に制限を超えているので、ユーザーが制限状態になったのはホーム画面が原因でないにもかかわらず、5 分の期間が過ぎるまでフレンド リストの呼び出しは失敗します。</span><span class="sxs-lookup"><span data-stu-id="279db-142">If a user were to play a game that made 100 requests in 1 minute the limit would be exceeded and the user would not be able to make any more requests to the people service; imagine that in the same period the user then goes back to the home screen and clicks his friends list: Since the user would already have exceeded the limit that friends list call would fail until the 5 minutes interval has passed, even though the home screen was not responsible for putting the user in the limited state.</span></span>

<span data-ttu-id="279db-143">タイトルのみに基づいた制限はこれに代わる方法ですが、同じく不公平な結果を生みます。</span><span class="sxs-lookup"><span data-stu-id="279db-143">Alternatively limiting based only on the title would produce an equally unfair result.</span></span> <span data-ttu-id="279db-144">タイトルごとに制限を設定すると、タイトルの人気度が無視され、ただ単に、制限に達するまで先着順に要求が処理されます。</span><span class="sxs-lookup"><span data-stu-id="279db-144">Setting a limit per title would ignore the popularity of the titles and the requests would just be first come first serve until a limit is reached.</span></span>

<span data-ttu-id="279db-145">ユーザーとタイトルのペアリングにより、どのタイトルもアクティブ ユーザー数に応じた適切な量を超えてリソースを使用しない一方で、個々のユーザーには一貫した量のリソースが配分されることが保証されます。</span><span class="sxs-lookup"><span data-stu-id="279db-145">The pairing of User and Title ensures that no title uses more resources than what is appropriate given the number of active users while also giving each user a consistent slice of the resource pie.</span></span>

![](../../images/FGRL.png)

<span data-ttu-id="279db-146">上の図は、要求が処理される流れの概要を示しています。</span><span class="sxs-lookup"><span data-stu-id="279db-146">The diagram above shows a high level view of how the request is handled.</span></span> <span data-ttu-id="279db-147">まず、要求が生成され、目的のサービスによって受信されます。</span><span class="sxs-lookup"><span data-stu-id="279db-147">First the request is generated and then received by the desired service.</span></span> <span data-ttu-id="279db-148">要求を受信したら、システムは、ユーザーとタイトルの総合でサービスにアクセスした回数をチェックします。</span><span class="sxs-lookup"><span data-stu-id="279db-148">Upon receiving the request, the system checks to see how many times the user and title together have accessed the service.</span></span> <span data-ttu-id="279db-149">制限内に収まっている場合、要求は通常どおり処理されます。</span><span class="sxs-lookup"><span data-stu-id="279db-149">If the request is under the limit, then it will be processed as normal.</span></span> <span data-ttu-id="279db-150">要求が制限以上になっている場合、サービスは要求を破棄し、代わりに 429 応答を返します。</span><span class="sxs-lookup"><span data-stu-id="279db-150">If the request is found to be at or above the limit the services will drop it and instead return a 429 response.</span></span> <span data-ttu-id="279db-151">応答では、期間が切り替わってユーザーとタイトルの要求が処理可能になるまでの時間を示します。</span><span class="sxs-lookup"><span data-stu-id="279db-151">The response will indicate how long until the period rolls over and the user and title requests can be handled.</span></span>

## <a name="burst-and-sustain-limits"></a><span data-ttu-id="279db-152">バーストと持続の制限</span><span class="sxs-lookup"><span data-stu-id="279db-152">Burst and Sustain Limits</span></span>

<span data-ttu-id="279db-153">従来のレート制限は、所定の期間にわたって追跡されるエンドポイントあたり 1 つの制限で構成されます。</span><span class="sxs-lookup"><span data-stu-id="279db-153">Traditionally, rate limiting consists of one limit per endpoint which is tracked over a given period of time.</span></span> <span data-ttu-id="279db-154">この期間は、エンティティの要求カウントが追跡される時間の長さを表します。</span><span class="sxs-lookup"><span data-stu-id="279db-154">This period represents the amount of time that an entities request count is tracked.</span></span> <span data-ttu-id="279db-155">期間が終わるとエンティティのカウントは 0 にリセットされ、再び追跡が始まります。</span><span class="sxs-lookup"><span data-stu-id="279db-155">At the end of the period the entities count is reset to 0 to begin tracking again.</span></span>

<span data-ttu-id="279db-156">このアプローチはほとんどの API に対して機能しますが、Xbox Live を呼び出すゲームやアプリにとっての柔軟性は不十分でした。</span><span class="sxs-lookup"><span data-stu-id="279db-156">This approach works for most API’s however it was not resilient enough for games and apps that call Xbox live.</span></span> <span data-ttu-id="279db-157">前述のソリューションは、ユーザーによる呼び出しが、一貫していて、安定的で、予測可能な方法で行われることを想定しています。</span><span class="sxs-lookup"><span data-stu-id="279db-157">The solution above assumes that people are calling in a consistent steady predictable manor.</span></span> <span data-ttu-id="279db-158">Xbox Live のケースでは、サービスおよび要求側のタイトル/アプリごとに、呼び出しパターンが著しく異なります。</span><span class="sxs-lookup"><span data-stu-id="279db-158">In the Xbox Live case, depending on the service and requesting title/app, the calling patterns are drastically different.</span></span>

<span data-ttu-id="279db-159">このケースでは、1 つの制限だけを使用すると、呼び出しパターン範囲の両端で妥協が必要になります。</span><span class="sxs-lookup"><span data-stu-id="279db-159">Choosing just one limit in this case would require compromising on both ends of the call pattern spectrum.</span></span> <span data-ttu-id="279db-160">Xbox Live のソリューションでは 2 つの期間と制限を使用します。</span><span class="sxs-lookup"><span data-stu-id="279db-160">The Xbox Live solution uses two periods and limits.</span></span> <span data-ttu-id="279db-161">短いほうの期間をバースト期間、長いほうの期間をサステイン期間と呼びます。</span><span class="sxs-lookup"><span data-stu-id="279db-161">The smaller period is called the Burst period while the bigger longer one is known as the Sustain period.</span></span> <span data-ttu-id="279db-162">FGRL のバースト期間は常に 15 秒であり、サステイン期間は常に 300 秒 (5 分) です。つまり、5 分のサステイン期間に 20 のバースト期間が含まれます。</span><span class="sxs-lookup"><span data-stu-id="279db-162">The burst time period for FGRL is always 15 seconds whereas the sustain is always 300 seconds (5 minutes) So during a 5 minute sustain period there are 20 burst periods.</span></span> <span data-ttu-id="279db-163">バースト制限とサステイン制限はどちらも同時に追跡を行っており、そのような性質上、同時に要求をカウントします。</span><span class="sxs-lookup"><span data-stu-id="279db-163">Both burst and sustain limits are tracking at the same time and as such count requests at the same time.</span></span> <span data-ttu-id="279db-164">バースト制限とサステイン制限はどちらもサービスで設定されます。つまり、サービスごとに固有のバースト カウントとサステイン カウントがあります。</span><span class="sxs-lookup"><span data-stu-id="279db-164">Both the burst and the sustain limit are set on the service meaning each service has its own burst and sustain count.</span></span> <span data-ttu-id="279db-165">これら 2 つの制限がどのように連動するかの理解に役立つよう、次の表では、FGRL を実装したサービスを何度も要求するタイトルをプレイしているユーザーを示します。</span><span class="sxs-lookup"><span data-stu-id="279db-165">To help you understand how these two limits work together the table below shows a user playing a title which is making a number of requests of a service that has implemented FGRL.</span></span> <span data-ttu-id="279db-166">このケースでは、バースト制限は 15 秒間に 30 回の要求、サステイン制限は 5 分間に 100 回の要求です。</span><span class="sxs-lookup"><span data-stu-id="279db-166">In this case the burst limit is 30 requests in 15 seconds and the sustain limit is 100 requests over 5 minutes.</span></span>

| <span data-ttu-id="279db-167">期間 (秒)</span><span class="sxs-lookup"><span data-stu-id="279db-167">Time Period (seconds)</span></span>  | <span data-ttu-id="279db-168">バースト期間内の要求数</span><span class="sxs-lookup"><span data-stu-id="279db-168">Requests per  burst period</span></span>  | <span data-ttu-id="279db-169">サステイン期間内の要求数</span><span class="sxs-lookup"><span data-stu-id="279db-169">Requests per sustain period</span></span>  | <span data-ttu-id="279db-170">15 秒の期間中にスロットルされた要求数</span><span class="sxs-lookup"><span data-stu-id="279db-170">\# of throttled Requests within the 15 sec interval</span></span> | <span data-ttu-id="279db-171">どちらの制限?</span><span class="sxs-lookup"><span data-stu-id="279db-171">Which Limit?</span></span> <span data-ttu-id="279db-172">(バースト、サステイン、または両方)</span><span class="sxs-lookup"><span data-stu-id="279db-172">(burst, sustain, or both)</span></span>  |
|-------------|--------------|----------------|-----------------------------------------------------|---------------------------|
| <span data-ttu-id="279db-173">0-15</span><span class="sxs-lookup"><span data-stu-id="279db-173">0-15</span></span>        | <span data-ttu-id="279db-174">35</span><span class="sxs-lookup"><span data-stu-id="279db-174">35</span></span>           | <span data-ttu-id="279db-175">35</span><span class="sxs-lookup"><span data-stu-id="279db-175">35</span></span>             | <span data-ttu-id="279db-176">5</span><span class="sxs-lookup"><span data-stu-id="279db-176">5</span></span>                                                   | <span data-ttu-id="279db-177">バースト</span><span class="sxs-lookup"><span data-stu-id="279db-177">Burst</span></span>                     |
| <span data-ttu-id="279db-178">15-30</span><span class="sxs-lookup"><span data-stu-id="279db-178">15-30</span></span>       | <span data-ttu-id="279db-179">28</span><span class="sxs-lookup"><span data-stu-id="279db-179">28</span></span>           | <span data-ttu-id="279db-180">63</span><span class="sxs-lookup"><span data-stu-id="279db-180">63</span></span>             | <span data-ttu-id="279db-181">0</span><span class="sxs-lookup"><span data-stu-id="279db-181">0</span></span>                                                   | <span data-ttu-id="279db-182">該当なし</span><span class="sxs-lookup"><span data-stu-id="279db-182">N/A</span></span>                       |
| <span data-ttu-id="279db-183">30-45</span><span class="sxs-lookup"><span data-stu-id="279db-183">30-45</span></span>       | <span data-ttu-id="279db-184">21</span><span class="sxs-lookup"><span data-stu-id="279db-184">21</span></span>           | <span data-ttu-id="279db-185">84</span><span class="sxs-lookup"><span data-stu-id="279db-185">84</span></span>             | <span data-ttu-id="279db-186">0</span><span class="sxs-lookup"><span data-stu-id="279db-186">0</span></span>                                                   | <span data-ttu-id="279db-187">該当なし</span><span class="sxs-lookup"><span data-stu-id="279db-187">N/A</span></span>                       |
| <span data-ttu-id="279db-188">45-60</span><span class="sxs-lookup"><span data-stu-id="279db-188">45-60</span></span>       | <span data-ttu-id="279db-189">36</span><span class="sxs-lookup"><span data-stu-id="279db-189">36</span></span>           | <span data-ttu-id="279db-190">120</span><span class="sxs-lookup"><span data-stu-id="279db-190">120</span></span>            | <span data-ttu-id="279db-191">20</span><span class="sxs-lookup"><span data-stu-id="279db-191">20</span></span>                                                  | <span data-ttu-id="279db-192">両方</span><span class="sxs-lookup"><span data-stu-id="279db-192">Both</span></span>                      |
| <span data-ttu-id="279db-193">60-75</span><span class="sxs-lookup"><span data-stu-id="279db-193">60-75</span></span>       | <span data-ttu-id="279db-194">24</span><span class="sxs-lookup"><span data-stu-id="279db-194">24</span></span>           | <span data-ttu-id="279db-195">144</span><span class="sxs-lookup"><span data-stu-id="279db-195">144</span></span>            | <span data-ttu-id="279db-196">24</span><span class="sxs-lookup"><span data-stu-id="279db-196">24</span></span>                                                  | <span data-ttu-id="279db-197">サステイン</span><span class="sxs-lookup"><span data-stu-id="279db-197">Sustain</span></span>                   |
| <span data-ttu-id="279db-198">…</span><span class="sxs-lookup"><span data-stu-id="279db-198">…</span></span>           | <span data-ttu-id="279db-199">…</span><span class="sxs-lookup"><span data-stu-id="279db-199">…</span></span>            | <span data-ttu-id="279db-200">…</span><span class="sxs-lookup"><span data-stu-id="279db-200">…</span></span>              |                                                     | <span data-ttu-id="279db-201">…</span><span class="sxs-lookup"><span data-stu-id="279db-201">…</span></span>                         |
| <span data-ttu-id="279db-202">285-300</span><span class="sxs-lookup"><span data-stu-id="279db-202">285-300</span></span>     | <span data-ttu-id="279db-203">4</span><span class="sxs-lookup"><span data-stu-id="279db-203">4</span></span>            | <span data-ttu-id="279db-204">148</span><span class="sxs-lookup"><span data-stu-id="279db-204">148</span></span>            |                                                     | <span data-ttu-id="279db-205">サステイン</span><span class="sxs-lookup"><span data-stu-id="279db-205">Sustain</span></span>                   |

<span data-ttu-id="279db-206">表によると、35 回の要求を行ったことにより、ユーザーは最初の 15 秒でバースト制限にかかっています。</span><span class="sxs-lookup"><span data-stu-id="279db-206">The table shows that in the first 15 seconds the user trips the burst limit by making 35 requests.</span></span> <span data-ttu-id="279db-207">超過分の 5 回の要求は破棄され、429 応答が 5 回送信されます。</span><span class="sxs-lookup"><span data-stu-id="279db-207">Those 5 extra requests are dropped and 5 429 Reponses are sent.</span></span> <span data-ttu-id="279db-208">この 5 回の要求はスロットルされましたが、サステイン制限までのカウントでは引き続き数えられていることに注目してください。</span><span class="sxs-lookup"><span data-stu-id="279db-208">It is worth noting that those 5 request though throttled still count towards the sustain limit.</span></span> <span data-ttu-id="279db-209">表に示されているように、一度でもどちらかの制限にかかると、両方の制限にかかっている 45 秒からの期間だけでなく、要求が 4 回しか行われていない 285 秒からの期間でも、すべての要求が破棄されています。</span><span class="sxs-lookup"><span data-stu-id="279db-209">Once either limit is tripped no requests are let through as shown when both limits trip at the 45 second mark and again when only 4 requests are made at the 285 second mark.</span></span>

## <a name="http-429-response-object"></a><span data-ttu-id="279db-210">HTTP 429 応答オブジェクト</span><span class="sxs-lookup"><span data-stu-id="279db-210">HTTP 429 Response object</span></span>

<span data-ttu-id="279db-211">関連付けられたユーザーとタイトルのカウントがバースト制限またはサステイン制限のどちらか以上になると、サービスは要求の処理をやめ、代わりに HTTP 429 応答を返すようになります。</span><span class="sxs-lookup"><span data-stu-id="279db-211">When the associated user and title count is at or above either the burst or sustain limit the service will not handle the request and will instead return a HTTP 429 response.</span></span> <span data-ttu-id="279db-212">HTTP 429 コードは "要求が多すぎる" ことを表し、"X 秒後の再試行" を指示する値を含むヘッダーが付属します。</span><span class="sxs-lookup"><span data-stu-id="279db-212">The HTTP 429 code stands for “too many requests” will be accompanied by a header containing a “retry after X seconds” value.</span></span> <span data-ttu-id="279db-213">FGRL の 429 応答には、呼び出し側エンティティが再試行までに待たなければならない時間を指定する retry after ヘッダーが含まれます。</span><span class="sxs-lookup"><span data-stu-id="279db-213">FGRL 429’s contains a retry after header that specifies the amount of time the calling entities should wait before trying again.</span></span> <span data-ttu-id="279db-214">再試行までの待ち時間が考慮されて適切に処理されるため、XSAPI を使用するデベロッパーは心配の必要はありません。</span><span class="sxs-lookup"><span data-stu-id="279db-214">Developers that use XSAPI will not have to worry as XSAPI honors and handles the Retry-After header.</span></span> <span data-ttu-id="279db-215">実際の応答には以下のフィールドが含まれます。</span><span class="sxs-lookup"><span data-stu-id="279db-215">The actual response will contain the following fields:</span></span>

| <span data-ttu-id="279db-216">フィールド名</span><span class="sxs-lookup"><span data-stu-id="279db-216">Field Name</span></span>      | <span data-ttu-id="279db-217">値の種類</span><span class="sxs-lookup"><span data-stu-id="279db-217">Value Type</span></span> | <span data-ttu-id="279db-218">例</span><span class="sxs-lookup"><span data-stu-id="279db-218">Example</span></span>                | <span data-ttu-id="279db-219">定義</span><span class="sxs-lookup"><span data-stu-id="279db-219">Definition</span></span>                       |
|-----------------|------------|------------------------|----------------------------------|
| <span data-ttu-id="279db-220">Version</span><span class="sxs-lookup"><span data-stu-id="279db-220">Version</span></span>         | <span data-ttu-id="279db-221">Integer</span><span class="sxs-lookup"><span data-stu-id="279db-221">Integer</span></span>    | `"version":1`          |                                  |
| <span data-ttu-id="279db-222">currentRequests</span><span class="sxs-lookup"><span data-stu-id="279db-222">currentRequests</span></span> | <span data-ttu-id="279db-223">Integer</span><span class="sxs-lookup"><span data-stu-id="279db-223">Integer</span></span>    | `"currentRequests":13` | <span data-ttu-id="279db-224">送信された要求の総数</span><span class="sxs-lookup"><span data-stu-id="279db-224">Total number of requests sent</span></span>    |
| <span data-ttu-id="279db-225">maxRequests</span><span class="sxs-lookup"><span data-stu-id="279db-225">maxRequests</span></span>     | <span data-ttu-id="279db-226">Integer</span><span class="sxs-lookup"><span data-stu-id="279db-226">Integer</span></span>    | `"maxRequests":10`     | <span data-ttu-id="279db-227">許可された要求の総数</span><span class="sxs-lookup"><span data-stu-id="279db-227">Total number of requests allowed</span></span> |
| <span data-ttu-id="279db-228">periodInSeconds</span><span class="sxs-lookup"><span data-stu-id="279db-228">periodInSeconds</span></span> | <span data-ttu-id="279db-229">Integer</span><span class="sxs-lookup"><span data-stu-id="279db-229">Integer</span></span>    | `“periodInSeconds”:15` | <span data-ttu-id="279db-230">期間の長さ</span><span class="sxs-lookup"><span data-stu-id="279db-230">Time window</span></span>                      |
| <span data-ttu-id="279db-231">種類</span><span class="sxs-lookup"><span data-stu-id="279db-231">Type</span></span>            | <span data-ttu-id="279db-232">String</span><span class="sxs-lookup"><span data-stu-id="279db-232">String</span></span>     | `“type”:”burst”`       | <span data-ttu-id="279db-233">スロットル制限タイプ</span><span class="sxs-lookup"><span data-stu-id="279db-233">Throttle limit type</span></span>              |

## <a name="implemented-limits"></a><span data-ttu-id="279db-234">実装された制限</span><span class="sxs-lookup"><span data-stu-id="279db-234">Implemented limits</span></span>

<span data-ttu-id="279db-235">以下のサービスは、**2016 年 5 月に施行開始される** FGRL 制限を実装します。</span><span class="sxs-lookup"><span data-stu-id="279db-235">The following services will be implementing FGRL limits which will **begin enforcing in May 2016**.</span></span> <span data-ttu-id="279db-236">繰り返しますが、これらの制限はすべてのサンドボックスおよびタイトルに共通です。</span><span class="sxs-lookup"><span data-stu-id="279db-236">To reiterate, these limits will be the same across all sandboxes and titles.</span></span> **<span data-ttu-id="279db-237">現在は XDP またはデベロッパー センターにあり、2016 年 5 月頃に出荷されるタイトルはすべてレガシーとみなされ、制限の適用が免除されます。</span><span class="sxs-lookup"><span data-stu-id="279db-237">Any title that is currently in XDP or Dev Center and shipping around May 2016 will be considered Legacy and therefore exempted.</span></span>** <span data-ttu-id="279db-238">以下の制限はまだ最終的に確定していません。</span><span class="sxs-lookup"><span data-stu-id="279db-238">The limits below are not finalized yet</span></span>

| **<span data-ttu-id="279db-239">サービス名</span><span class="sxs-lookup"><span data-stu-id="279db-239">Service Name</span></span>**          | **<span data-ttu-id="279db-240">バースト制限 (15 秒間、1 ユーザーおよび 1 タイトルあたり)</span><span class="sxs-lookup"><span data-stu-id="279db-240">Burst Limit (15 seconds per user per title)</span></span>** | **<span data-ttu-id="279db-241">サステイン制限 (300 秒間、1 ユーザーおよび 1 タイトルあたり)</span><span class="sxs-lookup"><span data-stu-id="279db-241">Sustain Limit (300 seconds per user per title)</span></span>** |
|---------------------------|-------------------------------------------------|----------------------------------------------------|
| <span data-ttu-id="279db-242">ゲーム クリップ転送</span><span class="sxs-lookup"><span data-stu-id="279db-242">Game Clips Transfer</span></span>       | <span data-ttu-id="279db-243">50</span><span class="sxs-lookup"><span data-stu-id="279db-243">50</span></span>                                              | <span data-ttu-id="279db-244">300</span><span class="sxs-lookup"><span data-stu-id="279db-244">300</span></span>                                                |
| <span data-ttu-id="279db-245">ゲーム クリップ メタデータ</span><span class="sxs-lookup"><span data-stu-id="279db-245">Game Clips Metadata</span></span>       | <span data-ttu-id="279db-246">50</span><span class="sxs-lookup"><span data-stu-id="279db-246">50</span></span>                                              | <span data-ttu-id="279db-247">300</span><span class="sxs-lookup"><span data-stu-id="279db-247">300</span></span>                                                |
| <span data-ttu-id="279db-248">スマート マッチ (MPSD ではない)</span><span class="sxs-lookup"><span data-stu-id="279db-248">Smart Match (not MPSD)</span></span>    | <span data-ttu-id="279db-249">10</span><span class="sxs-lookup"><span data-stu-id="279db-249">10</span></span>                                              | <span data-ttu-id="279db-250">100</span><span class="sxs-lookup"><span data-stu-id="279db-250">100</span></span>                                                |
| <span data-ttu-id="279db-251">タイトル ストレージ</span><span class="sxs-lookup"><span data-stu-id="279db-251">Title Storage</span></span>             | <span data-ttu-id="279db-252">30</span><span class="sxs-lookup"><span data-stu-id="279db-252">30</span></span>                                              | <span data-ttu-id="279db-253">300</span><span class="sxs-lookup"><span data-stu-id="279db-253">300</span></span>                                                |
| <span data-ttu-id="279db-254">統計情報の読み取り (作成ではない)</span><span class="sxs-lookup"><span data-stu-id="279db-254">Stats Read (not creation)</span></span> | <span data-ttu-id="279db-255">100</span><span class="sxs-lookup"><span data-stu-id="279db-255">100</span></span>                                             | <span data-ttu-id="279db-256">300</span><span class="sxs-lookup"><span data-stu-id="279db-256">300</span></span>                                                |
| <span data-ttu-id="279db-257">実績の読み取り</span><span class="sxs-lookup"><span data-stu-id="279db-257">Achievements Read</span></span>         | <span data-ttu-id="279db-258">100</span><span class="sxs-lookup"><span data-stu-id="279db-258">100</span></span>                                             | <span data-ttu-id="279db-259">100</span><span class="sxs-lookup"><span data-stu-id="279db-259">100</span></span>                                                |
| <span data-ttu-id="279db-260">ランキングの読み取り</span><span class="sxs-lookup"><span data-stu-id="279db-260">Leaderboards Read</span></span>         | <span data-ttu-id="279db-261">30</span><span class="sxs-lookup"><span data-stu-id="279db-261">30</span></span>                                              | <span data-ttu-id="279db-262">100</span><span class="sxs-lookup"><span data-stu-id="279db-262">100</span></span>                                                |
| <span data-ttu-id="279db-263">プロフィール</span><span class="sxs-lookup"><span data-stu-id="279db-263">Profile</span></span>                   | <span data-ttu-id="279db-264">10</span><span class="sxs-lookup"><span data-stu-id="279db-264">10</span></span>                                              | <span data-ttu-id="279db-265">30</span><span class="sxs-lookup"><span data-stu-id="279db-265">30</span></span>                                                 |
| <span data-ttu-id="279db-266">People</span><span class="sxs-lookup"><span data-stu-id="279db-266">People</span></span>                    | <span data-ttu-id="279db-267">10</span><span class="sxs-lookup"><span data-stu-id="279db-267">10</span></span>                                              | <span data-ttu-id="279db-268">30</span><span class="sxs-lookup"><span data-stu-id="279db-268">30</span></span>                                                 |
| <span data-ttu-id="279db-269">プライバシー</span><span class="sxs-lookup"><span data-stu-id="279db-269">Privacy</span></span>                   | <span data-ttu-id="279db-270">10</span><span class="sxs-lookup"><span data-stu-id="279db-270">10</span></span>                                              | <span data-ttu-id="279db-271">30</span><span class="sxs-lookup"><span data-stu-id="279db-271">30</span></span>                                                 |
| <span data-ttu-id="279db-272">プレゼンス</span><span class="sxs-lookup"><span data-stu-id="279db-272">Presence</span></span>                  | <span data-ttu-id="279db-273">読み取り 10、書き込み 3</span><span class="sxs-lookup"><span data-stu-id="279db-273">Read 10, Write 3</span></span>                                | <span data-ttu-id="279db-274">読み取り 100、書き込み 30</span><span class="sxs-lookup"><span data-stu-id="279db-274">Read 100, Write 30</span></span>                                 |

<span data-ttu-id="279db-275">上の表は、FGRL の対象に選ばれたサービスの現在のリストを表します。</span><span class="sxs-lookup"><span data-stu-id="279db-275">The table above represents the current list of services that were selected for FGRL.</span></span> <span data-ttu-id="279db-276">このリストは最終版ではなく、新しいサービスや既存のサービスが追加される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="279db-276">This list is not final as new services and existing services can be added.</span></span> <span data-ttu-id="279db-277">サービスが追加される場合、表を更新し告知を行います。</span><span class="sxs-lookup"><span data-stu-id="279db-277">When a service is going to be added the table will be updated and an announcement will be made.</span></span> <span data-ttu-id="279db-278">表に記載されている制限も最終的なものではありません。</span><span class="sxs-lookup"><span data-stu-id="279db-278">The limits represented in the table should also not be viewed as finalized.</span></span> <span data-ttu-id="279db-279">サービスの変更や進化に伴って制限も変更される可能性がありますが、変更時はその旨を告知し、必要なレガシー免除措置を講じます。</span><span class="sxs-lookup"><span data-stu-id="279db-279">As services change and evolve so too will the limits however you will be notified and the necessary legacy exemptions will be made.</span></span>

## <a name="how-can-i-determine-i-am-being-throttled-and-what-steps-can-i-take"></a><span data-ttu-id="279db-280">スロットルされているかどうかの判断方法と可能な対処手順</span><span class="sxs-lookup"><span data-stu-id="279db-280">How can I determine I am being throttled and what steps can I take?</span></span>

<span data-ttu-id="279db-281">「[Xbox Live Best Practices](best-practices-for-calling-xbox-live.md)」ドキュメントを参照してください。呼び出しパターンを改善するための手順に加えて、スロットリングの問題を通知および軽減するために XSAPI アサーション、XSAPI Social Manager、XSAPI Multiplayer Manager、および Live トレース ツールをどのように使用できるかを説明しています。</span><span class="sxs-lookup"><span data-stu-id="279db-281">Please refer to the [Xbox Live Best Practices](best-practices-for-calling-xbox-live.md) document as it will contain steps for improving your call pattern as well as an explanation of how the XSAPI assertion, XSAPI Social and Multiplayer managers, and live trace tool can be used to notify you of and mitigate throttling issues.</span></span> <span data-ttu-id="279db-282">ベスト プラクティス ドキュメントは GDNP から入手でき、1602 以降の SDK および XDK ドキュメントに含まれています。</span><span class="sxs-lookup"><span data-stu-id="279db-282">You can find the best practices paper on GDNP and SDK and XDK docs 1602 and higher</span></span>

## <a name="faq"></a><span data-ttu-id="279db-283">FAQ</span><span class="sxs-lookup"><span data-stu-id="279db-283">FAQ</span></span>

### <a name="can-limits-change"></a><span data-ttu-id="279db-284">制限が変更される可能性はありますか。</span><span class="sxs-lookup"><span data-stu-id="279db-284">Can limits change?</span></span>

<span data-ttu-id="279db-285">公表された制限を今後変更する意図はありません。</span><span class="sxs-lookup"><span data-stu-id="279db-285">The intent is that the published limits will not change over time.</span></span> <span data-ttu-id="279db-286">しかしながら、必要が生じた場合、一部の制限が厳しくなる可能性はあります。その場合、RETAIL にリリース済みのタイトルは、更新された制限の適用が免除されます。</span><span class="sxs-lookup"><span data-stu-id="279db-286">However, if the need were to arise, it is possible that some of the limits could be made stricter; in that case, titles already released to RETAIL would be made exempt from the updated limits.</span></span>

### <a name="are-more-services-going-to-get-limits"></a><span data-ttu-id="279db-287">制限が適用されるサービスは増えますか。</span><span class="sxs-lookup"><span data-stu-id="279db-287">Are more services going to get limits?</span></span>

<span data-ttu-id="279db-288">はい。より多くのサービス、また新しいサービスで制限が導入されます。</span><span class="sxs-lookup"><span data-stu-id="279db-288">Yes, more services and new services can and will be creating limits.</span></span> <span data-ttu-id="279db-289">しかしながら、この最初の FGRL リリースと同様、必要な告知を行い、適切な予防措置を講じます。</span><span class="sxs-lookup"><span data-stu-id="279db-289">Though just like this first FGRL release you will be notified and the proper precautions will be taken.</span></span>

### <a name="when-will-these-changes-take-effect"></a><span data-ttu-id="279db-290">これらの変更はいつ発効しますか。</span><span class="sxs-lookup"><span data-stu-id="279db-290">When will these changes take effect?</span></span>

<span data-ttu-id="279db-291">dev/cert サンドボックスでは 4 月から制限が導入されます。</span><span class="sxs-lookup"><span data-stu-id="279db-291">You will notice limits in dev/cert sandboxes starting in April.</span></span> <span data-ttu-id="279db-292">5 月には RETAIL で制限が導入される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="279db-292">In May you can expect to see limits in RETAIL</span></span>

### <a name="what-if-we-cant-adhere-to-the-limits"></a><span data-ttu-id="279db-293">制限を守れない場合どうなりますか。</span><span class="sxs-lookup"><span data-stu-id="279db-293">What if we can’t adhere to the limits?</span></span>

<span data-ttu-id="279db-294">「[Xbox Live Best Practices](best-practices-for-calling-xbox-live.md)」を参照し、必ず、記載されている手順に従ってください。</span><span class="sxs-lookup"><span data-stu-id="279db-294">Please see the [Xbox Live Best Practices](best-practices-for-calling-xbox-live.md) and ensure you are following these steps.</span></span>  <span data-ttu-id="279db-295">何らかのソーシャル サービスでレート制限の適用を受けている場合は、[Social Manager](../../social-platform/intro-to-social-manager.md) の使用も検討してください。</span><span class="sxs-lookup"><span data-stu-id="279db-295">also consider using the [social manager](../../social-platform/intro-to-social-manager.md) if you are being rate limited with any of the social services.</span></span>

<span data-ttu-id="279db-296">これらの手順に従ってもなお、制限を守ることが難しい場合は、担当のデベロッパー アカウント マネージャーにご連絡ください。</span><span class="sxs-lookup"><span data-stu-id="279db-296">If after following these steps, you are still unable to remain under the limits, please reach out to your Developer Account Manager.</span></span>

### <a name="what-about-my-existing-title"></a><span data-ttu-id="279db-297">既存のタイトルはどうなりますか。</span><span class="sxs-lookup"><span data-stu-id="279db-297">What about my existing Title?</span></span>

<span data-ttu-id="279db-298">RETAIL での制限導入前に XDP またはデベロッパー センターにあったタイトルはレガシーとみなされ、制限が免除されます。</span><span class="sxs-lookup"><span data-stu-id="279db-298">Any title in XDP or Dev Center before limits in RETAIL are considered Legacy and exempt</span></span>

### <a name="content-updates"></a><span data-ttu-id="279db-299">コンテンツ アップデートはどうですか。</span><span class="sxs-lookup"><span data-stu-id="279db-299">Content Updates?</span></span>

<span data-ttu-id="279db-300">レガシーまたは適用免除タイトルについてはコンテンツ アップデートも免除対象になりますが、ゲームのサービス統合部分を最適化するためのツールおよびアセットを利用することを強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="279db-300">For a legacy or exempted title, content updates will also be exempt, though we strongly encourage you to leverage the tools and assets to optimize the service integration aspects of your game.</span></span>

### <a name="can-i-get-an-exemption-for-my-game-until-i-can-make-a-content-update"></a><span data-ttu-id="279db-301">コンテンツ アップデートが可能になるまでの間、ゲームへの適用免除を申請できますか。</span><span class="sxs-lookup"><span data-stu-id="279db-301">Can I get an exemption for my game until I can make a content update?</span></span>

<span data-ttu-id="279db-302">担当のデベロッパー アカウント マネージャーにお問い合わせください。</span><span class="sxs-lookup"><span data-stu-id="279db-302">Please speak with your Developer Account Manager.</span></span>
