---
author: KevinAsgari
title: "アクセシビリティ対応のゲーム内チャットの概要"
description: "Xbox Live ゲーム チャットのアクセシビリティ機能について説明します。"
ms.assetid: ecd84fa1-9b28-414b-b5e1-daba68de9472
ms.author: kevinasg
ms.date: 04-04-2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: "Xbox Live, Xbox, ゲーム, UWP, Windows 10, Xbox One, ゲーム チャット, アクセシビリティ, 音声合成, 音声テキスト変換"
ms.openlocfilehash: 5081381111605e6b68b3db94a55cb9980324f349
ms.sourcegitcommit: 90fbdc0e25e0dff40c571d6687143dd7e16ab8a8
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/06/2017
---
#  <a name="accessible-in-game-chat-overview"></a><span data-ttu-id="41b90-104">アクセシビリティ対応のゲーム内チャットの概要</span><span class="sxs-lookup"><span data-stu-id="41b90-104">Accessible in-game chat overview</span></span>

<span data-ttu-id="41b90-105">ここでは、**GameChat** コンポーネントによって提供されるアクセシビリティ対応のチャット機能の概要を説明します。</span><span class="sxs-lookup"><span data-stu-id="41b90-105">Here's an overview of the accessible chat features provided by the **GameChat** component.</span></span>

<span data-ttu-id="41b90-106">ゲーム内コミュニケーションのアクセシビリティを強化するために、合成音声 (TTS) と音声テキスト変換 (STT) の 2 つの新機能を提供しています。</span><span class="sxs-lookup"><span data-stu-id="41b90-106">To help you improve the accessibility of in-game communication, we have provided two new features&mdash;Text-to-Speech (TTS) and Speech-to-Text (STT).</span></span>

<span data-ttu-id="41b90-107">聴覚や音声に障碍のあるゲーマーのために、両方の機能を有効にしてタイトルのアクセシビリティを高めることを検討してください。</span><span class="sxs-lookup"><span data-stu-id="41b90-107">You should consider enabling both features to make your title more accessible to gamers with hearing or speech impairments.</span></span>

## <a name="text-to-speech-tts"></a><span data-ttu-id="41b90-108">音声合成 (TTS)</span><span class="sxs-lookup"><span data-stu-id="41b90-108">Text-to-speech (TTS)</span></span>

<span data-ttu-id="41b90-109">TTS はテキストを音声に変換する処理です。テキスト メッセージは、合成音声を使用して読み上げられます。</span><span class="sxs-lookup"><span data-stu-id="41b90-109">TTS describes the action of converting text into speech; text messages are read out using a synthesized voice.</span></span> <span data-ttu-id="41b90-110">**GameChat** で TTS を使用すると、タイトルは、ユーザーから送信されたテキスト ストリームが読み上げられたオーディオ ストリームを自動的に合成できます。</span><span class="sxs-lookup"><span data-stu-id="41b90-110">Using TTS in **GameChat**, your title can automatically synthesize audio streams that read out text streams sent by a user.</span></span> <span data-ttu-id="41b90-111">テキストと合成されたオーディオ ストリームの両方が、他のアクティブなチャット ユーザーに送信されます。</span><span class="sxs-lookup"><span data-stu-id="41b90-111">Both text and synthesized audio streams are sent to other active chat users.</span></span> <span data-ttu-id="41b90-112">この機能があれば、テキスト ベースのチャット システムがないタイトルでも、音声障碍のあるプレイヤーがゲーム チャットに積極的に参加できます。</span><span class="sxs-lookup"><span data-stu-id="41b90-112">This functionality enables gamers with speech impairments to actively engage in game chat even when your title does not have a text-based chat system.</span></span>

<span data-ttu-id="41b90-113">**GameChat** コンポーネントには、プレイヤーからテキスト入力を取得するためのその他の API が用意されていないため、タイトルでカスタム テキスト入力フィールドを提供するか、Xbox プラットフォームによって提供される仮想キーボードを有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="41b90-113">As the **GameChat** component does not provide any other APIs for capturing text input from the player, your title is still responsible for either providing a custom text-entry field or enabling the virtual keyboard provided by the Xbox platform.</span></span>

<span data-ttu-id="41b90-114">**HasRequestedSynthesizedAudio** は、**Microsoft.Xbox.GameChat** 名前空間に属する **ChatUser** クラスの新しいプロパティです。</span><span class="sxs-lookup"><span data-stu-id="41b90-114">**HasRequestedSynthesizedAudio** is a new property in the **ChatUser** class, part of the **Microsoft.Xbox.GameChat** namespace.</span></span> <span data-ttu-id="41b90-115">この値は、Xbox の**[簡単操作]** 設定でユーザーによって設定されます。</span><span class="sxs-lookup"><span data-stu-id="41b90-115">This value is set by the user through their **Ease of Access** settings for Xbox.</span></span>

<span data-ttu-id="41b90-116">ユーザーがアクティブなチャット セッションに参加している場合、タイトルは **ChatUser** クラスの **OnAccessibilitySettingsChanged** イベントをリッスンする必要があります。</span><span class="sxs-lookup"><span data-stu-id="41b90-116">When a user joins an active chat session, your title needs to listen for the **OnAccessibilitySettingsChanged** event in the **ChatUser** class.</span></span> <span data-ttu-id="41b90-117">このイベントは、チャットのアクセシビリティ設定が変更されたときに発生します。</span><span class="sxs-lookup"><span data-stu-id="41b90-117">This event is raised when any accessibility settings for chat has been changed.</span></span> <span data-ttu-id="41b90-118">**OnAccessibilitySettingsChanged** イベントが発生したら、**HasRequestedSynthesizedAudio** の値を確認します。</span><span class="sxs-lookup"><span data-stu-id="41b90-118">When **OnAccessibilitySettingsChanged** event is raised, check for the value of **HasRequestedSynthesizedAudio**.</span></span>

<span data-ttu-id="41b90-119">**HasRequestedSynthesizedAudio** が **TRUE** に設定されている場合、TTS が有効になっており、すべてのアクティブ ユーザーに送信されるテキスト メッセージにテキストを読み上げる音声パケットを含めるよう、ユーザーが要求したことを意味します。</span><span class="sxs-lookup"><span data-stu-id="41b90-119">If **HasRequestedSynthesizedAudio** is set to **TRUE**, this means that TTS is enabled and a user has requested for text messages sent to all active users to include a voice packet that reads out the text message.</span></span>

<span data-ttu-id="41b90-120">次の表は、**HasRequestedSynthesizedAudio** のプロパティ値が表すユーザーの TTS 設定が、チャットでのテキスト メッセージの処理方法にどう影響するかを示しています。</span><span class="sxs-lookup"><span data-stu-id="41b90-120">This table shows how the TTS setting of a user, indicated by property value of **HasRequestedSynthesizedAudio**, affect the way text messages in chat are processed.</span></span>

|<span data-ttu-id="41b90-121">HasRequestedSynthesizedAudio</span><span class="sxs-lookup"><span data-stu-id="41b90-121">HasRequestedSynthesizedAudio</span></span>  |<span data-ttu-id="41b90-122">すべてのリモート ユーザーに送信されるデータの種類</span><span class="sxs-lookup"><span data-stu-id="41b90-122">Type of data sent to all remote users</span></span>                                                 |
|------------------------------|--------------------------------------------------------------------------------------|
|**<span data-ttu-id="41b90-123">FALSE</span><span class="sxs-lookup"><span data-stu-id="41b90-123">FALSE</span></span>**                     |<span data-ttu-id="41b90-124">テキストのみ</span><span class="sxs-lookup"><span data-stu-id="41b90-124">Only text</span></span>                                                                             |
|**<span data-ttu-id="41b90-125">TRUE</span><span class="sxs-lookup"><span data-stu-id="41b90-125">TRUE</span></span>**                      |<span data-ttu-id="41b90-126">テキストと合成音声の両方</span><span class="sxs-lookup"><span data-stu-id="41b90-126">Both text and synthesized voice</span></span>                                                       |

<span data-ttu-id="41b90-127">**allowTextToSpeechConversion** は、**GenerateTextMessage** API の入力パラメーターです。</span><span class="sxs-lookup"><span data-stu-id="41b90-127">**allowTextToSpeechConversion** is an input parameter of the **GenerateTextMessage** API.</span></span> <span data-ttu-id="41b90-128">またこの API は、**Microsoft.Xbox.GameChat** 名前空間の **ChatUser** クラスの一部です。</span><span class="sxs-lookup"><span data-stu-id="41b90-128">This API is also part of the **ChatUser** class in the **Microsoft.Xbox.GameChat** namespace.</span></span> <span data-ttu-id="41b90-129">このパラメーターはタイトルによって設定され、テキストを音声に変換する組み込みの機能を利用するかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="41b90-129">This parameter is set by your title and determines whether or not it wishes to take advantage of the built-in functionality that converts text to speech.</span></span>

<span data-ttu-id="41b90-130">**allowTextToSpeechConversion** が **TRUE** の場合、**GameChat** はテキスト メッセージを自動的に処理して合成音声パケットを生成します。</span><span class="sxs-lookup"><span data-stu-id="41b90-130">If **allowTextToSpeechConversion** is **TRUE**, **GameChat** will automatically process the text message to generate a synthesized voice packet.</span></span> <span data-ttu-id="41b90-131">合成音声データは、ユーザーが設定で選択した音声プロファイル (Zira、Marcus、または David) を使用して作成されます。</span><span class="sxs-lookup"><span data-stu-id="41b90-131">The synthesized voice data is created using the user's selected voice profile in their settings (Zira, Marcus, or David).</span></span>
<span data-ttu-id="41b90-132">**FALSE** に設定されている場合は、タイトルで変換を独自に処理する予定であることを意味します。つまり、タイトルに代わって **GameChat** によって合成音声パケットが自動的に生成されることはありません。</span><span class="sxs-lookup"><span data-stu-id="41b90-132">If it is set to **FALSE**, this means that your title plans to handle the conversion on your own or do not want **GameChat** to auto-generate these synthesized voice packets on your behalf.</span></span>

<span data-ttu-id="41b90-133">**GameChat** で自動的にテキストを音声に変換するかどうかは、**allowTextToSpeechConversion** プロパティ値によって決まります。次の表は、このプロパティがすべてのリモート ユーザーに送信されるデータの最終的な種類にどう影響するかを示します。</span><span class="sxs-lookup"><span data-stu-id="41b90-133">Since the property value of **allowTextToSpeechConversion** determines whether or not text is converted to speech automatically by **GameChat**, this table shows how it impacts the eventual types of data sent to all remote users.</span></span>

|<span data-ttu-id="41b90-134">allowTextToSpeechConversion</span><span class="sxs-lookup"><span data-stu-id="41b90-134">allowTextToSpeechConversion</span></span>   |<span data-ttu-id="41b90-135">すべてのリモート ユーザーに送信されるデータの種類</span><span class="sxs-lookup"><span data-stu-id="41b90-135">Type of data sent to all remote users</span></span>                                                                                                               |
|------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
|**<span data-ttu-id="41b90-136">FALSE</span><span class="sxs-lookup"><span data-stu-id="41b90-136">FALSE</span></span>**                     |<span data-ttu-id="41b90-137">TTS が有効か無効かにかかわらず、テキストのみを送信</span><span class="sxs-lookup"><span data-stu-id="41b90-137">Only text is sent regardless if TTS is enabled or not</span></span>                                                                                               |
|**<span data-ttu-id="41b90-138">TRUE</span><span class="sxs-lookup"><span data-stu-id="41b90-138">TRUE</span></span>**                      |<span data-ttu-id="41b90-139">**HasRequestedSynthesizedAudio** が **TRUE** の場合のみ、テキストと合成音声の両方を送信</span><span class="sxs-lookup"><span data-stu-id="41b90-139">Both text and synthesized voice are sent only if **HasRequestedSynthesizedAudio** is **TRUE**</span></span>                                                       |

### <a name="example-flow"></a><span data-ttu-id="41b90-140">フローの例</span><span class="sxs-lookup"><span data-stu-id="41b90-140">Example flow</span></span>

<span data-ttu-id="41b90-141">ユーザーがチャット セッションに参加すると、タイトルは **ChatUser** クラスの **HasRequestedSynthesizedAudio** プロパティの値を確認します。</span><span class="sxs-lookup"><span data-stu-id="41b90-141">When user joins a chat session, your title checks the value of the **HasRequestedSynthesizedAudio** property in the **ChatUser** class.</span></span> <span data-ttu-id="41b90-142">この値は、ユーザーがテキストを音声として送信することを望んでいるかどうかを示します。</span><span class="sxs-lookup"><span data-stu-id="41b90-142">This value indicates whether or not the user wishes to send text as speech.</span></span>

<span data-ttu-id="41b90-143">`HasRequestedSynthesizedAudio = True` の場合:</span><span class="sxs-lookup"><span data-stu-id="41b90-143">When `HasRequestedSynthesizedAudio = True`:</span></span>

* <span data-ttu-id="41b90-144">TTS 変換するテキストを入力する手段をユーザーに提供します。</span><span class="sxs-lookup"><span data-stu-id="41b90-144">Present a way to enable the user to enter text to allow for TTS conversion.</span></span>

* <span data-ttu-id="41b90-145">**GenerateTextMessage** 関数を呼び出して、ユーザーからのテキスト メッセージと、テキスト メッセージの音声合成を必須にするかどうかを入力パラメーターとして渡します。</span><span class="sxs-lookup"><span data-stu-id="41b90-145">Call the **GenerateTextMessage** function, passing in the text message from the user and whether a voice synthesis of the text message is required as input parameters.</span></span> <span data-ttu-id="41b90-146">ほとんどの場合、2 番目のパラメーターは常に true になります。</span><span class="sxs-lookup"><span data-stu-id="41b90-146">In most cases, the second parameter will always be true.</span></span>

* <span data-ttu-id="41b90-147">未処理のテキストと合成音声データの両方が含まれた **OnOutgoingChatPacketReady** イベントに応答します。</span><span class="sxs-lookup"><span data-stu-id="41b90-147">Respond to **OnOutgoingChatPacketReady** events which will now contain both the raw text and synthesized voice data.</span></span>

<span data-ttu-id="41b90-148">合成音声データを含むチャット パッケージを受信する場合:</span><span class="sxs-lookup"><span data-stu-id="41b90-148">When receiving chat packages with synthesized voice data:</span></span>

* <span data-ttu-id="41b90-149">データの受信中に **ProcessIncomingChatMessage** を呼び出します。</span><span class="sxs-lookup"><span data-stu-id="41b90-149">Call **ProcessIncomingChatMessage** as data is being received.</span></span>

* <span data-ttu-id="41b90-150">処理されるチャット パッケージごとに、**GameChat** によって、**ChatTextMessageType** 引数を含む **OnTextMessageReceived** イベントが生成されます。</span><span class="sxs-lookup"><span data-stu-id="41b90-150">For each chat package processed, **GameChat** will raise the **OnTextMessageReceived** event which includes the **ChatTextMessageType** argument.</span></span> <span data-ttu-id="41b90-151">この引数は、受信したメッセージの種類に関する情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="41b90-151">This argument provides information about the type of message received.</span></span>

* <span data-ttu-id="41b90-152">メッセージの種類が **ChatSynthesizedVoiceDataMessage** として識別された場合、合成音声メッセージも、記録された音声パケットと同様に処理されます。</span><span class="sxs-lookup"><span data-stu-id="41b90-152">If the message type is identified as a **ChatSynthesizedVoiceDataMessage**, a synthesized voice message will also be processed in the same way as recorded voice packets.</span></span>

## <a name="speech-to-text-stt"></a><span data-ttu-id="41b90-153">音声テキスト変換 (STT)</span><span class="sxs-lookup"><span data-stu-id="41b90-153">Speech-to-text (STT)</span></span>

<span data-ttu-id="41b90-154">STT は、音声を取得してテキストに変換する処理です。</span><span class="sxs-lookup"><span data-stu-id="41b90-154">STT describes the action of taking voice and transcribing it into text.</span></span> <span data-ttu-id="41b90-155">**GameChat** では、他のユーザーがチャットで (声に出して) 話した内容をテキストに変換して受け取ることができます。</span><span class="sxs-lookup"><span data-stu-id="41b90-155">In **GameChat**, users can receive text transcriptions from other users who are speaking (using voice) in a chat to communicate.</span></span> <span data-ttu-id="41b90-156">この機能により、聴覚障碍のあるゲーマーも、ゲームの音量をオフにしているユーザーも、全員がボイス チャットに参加できます。</span><span class="sxs-lookup"><span data-stu-id="41b90-156">This functionality enables gamers with hearing impairment to engage in voice chat, and also enables all users to participate in voice chat even if they have turned game volume off.</span></span>

<span data-ttu-id="41b90-157">**HasRequestedTranscription** は、**Microsoft.Xbox.GameChat** 名前空間に属する **ChatUser** クラスの新しいプロパティです。</span><span class="sxs-lookup"><span data-stu-id="41b90-157">**HasRequestedTranscription** is a new property in the **ChatUser** class, part of the **Microsoft.Xbox.GameChat** namespace.</span></span> <span data-ttu-id="41b90-158">この値は、Xbox の**[簡単操作]** 設定でユーザーによって設定されます。</span><span class="sxs-lookup"><span data-stu-id="41b90-158">This value is set by the user through their **Ease of Access** settings for Xbox.</span></span>

<span data-ttu-id="41b90-159">ユーザーがアクティブなチャット セッションに参加している場合、タイトルは **ChatUser** クラスの **OnAccessibilitySettingsChanged** イベントをリッスンする必要があります。</span><span class="sxs-lookup"><span data-stu-id="41b90-159">When a user joins an active chat session, your title needs to listen for the **OnAccessibilitySettingsChanged** event in the **ChatUser** class.</span></span> <span data-ttu-id="41b90-160">このイベントは、チャットのアクセシビリティ設定が変更されたときに発生します。</span><span class="sxs-lookup"><span data-stu-id="41b90-160">This event is raised when any accessibility settings for chat has been changed.</span></span> <span data-ttu-id="41b90-161">**OnAccessibilitySettingsChanged** イベントが発生したら、**HasRequestedTranscription** の値を確認します。</span><span class="sxs-lookup"><span data-stu-id="41b90-161">When **OnAccessibilitySettingsChanged** event is raised, check for the value of **HasRequestedTranscription**.</span></span>

<span data-ttu-id="41b90-162">**HasRequestedTranscription** が **TRUE** に設定されている場合は、STT が有効になっており、すべてのリモート ユーザーの音声データを Microsoft 音声認識サービスに送信してテキスト変換してから、音声とテキストの両方の応答をローカル ユーザーに送信することを意味します。</span><span class="sxs-lookup"><span data-stu-id="41b90-162">If **HasRequestedTranscription** is set to **TRUE**, this means that STT is enabled and all remote users will have their voice data sent to Microsoft Speech Services for transcription prior to sending both the voice and text responses to the local user.</span></span>

<span data-ttu-id="41b90-163">カスタマイズされた UI を使用してテキスト チャットをレンダリングする予定のタイトルでは、事前にこの値を確認してその画面を準備することをお勧めしますが、必須ではありません。</span><span class="sxs-lookup"><span data-stu-id="41b90-163">Titles planning to render text chat using customized UI may want to check for this value in order to prepare their screen in advance, but it is not required.</span></span>

<span data-ttu-id="41b90-164">次の表は、**HasRequestedTranscription** のプロパティ値が表すユーザーの STT 設定が、他のアクティブなチャット ユーザーから送信される音声メッセージにどう影響するかを示しています。</span><span class="sxs-lookup"><span data-stu-id="41b90-164">This table shows how the STT setting of a user, indicated by property value of **HasRequestedTranscription**, affect voice messages sent from other active chat users.</span></span>

|<span data-ttu-id="41b90-165">HasRequestedTranscription</span><span class="sxs-lookup"><span data-stu-id="41b90-165">HasRequestedTranscription</span></span>     |<span data-ttu-id="41b90-166">ユーザーが受信するデータの種類</span><span class="sxs-lookup"><span data-stu-id="41b90-166">Type of data received by user</span></span>                                                         |
|------------------------------|--------------------------------------------------------------------------------------|
|**<span data-ttu-id="41b90-167">FALSE</span><span class="sxs-lookup"><span data-stu-id="41b90-167">FALSE</span></span>**                     |<span data-ttu-id="41b90-168">音声のみ</span><span class="sxs-lookup"><span data-stu-id="41b90-168">Only voice</span></span>                                                                            |
|**<span data-ttu-id="41b90-169">TRUE</span><span class="sxs-lookup"><span data-stu-id="41b90-169">TRUE</span></span>**                      |<span data-ttu-id="41b90-170">音声から変換されたテキストと音声の両方</span><span class="sxs-lookup"><span data-stu-id="41b90-170">Both transcribed text and voice</span></span>                                                       |


### <a name="to-render-a-transcribed-text-message"></a><span data-ttu-id="41b90-171">変換されたテキスト メッセージをレンダリングするには</span><span class="sxs-lookup"><span data-stu-id="41b90-171">To render a transcribed text message</span></span>

<span data-ttu-id="41b90-172">STT が有効になっている場合に、変換された **TranscribedText** 型のテキスト メッセージをユーザーが受信すると、タイトルは次の 2 つの方法のいずれかで画面にテキストをレンダリングする必要があります。</span><span class="sxs-lookup"><span data-stu-id="41b90-172">When STT is enabled and the user receives a transcribed text message, which will be of type **TranscribedText**, your title must render the text to the screen by using one of two methods:</span></span>

* <span data-ttu-id="41b90-173">タイトルが呼び出せる UI (TCUI)</span><span class="sxs-lookup"><span data-stu-id="41b90-173">Title-callable UI (TCUI)</span></span>

  <span data-ttu-id="41b90-174">シェルとプラットフォームによって提供される TCUI を使用して、変換されたテキストをタイトルの画面上にレンダリングできます。</span><span class="sxs-lookup"><span data-stu-id="41b90-174">You can render the transcribed text on your title's screen by using the TCUI, which is provided by shell and the platform.</span></span> <span data-ttu-id="41b90-175">UI は、高さと幅が固定されたオーバーレイです。</span><span class="sxs-lookup"><span data-stu-id="41b90-175">The UI is an overlay that has a fixed height and width.</span></span> <span data-ttu-id="41b90-176">次に示すように、画面上の 8 つの位置のいずれかに配置することができます。</span><span class="sxs-lookup"><span data-stu-id="41b90-176">It can be positioned in one of eight possible positions on the screen, as shown here.</span></span>

  ![TCUI をレンダリング可能な 8 つの位置](../../images/multiplayer/tcui-render-positions.png)

  <span data-ttu-id="41b90-178">タイトルは、表示用の API に 3 つの情報を送信する必要があります。話し手の名前、変換されたテキスト、テキスト メッセージの作成方法 (実際のテキスト入力か STT 経由か) を示す識別子です。</span><span class="sxs-lookup"><span data-stu-id="41b90-178">Your title will need to send three pieces of info to the API for display: the name of the speaker, the transcribed text, and an identifier to indicate how the text message was created (that is, through actual text input or via STT).</span></span> <span data-ttu-id="41b90-179">実際のテキストの入力によって作成されたテキスト メッセージの場合はキーボード識別子が表示され、変換されたテキスト メッセージの場合はヘッドセット識別子が表示されます。</span><span class="sxs-lookup"><span data-stu-id="41b90-179">For text messages created through actual text input, the keyboard identifier is displayed; for transcribed text messages, the headset identifier is displayed.</span></span> <span data-ttu-id="41b90-180">これはシェルベースのオーバーレイであるため、すべてのシェルの動作を継承します。ユーザーが操作することはできません。</span><span class="sxs-lookup"><span data-stu-id="41b90-180">Because this is a shell-based overlay, it inherits all shell behaviors, and users cannot interact with it.</span></span>

  <span data-ttu-id="41b90-181">ユニバーサル Windows プラットフォーム (UWP) で開発されたタイトルでは、次回のメジャー アップデートでこのオーバーレイが提供される見込みです。</span><span class="sxs-lookup"><span data-stu-id="41b90-181">For titles developed on the Universal Windows Platform (UWP), this overlay is expected to be available in the next major update.</span></span> <span data-ttu-id="41b90-182">それまでは、ゲーム内 UI (次に説明します) を使用して、変換されたテキスト メッセージをレンダリングできます。</span><span class="sxs-lookup"><span data-stu-id="41b90-182">Until then, you can use in-game UI (described next) to render transcribed text messages.</span></span>

* <span data-ttu-id="41b90-183">ゲーム内 UI</span><span class="sxs-lookup"><span data-stu-id="41b90-183">In-game UI</span></span>

  <span data-ttu-id="41b90-184">タイトルでさまざまなデバイス (Xbox、PC、または Windows 10 のすべてのデバイス) にわたる UI エクスペリエンスをより細かく制御する場合は、代わりに、チャット テキストを表示するカスタムのゲーム内 UI を作成できます。</span><span class="sxs-lookup"><span data-stu-id="41b90-184">If you prefer your title to have more control over the UI experience across different devices (Xbox, PC, or any Windows 10 devices), you can create custom in-game UI to display chat text instead.</span></span>

### <a name="example-flow"></a><span data-ttu-id="41b90-185">フローの例</span><span class="sxs-lookup"><span data-stu-id="41b90-185">Example flow</span></span>

<span data-ttu-id="41b90-186">起動時に、**ChatUser** クラスの **HasRequestedTranscription** プロパティを確認します。</span><span class="sxs-lookup"><span data-stu-id="41b90-186">On launch, you  may check the **HasRequestedTranscription** property from the **ChatUser** class.</span></span> <span data-ttu-id="41b90-187">この設定によって、タイトルは、ユーザーが音声テキスト変換機能を有効にしているかどうか、さらにチャット セッション中にユーザーに送信される音声およびテキスト データの処理方法を認識します。</span><span class="sxs-lookup"><span data-stu-id="41b90-187">This setting tells your title whether the user has enabled the speech-to-text feature, and therefore how to handle voice and text data sent to the user during the chat session.</span></span>

<span data-ttu-id="41b90-188">STT が有効になっているユーザーが、変換されたテキスト文字列を含むチャット パッケージを受信する場合:</span><span class="sxs-lookup"><span data-stu-id="41b90-188">When a user with STT enabled receives chat packages with transcribed text strings:</span></span>
* <span data-ttu-id="41b90-189">ユーザーに送られる **ChatPackets** には、音声データと、音声データが処理された後に受信した変換後の文字列の両方が含まれます。</span><span class="sxs-lookup"><span data-stu-id="41b90-189">**ChatPackets** sent to the user include both voice data and the transcribed string text received after the voice data has been processed.</span></span>
* <span data-ttu-id="41b90-190">処理されるチャット パッケージごとに、**OnTextMessageReceived** イベントが生成されます。</span><span class="sxs-lookup"><span data-stu-id="41b90-190">For each chat package processed, the **OnTextMessageReceived** event is raised.</span></span> <span data-ttu-id="41b90-191">このイベントには、受信したメッセージの種類に関する情報を提供する **ChatTextMessageType** 引数が含まれています。</span><span class="sxs-lookup"><span data-stu-id="41b90-191">This event includes the **ChatTextMessageType** argument, which provides info about the type of message received.</span></span> <span data-ttu-id="41b90-192">メッセージの種類が **TranscribedText** として識別された場合、上記 2 つの方法 (TCUI または同等のゲーム内 UI) のいずれかを使用して、変換されたテキスト メッセージが画面にレンダリングされます。</span><span class="sxs-lookup"><span data-stu-id="41b90-192">If the message type is identified as a **TranscribedText**, the transcribed text message is rendered on screen using one of the two methods listed previously&mdash;TCUI or an equivalent in-game UI.</span></span>

## <a name="related-links"></a><span data-ttu-id="41b90-193">関連リンク</span><span class="sxs-lookup"><span data-stu-id="41b90-193">Related links</span></span>

* [<span data-ttu-id="41b90-194">ゲーム チャットの概要</span><span class="sxs-lookup"><span data-stu-id="41b90-194">GameChat overview</span></span>](gamechat-overview.md)
