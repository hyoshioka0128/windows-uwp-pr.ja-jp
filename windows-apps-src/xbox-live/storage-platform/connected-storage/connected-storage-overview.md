---
title: 接続ストレージの概要
author: aablackm
description: 接続ストレージを使ってデバイス間でゲーム データの保存と読み込みを行う方法について説明します。
ms.assetid: a0bacf59-120a-4ffc-85e1-fbeec5db1308
ms.author: aablackm
ms.date: 02/27/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: xbox live, xbox, ゲーム, uwp, windows 10, xbox one, 接続ストレージ
ms.localizationpriority: medium
ms.openlocfilehash: 754367c1a8d2daaf37d236e65d241b05c52e84d5
ms.sourcegitcommit: 106aec1e59ba41aae2ac00f909b81bf7121a6ef1
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/15/2018
ms.locfileid: "4612801"
---
# <a name="connected-storage"></a><span data-ttu-id="fe0f0-104">接続ストレージ</span><span class="sxs-lookup"><span data-stu-id="fe0f0-104">Connected Storage</span></span>
<span data-ttu-id="fe0f0-105">接続ストレージは、複数のデバイス間でローミングされる必要があるゲームプレイ データや他の関連するアプリの状態データをタイトルが保存できるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-105">Connected Storage is designed to allow your title to save gameplay data and other relevant state data that should roam between devices.</span></span> <span data-ttu-id="fe0f0-106">接続ストレージ API を使うと、Xbox One とユニバーサル Windows プラットフォーム (UWP) のタイトルが、ローカルに保存されているタイトル データを保存、読み込み、削除できるようになるだけでなく、Xbox One または UWP タイトルがインターネットに接続されている場合は常にクラウドと同期されます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-106">The Connected Storage API allows titles on Xbox One and Universal Windows Platform(UWP) to save, load, and delete title data that is stored locally and also synced to the cloud whenever the Xbox One or UWP title is connected to the internet.</span></span> <span data-ttu-id="fe0f0-107">保存されたデータは、同期されるとタイトルを実行する他のデバイスで利用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-107">Saved data will be available on any other device which runs your title after synchronization occurs.</span></span> <span data-ttu-id="fe0f0-108">外出中でも最良の形でゲームをプレイできるように、開発者にはタイトルの状態をできる限り正確に保存することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-108">Developers are encouraged to save title state as accurately as possible to offer the best away from home play experience.</span></span> <span data-ttu-id="fe0f0-109">接続ストレージを利用すると、自宅でゲームのプレイを進めた後、同じゲームをサポートする他のデバイスで、ちょうどゲームを中断した場所から再開できるようになります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-109">Connected Storage is what allows you to progress in a game at home, then pick up your game right where you left off on any other device that supports the same game.</span></span>

## <a name="connected-storage-features"></a><span data-ttu-id="fe0f0-110">接続ストレージの機能</span><span class="sxs-lookup"><span data-stu-id="fe0f0-110">Connected Storage features</span></span>

<span data-ttu-id="fe0f0-111">接続ストレージ API は、次の機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-111">The Connected Storage API provides the following features:</span></span>

- <span data-ttu-id="fe0f0-112">アプリでは一度に最大 16 MB のデータをメモリー バッファーにすばやく保存できます。その後データはシステムによって HDD のローカルにキャッシュされ、クラウドにアップロードされます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-112">Apps can quickly save up to 16 MB of data at a time into a memory buffer, which is then cached locally on the HDD by the system and uploaded to the cloud.</span></span>
- <span data-ttu-id="fe0f0-113">対象パートナーおよび ID@Xbox 開発者向け:</span><span class="sxs-lookup"><span data-stu-id="fe0f0-113">For managed partners and ID@Xbox developers:</span></span>
    - <span data-ttu-id="fe0f0-114">ユーザー/アプリごとに 256 MB のクラウド ストレージ。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-114">256 MB per user/app of cloud storage.</span></span>
- <span data-ttu-id="fe0f0-115">Xbox Live クリエーターズ プログラム開発者向け:</span><span class="sxs-lookup"><span data-stu-id="fe0f0-115">For Xbox Live Creators Program developers:</span></span>
    - <span data-ttu-id="fe0f0-116">ユーザー/アプリごとに 64 MB のクラウド ストレージ。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-116">64 MB per user/app of cloud storage.</span></span>
- <span data-ttu-id="fe0f0-117">電源障害に対する堅牢な応答 - アプリでは、データの一部しか保存されないケースに対処する必要がありません</span><span class="sxs-lookup"><span data-stu-id="fe0f0-117">Robust response to power failures—apps don't have to deal with partial data being saved.</span></span>
- <span data-ttu-id="fe0f0-118">アプリが実行されていない場合を含め、データはクラウドに自動的にアップロードされます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-118">Data is automatically uploaded to the cloud, even when the app isn't running.</span></span>
- <span data-ttu-id="fe0f0-119">データは、Xbox Live に接続されている複数の Xbox One または UWP デバイスで使用できます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-119">Data is available across Xbox One or UWP devices that are connected to Xbox Live.</span></span>
- <span data-ttu-id="fe0f0-120">Xbox Live によってデバイス間の同期と競合の管理が処理されるため、アプリケーションが関与する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-120">Xbox Live handles cross-device syncing and conflict management without requiring involvement by the app.</span></span>

<span data-ttu-id="fe0f0-121">接続ストレージ システムでは、すべてのセーブが完全に行われるか、まったく行われません。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-121">The Connected Storage system makes sure that all saves are made in their entirety or not at all.</span></span> <span data-ttu-id="fe0f0-122">つまり、開発者は、電源障害が発生した場合や、ユーザーがアプリを手動で突然閉じたり、本体で別のアプリやゲームを開くことでアプリを閉じたりした場合に、部分的にセーブされたデータがゲームの状態に影響を与えることを心配する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-122">This means that as a developer you will never have to worry about partially saved data affecting your game state in case of power failure or the user closing the app suddenly, either manually or by opening another app/game on the console.</span></span> <span data-ttu-id="fe0f0-123">これにより、タイトルのユーザーはゲーム プレイをよりスムーズに楽しむこともできるようになります。接続ストレージを利用することで、ユーザーがゲームやアプリをすばやく自由に切り替えることができると同時に、中断した場所から元のゲームを再開できるようになるからです。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-123">This also ensures a smoother game play experience for users of your title, as Connected Storage is an important part of what allows users to switch between games and apps quickly and freely but still come back to the original game in the state in which they left.</span></span> <span data-ttu-id="fe0f0-124">作成したタイトルにこれらの機能を実装するには、接続ストレージ API について理解する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-124">In order to implement these features in your own title you will need to have an understanding of the Connected Storage APIs.</span></span>

## <a name="connected-storage-structure"></a><span data-ttu-id="fe0f0-125">接続ストレージの構造</span><span class="sxs-lookup"><span data-stu-id="fe0f0-125">Connected Storage structure</span></span>

<span data-ttu-id="fe0f0-126">接続ストレージ システムにより、アプリはデータを 1 つ以上の BLOB としてコンテナーに格納できます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-126">The Connected Storage system allows apps to store data as one or more blobs in containers.</span></span> <span data-ttu-id="fe0f0-127">大まかに言えば、接続ストレージ システム内のすべてのデータは、ユーザー (Xbox 開発キットで開発されたタイトルの場合はユーザーまたはコンピューター) に関連付けられます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-127">At a high level, all data in the Connected Storage system is associated with a user, or a user or machine in the case of Xbox Development Kit developed titles.</span></span> <span data-ttu-id="fe0f0-128">アプリによって保存される、特定のユーザーまたはマシンのすべてのデータは、接続ストレージ領域に保存されます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-128">All data saved by an app for a particular user or machine is stored in a Connected Storage space.</span></span> <span data-ttu-id="fe0f0-129">アプリの各ユーザーは接続ストレージ領域を取得しますが、合計で 256 または 64 MB の容量に制限されます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-129">Each user of your app gets a Connected Storage space with a limit of 256 or 64 MB total storage.</span></span> <span data-ttu-id="fe0f0-130">重要な注意点として、このストレージはアプリ専用であり、他のアプリとは共有されません。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-130">It's important to note that this storage is dedicated to your app alone, it is not shared with other apps.</span></span>

### <a name="containers-and-blobs"></a><span data-ttu-id="fe0f0-131">コンテナーと BLOB</span><span class="sxs-lookup"><span data-stu-id="fe0f0-131">Containers and blobs</span></span>

<span data-ttu-id="fe0f0-132">接続ストレージ コンテナー (または単にコンテナー) はストレージの基本単位です。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-132">The Connected Storage container, or container for short, is the basic unit of storage.</span></span> <span data-ttu-id="fe0f0-133">次の図に示されているように、それぞれの接続ストレージ領域には多数のコンテナーを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-133">Each Connected Storage space can contain numerous containers, as shown in the following diagram.</span></span>

<span data-ttu-id="fe0f0-134">接続ストレージ領域 (タイトル/マシンごとまたはタイトル/ユーザーごと)</span><span class="sxs-lookup"><span data-stu-id="fe0f0-134">Connected Storage space (per-title/machine or per-title/user)</span></span>

![connected_storage_space_containers.png](../../images/connected_storage/connected_storage_space_containers.png)

 <span data-ttu-id="fe0f0-136">データは、BLOB と呼ばれる 1 つ以上のバッファーとしてコンテナー内に保存されます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-136">Data is stored in containers as one or more buffers called blobs.</span></span> <span data-ttu-id="fe0f0-137">次の図は、ディスク上のコンテナーの内部システム表現を示しています。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-137">The following diagram illustrates the internal system representation of containers on disk.</span></span> <span data-ttu-id="fe0f0-138">コンテナーごとに、コンテナー内の各 BLOB に対応するデータ ファイルへの参照を含むコンテナー ファイルがあります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-138">For each container, there is a container file that contains references to the data file for each blob in the container.</span></span>

<span data-ttu-id="fe0f0-139">コンテナーの図</span><span class="sxs-lookup"><span data-stu-id="fe0f0-139">Diagram of a container</span></span>

![container_storage_blobs.png](../../images/connected_storage/container_storage_blobs.png)

<span data-ttu-id="fe0f0-141">コンテナーにデータを格納するには、名前および BLOB (Buffer オブジェクト) のマップを指定して、適切な API コンテナー メソッド SubmitUpdatesAsync を呼び出します。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-141">To store data in a container, call the appropriate APIs container method SubmitUpdatesAsync, providing a map of names and blobs (Buffer objects).</span></span> <span data-ttu-id="fe0f0-142">SubmitUpdatesAsync 呼び出しで記述されたすべての変更はアトミックに適用されます。つまり、要求どおりすべての BLOB が更新されるか、操作全体が中止されてコンテナーが呼び出しの前の状態のままとなるかのどちらかです。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-142">All changes described in a SubmitUpdatesAsync call are applied atomically, that is, either all the blobs are updated as requested, or the entire operation is terminated and the container remains in its state prior to the call.</span></span>

<span data-ttu-id="fe0f0-143">SubmitUpdatesAsync を使用する個々の保存処理では、一度に 16 MB のデータに制限されます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-143">Individual save operations that use SubmitUpdatesAsync are limited to 16 MB of data at a time.</span></span>

## <a name="connected-storage-api"></a><span data-ttu-id="fe0f0-144">接続ストレージ API</span><span class="sxs-lookup"><span data-stu-id="fe0f0-144">Connected Storage API</span></span>

<span data-ttu-id="fe0f0-145">接続ストレージには、XDK アプリと UWP アプリ用の別個の API があります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-145">Connected Storage has separate APIs for the XDK and UWP apps.</span></span> <span data-ttu-id="fe0f0-146">さいわい、これらの API は互いにとても似ています。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-146">Fortunately, these APIs resemble each other very closely.</span></span> <span data-ttu-id="fe0f0-147">2 つの API の主な違いは、名前空間とクラス名です。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-147">The two APIs differ mainly in their namespace and class names.</span></span> <span data-ttu-id="fe0f0-148">API を使ったデータの[保存](connected-storage-saving.md)、[読み込み](connected-storage-loading.md)、[削除](connected-storage-deleting.md)に必要な関数は、同じ名前です。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-148">The functions required to [save](connected-storage-saving.md), [load](connected-storage-loading.md), and [delete](connected-storage-deleting.md) data with the API are named identically.</span></span>

<span data-ttu-id="fe0f0-149">2 つの接続ストレージ API の他の違いについて詳しくは、「[XDK から UWP への Xbox Live コードの移植](../../using-xbox-live/porting-xbox-live-code-from-xdk-to-uwp.md)」の「接続ストレージ」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-149">Further differences between the two Connected Storage APIs are detailed in the Connected Storage section of [Porting Xbox Live code from XDK to UWP](../../using-xbox-live/porting-xbox-live-code-from-xdk-to-uwp.md).</span></span>

<span data-ttu-id="fe0f0-150">XDK .chm ファイルで説明されている XDK 接続ストレージ API は、パス **Xbox ONE XDK >> API リファレンス >> プラットフォーム API リファレンス >> システム API リファレンス >> Windows.Xbox.Storage** にあります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-150">You can find the XDK Connected Storage APIs documented in the XDK .chm file under the path: **Xbox ONE XDK >> API Reference >> Platform API Reference >> System API Reference >> Windows.Xbox.Storage**.</span></span>
<span data-ttu-id="fe0f0-151">XDK API については、[developer.microsoft.com サイト](https://developer.microsoft.com/en-us/games/xbox/docs/xdk/storage-xbox-microsoft-n)でも説明されています。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-151">The XDK APIs are also documented on the [developer.microsoft.com site](https://developer.microsoft.com/en-us/games/xbox/docs/xdk/storage-xbox-microsoft-n).</span></span>
<span data-ttu-id="fe0f0-152">XDK API へのリンクを開くには、Xbox 開発キット (XDK) へのアクセスが有効になっている Microsoft アカウント (MSA) が必要です。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-152">The link to XDK APIs requires that you have a Microsoft Account(MSA) that has been enabled for Xbox Developer Kit(XDK) access.</span></span>
<span data-ttu-id="fe0f0-153">Windows.Xbox.Storage は、Xbox One 本体の接続ストレージ名前空間の名前です。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-153">Windows.Xbox.Storage is the name of the Connected Storage namespace for Xbox One consoles.</span></span>

<span data-ttu-id="fe0f0-154">Xbox Live SDK .chm ファイルで説明されている UWP 接続ストレージ API は、パス **Xbox Live API >> Xbox Live Platform Extensions SDK API リファレンス >> Windows.Gaming.XboxLive.Storage** にあります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-154">You can find the UWP Connected Storage APIs documented in the Xbox Live SDK .chm file under the path: **Xbox Live APIs >> Xbox Live Platform Extensions SDK API Reference >> Windows.Gaming.XboxLive.Storage**.</span></span>
<span data-ttu-id="fe0f0-155">UWP 接続ストレージ API については、オンラインの [Windows.Gaming.XboxLive.Storage 名前空間参照に関するページ](https://docs.microsoft.com/en-us/uwp/api/windows.gaming.xboxlive.storage)もご覧ください。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-155">The UWP Connected Storage APIs are also documented online under the [Windows.Gaming.XboxLive.Storage namespace reference](https://docs.microsoft.com/en-us/uwp/api/windows.gaming.xboxlive.storage).</span></span>
<span data-ttu-id="fe0f0-156">Windows.Gaming.XboxLive.Storage は、UWP アプリの接続ストレージ名前空間の名前です。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-156">Windows.Gaming.XboxLive.Storage is the name of the Connected Storage namespace for UWP apps.</span></span>

<span data-ttu-id="fe0f0-157">接続ストレージを使い始めるには、接続ストレージ*領域*を取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-157">To begin using Connected Storage you will need to acquire a Connected Storage *space*.</span></span> <span data-ttu-id="fe0f0-158">接続ストレージ領域は、ユーザーまたはコンピューターに関連付けられ、そのユーザーまたはコンピューターに関連付けられているすべての接続ストレージ データを*コンテナー*および *BLOB* の形式で保持しています。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-158">A Connected Storage space is associated with a user or machine and holds all of the Connected Storage data associated with that user or machine in the form of *containers* and *blobs*.</span></span> <span data-ttu-id="fe0f0-159">コンピューターまたはユーザーの接続ストレージ領域を取得すると、そのエンティティが格納されているデータへの読み取り/書き込みアクセスが可能になります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-159">Acquiring a Connected Storage space for a machine or user will give you access to read and write to that entities stored data.</span></span> <span data-ttu-id="fe0f0-160">接続ストレージ領域を取得するため、XDK タイトルと UWP タイトルの両方が `GetForUserAsync` メソッドを呼び出します。XDK タイトルは `GetForMachineAsync` メソッドを呼び出すこともあります。UWP タイトルは `GetForMachineAsync` を呼び出すことができなくなります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-160">To acquire a Connected Storage space, both XDK and UWP titles will call the `GetForUserAsync` method, XDK titles may also call the `GetForMachineAsync` method, UWP titles will be unable to call `GetForMachineAsync`.</span></span> `GetForUserAsync` <span data-ttu-id="fe0f0-161">と `GetForMachineAsync` は、XDK の `ConnectedStorageSpace` クラスに含まれています。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-161">and `GetForMachineAsync` are contained in the `ConnectedStorageSpace` class in the XDK.</span></span> `GetForUserAsync` <span data-ttu-id="fe0f0-162">は、UWP API の `GameSaveProvider` クラスに含まれています。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-162">is contained in the `GameSaveProvider` class in the UWP API.</span></span> <span data-ttu-id="fe0f0-163">これらのメソッドは、特にユーザーがあるデバイス上でデータを保存しており、別のデバイス上で初めてゲームプレイを再開する場合に、実行時間が長くなる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-163">These methods are potentially long-running operations, especially if the user has saved data on one device and is resuming gameplay for the first time on another device.</span></span> `GetForUserAsync` <span data-ttu-id="fe0f0-164">は、ユーザーの接続ストレージ領域を取得します。これを使って、コンテナーの作成、アクセス、削除を実行できます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-164">retrieves a Connected Storage Space for a user which you can then use to create, access, and delete containers.</span></span>

<span data-ttu-id="fe0f0-165">コンテナーを作成したり、以前に作成したコンテナーにアクセスするには、`ConnectedStorageSpace` または `GameSaveProvider` クラスの `CreateContainer` 関数を呼び出します。これにより、コンテナーの作成に使用された `ConnectedStorageSpace` または `GameSaveProvider` に関連付けられているユーザーまたはコンピューターの名前付きコンテナーにアクセスできるようになります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-165">To create a container, or access a previously created container, call the `CreateContainer` function of your `ConnectedStorageSpace` or `GameSaveProvider` class, this will give you access to a named container for the user or machine associated with the `ConnectedStorageSpace` or `GameSaveProvider` used to create the container.</span></span> <span data-ttu-id="fe0f0-166">`ConnectedStorageSpace` クラスと `GameSaveProvider` クラスには、`DeleteContainerAsync` 関数も含まれています。この関数を使うと、削除するコンテナーの名前を指定すればコンテナーを削除できます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-166">The `ConnectedStorageSpace` and `GameSaveProvider` classes also include the `DeleteContainerAsync` function which allows you to delete a Container provided you give the name of the container to be deleted.</span></span>

<span data-ttu-id="fe0f0-167">コンテナー内の BLOB を更新するには、XDK の `ConnectedStorageContainer` クラスまたは UWP API の `GameSaveContainer` クラスで `SubmitUpdatesAsync` を呼び出します。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-167">To update blobs in your container call `SubmitUpdatesAsync` in the `ConnectedStorageContainer` class in the XDK or in the `GameSaveContainer` class of the UWP API.</span></span> `SubmitUpdatesAsync` <span data-ttu-id="fe0f0-168">を使うと、BLOB に書き込むデータとしての名前とバッファーのリスト、削除する BLOB 名のリスト、呼び出し元セーブ コンテナーの表示名を指定できます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-168">allows you to provide a list of names and buffers as data to be written to the blob, a list of names of blobs to be deleted, and a display name for the calling save container.</span></span> <span data-ttu-id="fe0f0-169">これは、接続ストレージ領域でデータを更新するために最終的に呼び出す必要のある関数です。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-169">This is the function that you will ultimately need to call to update data in your Connected Storage space.</span></span>

<span data-ttu-id="fe0f0-170">接続ストレージ API の使用例については、接続ストレージに関する記事 ([データの保存](connected-storage-saving.md)
[データの読み込み](connected-storage-loading.md)
[データの削除](connected-storage-deleting.md)) をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-170">To see examples of the Connected Storage APIs in use read the following Connected Storage articles: [Save Data](connected-storage-saving.md)
[Load Data](connected-storage-loading.md)
[Delete Data](connected-storage-deleting.md)</span></span>

> [!NOTE]
> <span data-ttu-id="fe0f0-171">セキュリティ メモ:</span><span class="sxs-lookup"><span data-stu-id="fe0f0-171">A Note on Security:</span></span>
>
> <span data-ttu-id="fe0f0-172">PC で実行されているユニバーサル Windows プラットフォーム (UWP) アプリは、ローカル ユーザーがアクセスでき、本質的にユーザーによる改ざんから保護されていない場所にローカル データを保存します。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-172">Universal Windows Platform (UWP) apps running on PCs save local data in a location that is accessible to the local user, and is not inherently protected from user tampering.</span></span>
><span data-ttu-id="fe0f0-173">ゲーム外でユーザーによってセーブ データが変更されないためには、ゲームのセーブ データに独自の暗号化や妥当性検査を適用することを考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-173">You should consider applying your own encryption and validity checks to game save data in order to help prevent users from modifying the game saves outside of the game.</span></span>
><span data-ttu-id="fe0f0-174">これと同じ理由から、ゲームの PC および Xbox バージョンによるセーブ データの共有を許可するか、別個のままにしておくかを決定してください。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-174">For this same reason you should decide if you want to allow PC and Xbox versions of your game to share saves or keep them separated.</span></span>

## <a name="managing-local-storage"></a><span data-ttu-id="fe0f0-175">ローカル ストレージの管理</span><span class="sxs-lookup"><span data-stu-id="fe0f0-175">Managing local storage</span></span>

<span data-ttu-id="fe0f0-176">Xbox 開発キットや UWP アプリで接続ストレージをテストするときは、開発デバイスのローカルに保存されたデータの操作が必要になることがあります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-176">When testing Connected Storage on your Xbox Development Kit or UWP app, you may need to manipulate the data stored locally on your development device.</span></span>

<span data-ttu-id="fe0f0-177">xbstorage ツールには XDK が付属しています。これは、開発機本体でローカル ストレージを操作できるコマンド ライン ツールです。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-177">The tool xbstorage ships with the XDK and is a command line tool that will allow you to manipulate local storage on your development console.</span></span>
<span data-ttu-id="fe0f0-178">UWP 開発者向けには、gamesaveutil.exe という PC 用の同じツールが Windows 10 SDK for Fall Creators Update(10.0.16299.91) 以降に用意されています。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-178">For UWP developers there is an identical tool for PC called gamesaveutil.exe which ships with the Windows 10 SDK for Fall Creators Update(10.0.16299.91) and later.</span></span>

<span data-ttu-id="fe0f0-179">どちらのツールでも、以下のコマンドを使ってデバイス上のローカル ストレージを操作できます。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-179">Both of these tools allow you to manipulate local storage on your device with these commands:</span></span>

|<span data-ttu-id="fe0f0-180">コマンド</span><span class="sxs-lookup"><span data-stu-id="fe0f0-180">Command</span></span>  |<span data-ttu-id="fe0f0-181">説明</span><span class="sxs-lookup"><span data-stu-id="fe0f0-181">Description</span></span>  |
|---------|---------|
|<span data-ttu-id="fe0f0-182">reset</span><span class="sxs-lookup"><span data-stu-id="fe0f0-182">reset</span></span>    | <span data-ttu-id="fe0f0-183">接続ストレージを工場出荷時の状態にリセットします。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-183">Performs a factory reset on Connected Storage.</span></span> |
|<span data-ttu-id="fe0f0-184">import</span><span class="sxs-lookup"><span data-stu-id="fe0f0-184">import</span></span>   | <span data-ttu-id="fe0f0-185">指定された XML ファイルから接続ストレージ領域にデータをインポートします。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-185">Imports data from the specified XML file to a Connected Storage space.</span></span> |
|<span data-ttu-id="fe0f0-186">export</span><span class="sxs-lookup"><span data-stu-id="fe0f0-186">export</span></span>   | <span data-ttu-id="fe0f0-187">接続ストレージ領域から指定された XML ファイルにデータをエクスポートします。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-187">Exports data from a Connected Storage space to the specified XML file.</span></span> |
|<span data-ttu-id="fe0f0-188">delete</span><span class="sxs-lookup"><span data-stu-id="fe0f0-188">delete</span></span>   | <span data-ttu-id="fe0f0-189">接続ストレージ領域からデータを削除します。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-189">Deletes data from a Connected Storage space.</span></span> |
|<span data-ttu-id="fe0f0-190">generate</span><span class="sxs-lookup"><span data-stu-id="fe0f0-190">generate</span></span> | <span data-ttu-id="fe0f0-191">ダミー データを生成し、指定された XML ファイルに保存します。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-191">Generates dummy data and saves to the specified XML file.</span></span> |
|<span data-ttu-id="fe0f0-192">simulate</span><span class="sxs-lookup"><span data-stu-id="fe0f0-192">simulate</span></span> | <span data-ttu-id="fe0f0-193">ストレージの領域不足状態をシミュレートします。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-193">Simulates out of Storage Space conditions.</span></span> |

<span data-ttu-id="fe0f0-194">xbstorage ツールと gamesaveutils.exe で使用できる関数について詳しくは、「[ローカル接続ストレージの管理](connected-storage-xb-storage.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-194">To learn more about the functions available in the xbstorage tool and gamesaveutils.exe read [Managing local Connected Storage](connected-storage-xb-storage.md).</span></span>

## <a name="technical-overview"></a><span data-ttu-id="fe0f0-195">技術概要</span><span class="sxs-lookup"><span data-stu-id="fe0f0-195">Technical overview</span></span>

<span data-ttu-id="fe0f0-196">XDK での接続ストレージのしくみについて詳しく調べるには、「[接続ストレージの技術的な概要](connected-storage-technical-overview.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-196">To take a more in depth look at how Connected Storage works on the XDK read the [Connected Storage Technical Overview](connected-storage-technical-overview.md).</span></span> <span data-ttu-id="fe0f0-197">技術概要は、XDK 開発者向けに執筆されましたが、含まれている概念は接続ストレージ全般に当てはまります。</span><span class="sxs-lookup"><span data-stu-id="fe0f0-197">The technical overview was written specifically for XDK developers but the concepts contained within apply to Connected Storage in general.</span></span>