---
ms.assetid: 25553c4d-fa4f-4130-af9b-97f993fefd43
description: このセクションでは、オーディオとビデオを再生するユニバーサル Windows アプリの作成について説明します。
title: メディア再生
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: acfc63e06ed1259adfb56836eac790a1f03d7853
ms.sourcegitcommit: d7613c791107f74b6a3dc12a372d9de916c0454b
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/05/2018
ms.locfileid: "8736934"
---
# <a name="media-playback"></a><span data-ttu-id="ef940-104">メディア再生</span><span class="sxs-lookup"><span data-stu-id="ef940-104">Media playback</span></span>


<span data-ttu-id="ef940-105">このセクションでは、オーディオとビデオを再生するユニバーサル Windows アプリの作成について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-105">This section provides information on creating Universal Windows apps that playback audio and video.</span></span> 

## <a name="media-playback-developer-features"></a><span data-ttu-id="ef940-106">開発者向けメディア再生機能</span><span class="sxs-lookup"><span data-stu-id="ef940-106">Media playback developer features</span></span>

<span data-ttu-id="ef940-107">次の表に、メディア再生機能をアプリに追加するための詳しいガイダンスを提供するハウツー記事の一覧を示します。</span><span class="sxs-lookup"><span data-stu-id="ef940-107">The following table lists the how-to articles that provide detailed guidance for adding media playback features to your app.</span></span>
 
| <span data-ttu-id="ef940-108">トピック</span><span class="sxs-lookup"><span data-stu-id="ef940-108">Topic</span></span>                                                                                             | <span data-ttu-id="ef940-109">説明</span><span class="sxs-lookup"><span data-stu-id="ef940-109">Description</span></span>                                                                                                                                                                                                                                                                                    |
|---------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="ef940-110">MediaPlayer を使ったオーディオとビデオの再生</span><span class="sxs-lookup"><span data-stu-id="ef940-110">Play audio and video with MediaPlayer</span></span>](play-audio-and-video-with-mediaplayer.md) | <span data-ttu-id="ef940-111">この記事では、UWP アプリ用のメディア再生システムに追加された新しい機能や機能強化を活用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-111">This article shows you how to take advantage of the new features and improvements to the media playback system for UWP apps.</span></span> <span data-ttu-id="ef940-112">Windows 10 バージョン 1607 以降、メディアの再生で推奨されるベスト プラクティスは、[**MediaElement**](https://msdn.microsoft.com/library/windows/apps/Windows.UI.Xaml.Controls.MediaElement) ではなく、[**MediaPlayer**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlayer) クラスを使ってメディアを再生することです。</span><span class="sxs-lookup"><span data-stu-id="ef940-112">Starting with Windows 10, version 1607,the recommended best practice for playing media is to use the [**MediaPlayer**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlayer) class instead of [**MediaElement**](https://msdn.microsoft.com/library/windows/apps/Windows.UI.Xaml.Controls.MediaElement) for media playback.</span></span> <span data-ttu-id="ef940-113">軽量の XAML コントロールである [**MediaPlayerElement**](https://msdn.microsoft.com/library/windows/apps/Windows.UI.Xaml.Controls.MediaPlayerElement) が導入され、XAML ページのメディア コンテンツをレンダリングできるようになりました。</span><span class="sxs-lookup"><span data-stu-id="ef940-113">The lightweight XAML control, [**MediaPlayerElement**](https://msdn.microsoft.com/library/windows/apps/Windows.UI.Xaml.Controls.MediaPlayerElement), has been introduced to allow you render media content in a XAML page.</span></span> <span data-ttu-id="ef940-114">**MediaPlayer** には、システム メディア トランスポート コントロールとの自動統合や、バックグラウンド オーディオで使用できるシンプルな 1 プロセスのモデルなど、複数の利点があります。</span><span class="sxs-lookup"><span data-stu-id="ef940-114">**MediaPlayer** provides several advantages including automatic integration with the System Media Transport Controls and a simpler, one-process model for background audio.</span></span> <span data-ttu-id="ef940-115">この記事では、ビデオを Windows.UI.Composition サーフェスにレンダリングする方法や、[**MediaTimelineController**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.MediaTimelineController) を使って複数のメディア プレーヤーを同期する方法についても説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-115">This article also shows you how to render video to a Windows.UI.Composition surface and how to use a [**MediaTimelineController**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.MediaTimelineController) to synchronize multiple media players.</span></span>                                                                                                          |
| [<span data-ttu-id="ef940-116">メディア項目、プレイリスト、トラック</span><span class="sxs-lookup"><span data-stu-id="ef940-116">Media items, playlists, and tracks</span></span>](media-playback-with-mediasource.md)                         | <span data-ttu-id="ef940-117">この記事では、ローカル ファイルやリモート ファイルなど、さまざまなソースのメディアを参照および再生するための一般的な方法を提供し、基になるメディア形式に関係なく、メディア データにアクセスするための一般的なモデルを公開する [**MediaSource**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Core.MediaSource) クラスの使い方について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-117">This article shows you how to use the [**MediaSource**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Core.MediaSource) class, which provides a common way to reference and play back media from different sources such as local or remote files and exposes a common model for accessing media data, regardless of the underlying media format.</span></span> <span data-ttu-id="ef940-118">[**MediaPlaybackItem**](https://msdn.microsoft.com/library/windows/apps/dn930939) クラスは、メディア項目に含まれている複数のオーディオ、ビデオ、メタデータ トラックを管理および選択できるようにして、**MediaSource** の機能を拡張します。</span><span class="sxs-lookup"><span data-stu-id="ef940-118">The [**MediaPlaybackItem**](https://msdn.microsoft.com/library/windows/apps/dn930939) class extends the functionality of **MediaSource**, allowing you to manage and select from multiple audio, video, and metadata tracks contained in a media item.</span></span> <span data-ttu-id="ef940-119">[**MediaPlaybackList**](https://msdn.microsoft.com/library/windows/apps/dn930955) を使用すると、1 つまたは複数のメディア再生項目から再生リストを作成できます。</span><span class="sxs-lookup"><span data-stu-id="ef940-119">[**MediaPlaybackList**](https://msdn.microsoft.com/library/windows/apps/dn930955) allows you to create playback lists from one or more media playback items.</span></span>                                                                                                               |
| [<span data-ttu-id="ef940-120">システム メディア トランスポート コントロールとの統合</span><span class="sxs-lookup"><span data-stu-id="ef940-120">Integrate with the System Media Transport Controls</span></span>](integrate-with-systemmediatransportcontrols.md)                               | <span data-ttu-id="ef940-121">この記事では、システム メディア トランスポート コントロール (SMTC) とアプリを統合する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-121">This article shows you how to integrate your app with the System Media Transport Controls (SMTC).</span></span> <span data-ttu-id="ef940-122">Windows 10 バージョン 1607 以降、メディアを再生するために作成した **MediaPlayer** のすべてのインスタンスは、SMTC によって自動的に表示されます。</span><span class="sxs-lookup"><span data-stu-id="ef940-122">Starting with Windows 10, version 1607, every instance of **MediaPlayer** that you create to play media is automatically displayed by the SMTC.</span></span> <span data-ttu-id="ef940-123">この記事では、再生中のコンテンツに関するメタデータを SMTC に提供する方法や、SMTC コントロールの既定の動作を増強または完全に上書きする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-123">This article shows you how to provide the SMTC with metadata about the content you are playing and how to augment or completely override the default behavior of SMTC controls.</span></span>                                   |
| [<span data-ttu-id="ef940-124">システムでサポートされているタイミングが設定されたメタデータのキュー</span><span class="sxs-lookup"><span data-stu-id="ef940-124">System-supported timed metadata cues</span></span>](system-supported-metadata-cues.md)                               | <span data-ttu-id="ef940-125">この記事では、メディア ファイルやストリームに埋め込まれる可能性がある、タイミングが設定されたメタデータのいくつかの形式を活用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-125">This article describes how to take advantage of several formats of timed metadata that may be embedded in media files or streams.</span></span>                                   |
| [<span data-ttu-id="ef940-126">メディアの中断の作成、スケジュール、管理</span><span class="sxs-lookup"><span data-stu-id="ef940-126">Create, schedule, and manage media breaks</span></span>](create-schedule-and-manage-media-breaks.md)                                                                             | <span data-ttu-id="ef940-127">この記事では、メディア再生アプリ用にメディアの中断を作成、スケジュール、管理する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-127">This article shows you how to create, schedule, and manage media breaks to your media playback app.</span></span> <span data-ttu-id="ef940-128">Windows 10 バージョン 1607 以降では、[**MediaBreakManager**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaBreakManager) クラスを使って、[**MediaPlayer**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlayer) で再生する任意の [**MediaPlaybackItem**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlaybackItem) にメディアの中断を簡単かつ迅速に追加できます。</span><span class="sxs-lookup"><span data-stu-id="ef940-128">Starting with Windows 10, version 1607, you can use the [**MediaBreakManager**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaBreakManager) class to quickly and easy add media breaks to any [**MediaPlaybackItem**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlaybackItem) that you play with a [**MediaPlayer**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlayer).</span></span> <span data-ttu-id="ef940-129">通常、メディアの中断は、オーディオ広告やビデオ広告をメディア コンテンツに挿入する目的で使います。</span><span class="sxs-lookup"><span data-stu-id="ef940-129">Media breaks are typically used to insert audio or video ads into media content.</span></span> <span data-ttu-id="ef940-130">メディアの中断を 1 つ以上スケジュールすると、再生中の指定した時間に、システムがメディア コンテンツを自動的に再生します。</span><span class="sxs-lookup"><span data-stu-id="ef940-130">Once you schedule one or more media breaks, the system will automatically play your media content at the specified time during playback.</span></span> <span data-ttu-id="ef940-131">**MediaBreakManager** では、ユーザーがメディアを中断、終了、またはスキップしたときにアプリが反応できるように、イベントが提供されています。</span><span class="sxs-lookup"><span data-stu-id="ef940-131">The **MediaBreakManager** provides events so that your app can react when media breaks start, end, or when they are skipped by the user.</span></span> <span data-ttu-id="ef940-132">[**MediaPlaybackSession**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlaybackSession) にアクセスしてメディアの中断を確認し、ダウンロードや進行状況の更新のバッファリングなどのイベントを監視することもできます。</span><span class="sxs-lookup"><span data-stu-id="ef940-132">You can also access a [**MediaPlaybackSession**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlaybackSession) for your media breaks to monitor events like download and buffering progress updates.</span></span>                                                                                                                     |
| [<span data-ttu-id="ef940-133">バックグラウンドでのメディアの再生</span><span class="sxs-lookup"><span data-stu-id="ef940-133">Play media in the background</span></span>](background-audio.md)                                                                             | <span data-ttu-id="ef940-134">この記事では、アプリをフォアグラウンドからバックグラウンドに移動してもメディアの再生を続行できるように、アプリを構成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-134">This article shows you how to configure your app so that media continues to play when your app moves from the foreground to the background.</span></span> <span data-ttu-id="ef940-135">バックグラウンドでの再生とは、ユーザーがアプリを最小化してホーム画面に戻った後や、それ以外の方法でアプリから離れた後も、アプリでオーディオの再生を続行できることを意味します。</span><span class="sxs-lookup"><span data-stu-id="ef940-135">This means that even after the user has minimized your app, returned to the home screen, or has navigated away from your app in some other way, your app can continue to play audio.</span></span> <span data-ttu-id="ef940-136">Windows 10 バージョン 1607 では、バックグラウンドでのメディアの再生用に新しい 1 プロセスのモデルが導入されているため、従来の 2 プロセスのモデルよりも迅速かつ簡単に実装できます。</span><span class="sxs-lookup"><span data-stu-id="ef940-136">With Windows 10, version 1607, a new single-process model for background media playback has been introduced that is much quicker and easier to implement than the legacy two-process model.</span></span> <span data-ttu-id="ef940-137">この記事には、新しいアプリケーション ライフサイクル イベントである [**EnteredBackground**](https://msdn.microsoft.com/library/windows/apps/Windows.ApplicationModel.Core.CoreApplication.EnteredBackground) と [**LeavingBackground**](https://msdn.microsoft.com/library/windows/apps/Windows.ApplicationModel.Core.CoreApplication.LeavingBackground) を使って、バックグラウンドでのアプリの実行中にメモリ使用量を管理することに関する情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="ef940-137">This article includes information on handling the new application lifecycle events [**EnteredBackground**](https://msdn.microsoft.com/library/windows/apps/Windows.ApplicationModel.Core.CoreApplication.EnteredBackground) and [**LeavingBackground**](https://msdn.microsoft.com/library/windows/apps/Windows.ApplicationModel.Core.CoreApplication.LeavingBackground) to manage your app's memory usage while running in the background.</span></span>                                                                                                                    |
| [<span data-ttu-id="ef940-138">アダプティブ ストリーミング</span><span class="sxs-lookup"><span data-stu-id="ef940-138">Adaptive Streaming</span></span>](adaptive-streaming.md)                                                       | <span data-ttu-id="ef940-139">この記事では、ユニバーサル Windows プラットフォーム (UWP) アプリにアダプティブ ストリーミング マルチメディア コンテンツの再生を追加する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-139">This article describes how to add playback of adaptive streaming multimedia content to a Universal Windows Platform (UWP) apps.</span></span> <span data-ttu-id="ef940-140">現在、この機能では、HTTP ライブ ストリーミング (HLS) と Dynamic Adaptive Streaming over HTTP (DASH) コンテンツの再生がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="ef940-140">This feature currently supports playback of Http Live Streaming (HLS) and Dynamic Streaming over HTTP (DASH) content.</span></span>                                          |
| [<span data-ttu-id="ef940-141">メディアのキャスト</span><span class="sxs-lookup"><span data-stu-id="ef940-141">Media casting</span></span>](media-casting.md)                                                                 | <span data-ttu-id="ef940-142">この記事では、ユニバーサル Windows アプリからリモート デバイスにメディアをキャストする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-142">This article shows you how to cast media to remote devices from a Universal Windows app.</span></span>                                                                                                                                                                                                       |
| [<span data-ttu-id="ef940-143">PlayReady DRM</span><span class="sxs-lookup"><span data-stu-id="ef940-143">PlayReady DRM</span></span>](playready-client-sdk.md)                                                          | <span data-ttu-id="ef940-144">このトピックでは、ユニバーサル Windows プラットフォーム (UWP) アプリに PlayReady で保護されたメディア コンテンツを追加する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-144">This topic describes how to add PlayReady protected media content to your Universal Windows Platform (UWP) app.</span></span>                                                                                                                                                                                |
| [<span data-ttu-id="ef940-145">PlayReady の Encrypted Media Extension</span><span class="sxs-lookup"><span data-stu-id="ef940-145">PlayReady Encrypted Media Extension</span></span>](playready-encrypted-media-extension.md)                     | <span data-ttu-id="ef940-146">このセクションでは、以前の Windows 8.1 から、Windows 10 バージョンに加えられた変更をサポートするために、PlayReady Web アプリを変更する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ef940-146">This section describes how to modify your PlayReady Web app to support the changes made from the previous Windows 8.1 version to the Windows 10 version.</span></span>                                                                                                                                       |

## <a name="media-playback-sdk-samples"></a><span data-ttu-id="ef940-147">メディア再生の SDK サンプル</span><span class="sxs-lookup"><span data-stu-id="ef940-147">Media playback SDK samples</span></span>

<span data-ttu-id="ef940-148">次の SDK サンプルでは、Windows 10 の UWP アプリで利用できるメディア再生機能が示されています。</span><span class="sxs-lookup"><span data-stu-id="ef940-148">The following SDK samples demonstrate the media playback features available to UWP apps on Windows 10.</span></span> <span data-ttu-id="ef940-149">コンテキスト内でメディア再生 API を使用する方法を確認したり、独自のアプリを作成し始める場合は、以下のサンプルをご利用ください。</span><span class="sxs-lookup"><span data-stu-id="ef940-149">Use these samples to see the media playback APIs used in context or as a starting point for your own app.</span></span>

* [<span data-ttu-id="ef940-150">アダプティブ ストリーミングのサンプル</span><span class="sxs-lookup"><span data-stu-id="ef940-150">Adaptive streaming sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/dev/Samples/AdaptiveStreaming)
* [<span data-ttu-id="ef940-151">バックグラウンド オーディオのサンプル</span><span class="sxs-lookup"><span data-stu-id="ef940-151">Background Audio sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/BackgroundMediaPlayback)
* [<span data-ttu-id="ef940-152">システム メディア トランスポートのサンプル</span><span class="sxs-lookup"><span data-stu-id="ef940-152">System Media Transport sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/dev/Samples/SystemMediaTransportControls)                                                                                               
 




