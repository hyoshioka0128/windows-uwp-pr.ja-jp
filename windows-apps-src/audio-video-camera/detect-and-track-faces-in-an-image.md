---
ms.assetid: 84729E44-10E9-4D7D-8575-6A9D97467ECD
description: このトピックでは、FaceDetector を使って画像内の顔を検出する方法について説明します。 FaceTracker は、ビデオ フレームのシーケンスで顔を経時的に追跡するように最適化されています。
title: 画像やビデオでの顔の検出
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 970fbcef984f28e779ea7c133de95f7f7f99be8d
ms.sourcegitcommit: d2517e522cacc5240f7dffd5bc1eaa278e3f7768
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/30/2018
ms.locfileid: "8330070"
---
# <a name="detect-faces-in-images-or-videos"></a><span data-ttu-id="31982-105">画像やビデオでの顔の検出</span><span class="sxs-lookup"><span data-stu-id="31982-105">Detect faces in images or videos</span></span>



<span data-ttu-id="31982-106">\[一部の情報はリリース前の製品に関する事項であり、正式版がリリースされるまでに大幅に変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="31982-106">\[Some information relates to pre-released product which may be substantially modified before it's commercially released.</span></span> <span data-ttu-id="31982-107">ここに記載された情報について、マイクロソフトは明示または黙示を問わずいかなる保証をするものでもありません。\]</span><span class="sxs-lookup"><span data-stu-id="31982-107">Microsoft makes no warranties, express or implied, with respect to the information provided here.\]</span></span>

<span data-ttu-id="31982-108">このトピックでは、[**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) を使って画像内の顔を検出する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="31982-108">This topic shows how to use the [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) to detect faces in an image.</span></span> <span data-ttu-id="31982-109">[**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150) は、ビデオ フレームのシーケンスで顔を経時的に追跡するように最適化されています。</span><span class="sxs-lookup"><span data-stu-id="31982-109">The [**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150) is optimized for tracking faces over time in a sequence of video frames.</span></span>

<span data-ttu-id="31982-110">[**FaceDetectionEffect**](https://msdn.microsoft.com/library/windows/apps/dn948776) を使った顔を追跡する別の方法については、「[メディア キャプチャのシーン分析](scene-analysis-for-media-capture.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="31982-110">For an alternative method of tracking faces using the [**FaceDetectionEffect**](https://msdn.microsoft.com/library/windows/apps/dn948776), see [Scene analysis for media capture](scene-analysis-for-media-capture.md).</span></span>

<span data-ttu-id="31982-111">この記事のコードは、[基本的な顔検出](http://go.microsoft.com/fwlink/p/?LinkId=620512&clcid=0x409)と[基本的な顔追跡](http://go.microsoft.com/fwlink/p/?LinkId=620513&clcid=0x409)のサンプルを基にしています。</span><span class="sxs-lookup"><span data-stu-id="31982-111">The code in this article was adapted from the [Basic Face Detection](http://go.microsoft.com/fwlink/p/?LinkId=620512&clcid=0x409) and [Basic Face Tracking](http://go.microsoft.com/fwlink/p/?LinkId=620513&clcid=0x409) samples.</span></span> <span data-ttu-id="31982-112">これらのサンプルをダウンロードし、該当するコンテキストで使われているコードを確認することも、サンプルを独自のアプリの開始点として使うこともできます。</span><span class="sxs-lookup"><span data-stu-id="31982-112">You can download these samples to see the code used in context or to use the sample as a starting point for your own app.</span></span>

## <a name="detect-faces-in-a-single-image"></a><span data-ttu-id="31982-113">1 つの画像内の顔を検出する</span><span class="sxs-lookup"><span data-stu-id="31982-113">Detect faces in a single image</span></span>

<span data-ttu-id="31982-114">[**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) クラスを使うと、静止画像内の 1 つまたは複数の顔を検出できます。</span><span class="sxs-lookup"><span data-stu-id="31982-114">The [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) class allows you to detect one or more faces in a still image.</span></span>

<span data-ttu-id="31982-115">この例では、次の名前空間の API を使っています。</span><span class="sxs-lookup"><span data-stu-id="31982-115">This example uses APIs from the following namespaces.</span></span>

[!code-cs[FaceDetectionUsing](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetFaceDetectionUsing)]

<span data-ttu-id="31982-116">[**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) オブジェクト用と、画像から検出される [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) オブジェクトの一覧用に、クラス メンバー変数を宣言しています。</span><span class="sxs-lookup"><span data-stu-id="31982-116">Declare a class member variable for the [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) object and for the list of [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) objects that will be detected in the image.</span></span>

[!code-cs[ClassVariables1](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetClassVariables1)]

<span data-ttu-id="31982-117">顔検出は、さまざまな方法で作成できる [**SoftwareBitmap**](https://msdn.microsoft.com/library/windows/apps/dn887358) オブジェクトに対して可能です。</span><span class="sxs-lookup"><span data-stu-id="31982-117">Face detection operates on a [**SoftwareBitmap**](https://msdn.microsoft.com/library/windows/apps/dn887358) object which can be created in a variety of ways.</span></span> <span data-ttu-id="31982-118">この例では、[**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847) を使って、顔が検出される画像ファイルをユーザーが選べるようにしています。</span><span class="sxs-lookup"><span data-stu-id="31982-118">In this example a [**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847) is used to allow the user to pick an image file in which faces will be detected.</span></span> <span data-ttu-id="31982-119">ソフトウェア ビットマップの操作の詳細については、「[イメージング](imaging.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="31982-119">For more information about working with software bitmaps, see [Imaging](imaging.md).</span></span>

[!code-cs[Picker](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetPicker)]

<span data-ttu-id="31982-120">[**BitmapDecoder**](https://msdn.microsoft.com/library/windows/apps/br226176) クラスを使って、**SoftwareBitmap** に画像ファイルをデコードします。</span><span class="sxs-lookup"><span data-stu-id="31982-120">Use the [**BitmapDecoder**](https://msdn.microsoft.com/library/windows/apps/br226176) class to decode the image file into a **SoftwareBitmap**.</span></span> <span data-ttu-id="31982-121">顔検出処理は、画像が小さいほど高速になるため、ソース画像の縮小が必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="31982-121">The face detection process is quicker with a smaller image and so you may want to scale the source image down to a smaller size.</span></span> <span data-ttu-id="31982-122">デコード中にこれを行うには、[**BitmapTransform**](https://msdn.microsoft.com/library/windows/apps/br226254) オブジェクトを作成し、[**ScaledWidth**](https://msdn.microsoft.com/library/windows/apps/br226261) および [**ScaledHeight**](https://msdn.microsoft.com/library/windows/apps/br226260) プロパティを設定して、そのオブジェクトを [**GetSoftwareBitmapAsync**](https://msdn.microsoft.com/library/windows/apps/dn887332) の呼び出しに渡します。これにより、デコードされて縮小された **SoftwareBitmap** が返されます。</span><span class="sxs-lookup"><span data-stu-id="31982-122">This can be performed during decoding by creating a [**BitmapTransform**](https://msdn.microsoft.com/library/windows/apps/br226254) object, setting the [**ScaledWidth**](https://msdn.microsoft.com/library/windows/apps/br226261) and [**ScaledHeight**](https://msdn.microsoft.com/library/windows/apps/br226260) properties and passing it into the call to [**GetSoftwareBitmapAsync**](https://msdn.microsoft.com/library/windows/apps/dn887332), which returns the decoded and scaled **SoftwareBitmap**.</span></span>

[!code-cs[Decode](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetDecode)]

<span data-ttu-id="31982-123">現在のバージョンでは、**FaceDetector** クラスでのみ Gray8 または Nv12 の画像がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="31982-123">In the current version, the **FaceDetector** class only supports images in Gray8 or Nv12.</span></span> <span data-ttu-id="31982-124">**SoftwareBitmap** クラスには、ビットマップの形式を変換する [**Convert**](https://msdn.microsoft.com/library/windows/apps/dn887362) メソッドが用意されています。</span><span class="sxs-lookup"><span data-stu-id="31982-124">The **SoftwareBitmap** class provides the [**Convert**](https://msdn.microsoft.com/library/windows/apps/dn887362) method, which converts a bitmap from one format to another.</span></span> <span data-ttu-id="31982-125">この例では、ソース画像を Gray8 ピクセル形式に変換しています (まだその形式になっていない場合)。</span><span class="sxs-lookup"><span data-stu-id="31982-125">This example converts the source image into the Gray8 pixel format if it is not already in that format.</span></span> <span data-ttu-id="31982-126">必要に応じて、[**GetSupportedBitmapPixelFormats**](https://msdn.microsoft.com/library/windows/apps/dn974140) および [**IsBitmapPixelFormatSupported**](https://msdn.microsoft.com/library/windows/apps/dn974142) メソッドを使って、ピクセル形式がサポートされているかどうかを実行時に調べることができます。これにより、サポートされている一連の形式が今後のバージョンで拡張される場合に備えることができます。</span><span class="sxs-lookup"><span data-stu-id="31982-126">If you want, you can use the [**GetSupportedBitmapPixelFormats**](https://msdn.microsoft.com/library/windows/apps/dn974140) and [**IsBitmapPixelFormatSupported**](https://msdn.microsoft.com/library/windows/apps/dn974142) methods to determine at runtime if a pixel format is supported, in case the set of supported formats is expanded in future versions.</span></span>

[!code-cs[Format](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetFormat)]

<span data-ttu-id="31982-127">[**CreateAsync**](https://msdn.microsoft.com/library/windows/apps/dn974132) を呼び出すことで **FaceDetector** オブジェクトをインスタンス化したら、[**DetectFacesAsync**](https://msdn.microsoft.com/library/windows/apps/dn974134) を呼び出して、適切なサイズに拡大縮小済み、サポートされているピクセル形式に変換済みのビットマップを渡します。</span><span class="sxs-lookup"><span data-stu-id="31982-127">Instantiate the **FaceDetector** object by calling [**CreateAsync**](https://msdn.microsoft.com/library/windows/apps/dn974132) and then calling [**DetectFacesAsync**](https://msdn.microsoft.com/library/windows/apps/dn974134), passing in the bitmap that has been scaled to a reasonable size and converted to a supported pixel format.</span></span> <span data-ttu-id="31982-128">このメソッドは [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) オブジェクトの一覧を返します。</span><span class="sxs-lookup"><span data-stu-id="31982-128">This method returns a list of [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) objects.</span></span> <span data-ttu-id="31982-129">**ShowDetectedFaces** はヘルパー メソッドであり、次に示しているように、画像内の顔の周りに四角形を描画します。</span><span class="sxs-lookup"><span data-stu-id="31982-129">**ShowDetectedFaces** is a helper method, shown below, that draws squares around the faces in the image.</span></span>

[!code-cs[Detect](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetDetect)]

<span data-ttu-id="31982-130">顔検出処理の実行中に作成されたオブジェクトは必ず破棄してください。</span><span class="sxs-lookup"><span data-stu-id="31982-130">Be sure to dispose of the objects that were created during the face detection process.</span></span>

[!code-cs[Dispose](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetDispose)]

<span data-ttu-id="31982-131">画像を表示し、検出された顔の周りに四角形を描画するには、XAML ページに [**Canvas**](https://msdn.microsoft.com/library/windows/apps/br209267) 要素を追加します。</span><span class="sxs-lookup"><span data-stu-id="31982-131">To display the image and draw boxes around the detected faces, add a [**Canvas**](https://msdn.microsoft.com/library/windows/apps/br209267) element to your XAML page.</span></span>

[!code-xml[Canvas](./code/FaceDetection_Win10/cs/MainPage.xaml#SnippetCanvas)]

<span data-ttu-id="31982-132">描画される四角形のスタイルの設定用に、いくつかのメンバー変数を定義します。</span><span class="sxs-lookup"><span data-stu-id="31982-132">Define some member variables to style the squares that will be drawn.</span></span>

[!code-cs[ClassVariables2](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetClassVariables2)]

<span data-ttu-id="31982-133">**ShowDetectedFaces** ヘルパー メソッドでは、新しい [**ImageBrush**](https://msdn.microsoft.com/library/windows/apps/br210101) が作成され、ソースが、ソース画像を表す **SoftwareBitmap**  から作成された [**SoftwareBitmapSource**](https://msdn.microsoft.com/library/windows/apps/dn997854) に設定されます。</span><span class="sxs-lookup"><span data-stu-id="31982-133">In the **ShowDetectedFaces** helper method, a new [**ImageBrush**](https://msdn.microsoft.com/library/windows/apps/br210101) is created and the source is set to a [**SoftwareBitmapSource**](https://msdn.microsoft.com/library/windows/apps/dn997854) created from the **SoftwareBitmap** representing the source image.</span></span> <span data-ttu-id="31982-134">XAML **Canvas** コントロールの背景がイメージ ブラシに設定されます。</span><span class="sxs-lookup"><span data-stu-id="31982-134">The background of the XAML **Canvas** control is set to the image brush.</span></span>

<span data-ttu-id="31982-135">ヘルパー メソッドに渡された顔の一覧が空でない場合は、一覧内の各顔をループし、[**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) クラスの [**FaceBox**](https://msdn.microsoft.com/library/windows/apps/dn974126) プロパティを使って、画像内で顔の周りの四角形の位置とサイズを調べます。</span><span class="sxs-lookup"><span data-stu-id="31982-135">If the list of faces passed into the helper method isn't empty, loop through each face in the list and use the [**FaceBox**](https://msdn.microsoft.com/library/windows/apps/dn974126) property of the [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) class to determine the position and size of the rectangle within the image that contains the face.</span></span> <span data-ttu-id="31982-136">**Canvas** コントロールはほとんどの場合、ソース画像と異なるサイズであるため、**FaceBox** の X 座標と Y 座標にも、幅と高さにも、拡大縮小値 (ソース画像のサイズと **Canvas** コントロールの実際のサイズとの比率) を掛ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="31982-136">Because the **Canvas** control is very likely to be a different size than the source image, you should multiply both the X and Y coordinates and the width and height of the **FaceBox** by a scaling value that is the ratio of the source image size to the actual size of the **Canvas** control.</span></span>

[!code-cs[ShowDetectedFaces](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetShowDetectedFaces)]

## <a name="track-faces-in-a-sequence-of-frames"></a><span data-ttu-id="31982-137">フレームのシーケンスで顔を追跡する</span><span class="sxs-lookup"><span data-stu-id="31982-137">Track faces in a sequence of frames</span></span>

<span data-ttu-id="31982-138">ビデオ内の顔を検出する場合は、[**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) よりも [**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150) クラスを使う方が効率的です。実装手順はほとんど同じです。</span><span class="sxs-lookup"><span data-stu-id="31982-138">If you want to detect faces in video, it is more efficient to use the [**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150) class rather than the [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) class, although the implementation steps are very similar.</span></span> <span data-ttu-id="31982-139">**FaceTracker** では、前に処理したフレームに関する情報を使って検出処理を最適化します。</span><span class="sxs-lookup"><span data-stu-id="31982-139">The **FaceTracker** uses information about previously processed frames to optimize the detection process.</span></span>

[!code-cs[FaceTrackingUsing](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetFaceTrackingUsing)]

<span data-ttu-id="31982-140">**FaceTracker** オブジェクトのクラス変数を宣言します。</span><span class="sxs-lookup"><span data-stu-id="31982-140">Declare a class variable for the **FaceTracker** object.</span></span> <span data-ttu-id="31982-141">この例では、[**ThreadPoolTimer**](https://msdn.microsoft.com/library/windows/apps/br230587) を使って、定義した間隔で顔追跡を開始します。</span><span class="sxs-lookup"><span data-stu-id="31982-141">This example uses a [**ThreadPoolTimer**](https://msdn.microsoft.com/library/windows/apps/br230587) to initiate face tracking on a defined interval.</span></span> <span data-ttu-id="31982-142">[SemaphoreSlim](https://msdn.microsoft.com/library/system.threading.semaphoreslim.aspx) を使って、同時に 1 つの顔追跡処理のみが実行されるようにします。</span><span class="sxs-lookup"><span data-stu-id="31982-142">A [SemaphoreSlim](https://msdn.microsoft.com/library/system.threading.semaphoreslim.aspx) is used to make sure that only one face tracking operation is running at a time.</span></span>

[!code-cs[ClassVariables3](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetClassVariables3)]

<span data-ttu-id="31982-143">顔追跡処理を初期化するには、[**CreateAsync**](https://msdn.microsoft.com/library/windows/apps/dn974151) を呼び出して新しい **FaceTracker** オブジェクトを作成します。</span><span class="sxs-lookup"><span data-stu-id="31982-143">To initialize the face tracking operation, create a new **FaceTracker** object by calling [**CreateAsync**](https://msdn.microsoft.com/library/windows/apps/dn974151).</span></span> <span data-ttu-id="31982-144">目的のタイマー間隔を初期化してから、タイマーを作成します。</span><span class="sxs-lookup"><span data-stu-id="31982-144">Initialize the desired timer interval and then create the timer.</span></span> <span data-ttu-id="31982-145">指定した間隔が経過するたびに **ProcessCurrentVideoFrame** ヘルパー メソッドが呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="31982-145">The **ProcessCurrentVideoFrame** helper method will be called every time the specified interval elapses.</span></span>

[!code-cs[TrackingInit](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetTrackingInit)]

<span data-ttu-id="31982-146">**ProcessCurrentVideoFrame** ヘルパー メソッドはタイマーによって非同期的に呼び出されるため、このメソッドはまず、セマフォの **Wait** メソッドを呼び出して、追跡処理が進行中であるかどうかを調べて、そうであれば、顔を検出しようとせずに戻ります。</span><span class="sxs-lookup"><span data-stu-id="31982-146">The **ProcessCurrentVideoFrame** helper is called asynchronously by the timer, so the method first calls the semaphore's **Wait** method to see if a tracking operation is ongoing, and if it is the method returns without trying to detect faces.</span></span> <span data-ttu-id="31982-147">このメソッドの最後で、セマフォの **Release** メソッドが呼び出され、後続の **ProcessCurrentVideoFrame** が呼び出されて、処理が続行されます。</span><span class="sxs-lookup"><span data-stu-id="31982-147">At the end of this method, the semaphore's **Release** method is called, which allows the subsequent call to **ProcessCurrentVideoFrame** to continue.</span></span>

<span data-ttu-id="31982-148">[**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150) クラスは [**VideoFrame**](https://msdn.microsoft.com/library/windows/apps/dn930917) オブジェクトに対して使えます。</span><span class="sxs-lookup"><span data-stu-id="31982-148">The [**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150) class operates on [**VideoFrame**](https://msdn.microsoft.com/library/windows/apps/dn930917) objects.</span></span> <span data-ttu-id="31982-149">**VideoFrame** を取得するには、複数の方法があります。たとえば、実行中の [MediaCapture](capture-photos-and-video-with-mediacapture.md) オブジェクトからプレビュー フレームをキャプチャします。または、[**IBasicVideoEffect**](https://msdn.microsoft.com/library/windows/apps/dn764788) の [**ProcessFrame**](https://msdn.microsoft.com/library/windows/apps/dn764784) メソッドを実装します。</span><span class="sxs-lookup"><span data-stu-id="31982-149">There are multiple ways you can obtain a **VideoFrame** including capturing a preview frame from a running [MediaCapture](capture-photos-and-video-with-mediacapture.md) object or by implementing the [**ProcessFrame**](https://msdn.microsoft.com/library/windows/apps/dn764784) method of the [**IBasicVideoEffect**](https://msdn.microsoft.com/library/windows/apps/dn764788).</span></span> <span data-ttu-id="31982-150">この例では、ビデオ フレームを返す未定義のヘルパー メソッド **GetLatestFrame** をこの処理のプレースホルダーとして使っています。</span><span class="sxs-lookup"><span data-stu-id="31982-150">This example uses an undefined helper method that returns a video frame, **GetLatestFrame**, as a placeholder for this operation.</span></span> <span data-ttu-id="31982-151">実行中のメディア キャプチャ デバイスのプレビュー ストリームからビデオ フレームを取得する方法について詳しくは、「[プレビュー フレームの取得](get-a-preview-frame.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="31982-151">For information about getting video frames from the preview stream of a running media capture device, see [Get a preview frame](get-a-preview-frame.md).</span></span>

<span data-ttu-id="31982-152">**FaceDetector** と同様、**FaceTracker** でも、サポートされていないピクセル形式があります。</span><span class="sxs-lookup"><span data-stu-id="31982-152">As with **FaceDetector**, the **FaceTracker** supports a limited set of pixel formats.</span></span> <span data-ttu-id="31982-153">この例では、渡されたフレームが Nv12 形式でない場合は顔検出を破棄します。</span><span class="sxs-lookup"><span data-stu-id="31982-153">This example abandons face detection if the supplied frame is not in the Nv12 format.</span></span>

<span data-ttu-id="31982-154">[**ProcessNextFrameAsync**](https://msdn.microsoft.com/library/windows/apps/dn974157) を呼び出して、フレーム内の顔を表す [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) オブジェクトの一覧を取得します。</span><span class="sxs-lookup"><span data-stu-id="31982-154">Call [**ProcessNextFrameAsync**](https://msdn.microsoft.com/library/windows/apps/dn974157) to retrieve a list of [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) objects representing the faces in the frame.</span></span> <span data-ttu-id="31982-155">顔の一覧を取得したら、顔検出について先ほど説明した同じ方法でそれらの顔を表示できます。</span><span class="sxs-lookup"><span data-stu-id="31982-155">After you have the list of faces, you can display them in the same manner described above for face detection.</span></span> <span data-ttu-id="31982-156">顔追跡ヘルパー メソッドは UI スレッドで呼び出されないため、[**CoredDispatcher.RunAsync**](https://msdn.microsoft.com/library/windows/apps/hh750317) の呼び出し内で UI の更新をすべて行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="31982-156">Note that, because the face tracking helper method is not called on the UI thread, you must make any UI updates in within a call [**CoredDispatcher.RunAsync**](https://msdn.microsoft.com/library/windows/apps/hh750317).</span></span>

[!code-cs[ProcessCurrentVideoFrame](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetProcessCurrentVideoFrame)]

## <a name="related-topics"></a><span data-ttu-id="31982-157">関連トピック</span><span class="sxs-lookup"><span data-stu-id="31982-157">Related topics</span></span>

* [<span data-ttu-id="31982-158">メディア キャプチャのシーン分析</span><span class="sxs-lookup"><span data-stu-id="31982-158">Scene analysis for media capture</span></span>](scene-analysis-for-media-capture.md)
* [<span data-ttu-id="31982-159">基本的な顔検出のサンプル</span><span class="sxs-lookup"><span data-stu-id="31982-159">Basic Face Detection sample</span></span>](http://go.microsoft.com/fwlink/p/?LinkId=620512&clcid=0x409)
* [<span data-ttu-id="31982-160">基本的な顔追跡のサンプル</span><span class="sxs-lookup"><span data-stu-id="31982-160">Basic Face Tracking sample</span></span>](http://go.microsoft.com/fwlink/p/?LinkId=620513&clcid=0x409)
* [<span data-ttu-id="31982-161">カメラ</span><span class="sxs-lookup"><span data-stu-id="31982-161">Camera</span></span>](camera.md)
* [<span data-ttu-id="31982-162">MediaCapture を使った基本的な写真、ビデオ、およびオーディオのキャプチャ</span><span class="sxs-lookup"><span data-stu-id="31982-162">Basic photo, video, and audio capture with MediaCapture</span></span>](basic-photo-video-and-audio-capture-with-MediaCapture.md)
* [<span data-ttu-id="31982-163">メディア再生</span><span class="sxs-lookup"><span data-stu-id="31982-163">Media playback</span></span>](media-playback.md)
